webpackJsonp([26],{kak5:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Lo3X"),o=e("iVvP"),n=e("xBL0"),i={name:"verify-gift",data:function(){return{detail:""}},computed:{isDisabled:function(){return 1!=this.detail.state}},created:function(){this.loadData()},methods:{loadData:function(){var t=this,a=t.$route.params.code;Object(n.b)(a).then(function(a){1==a.code?(t.detail=a.data,t.$refs.load.success()):(t.$refs.load.result(),t.$Dialog.alert({showCancelButton:!0,message:a.data.prompt}).then(function(){t.$store.dispatch("selectStore",a.data.store_id).then(function(){t.loadData()})}).catch(function(){t.$router.back()}))}).catch(function(){t.$refs.load.fail()})},onVerify:function(){var t=this;t.$Dialog.confirm({message:"确定兑换吗？"}).then(function(){Object(n.f)(t.$route.params.code).then(function(a){t.$Toast.success("兑换成功"),setTimeout(function(){t.loadData()},500)})})}},components:{GoodsCard:s.a,Empty:o.a}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Layout",{ref:"load",staticClass:"verify-gift bg-f8"},[e("Navbar"),t._v(" "),t.detail?e("van-cell-group",{staticClass:"card-group-box"},[e("van-cell",[e("GoodsCard",{attrs:{title:t.detail.gift_name,thumb:t.detail.pic_cover_mid}},[1!=t.detail.state?e("div",{staticClass:"text-maintone",attrs:{slot:"bottom"},slot:"bottom"},[t._v(t._s(t.detail.state_name))]):t._e()])],1),t._v(" "),e("van-cell",[e("van-row",{staticClass:"btn-group",attrs:{type:"flex",justify:"end"}},[e("van-button",{staticClass:"btn",attrs:{size:"small",disabled:t.isDisabled},on:{click:t.onVerify}},[t._v("兑换")])],1)],1)],1):e("Empty",{attrs:{"page-type":"order",message:"没有相关礼品","show-foot":!1}})],1)},staticRenderFns:[]},c=e("VU/8")(i,r,!1,null,null,null);a.default=c.exports}});