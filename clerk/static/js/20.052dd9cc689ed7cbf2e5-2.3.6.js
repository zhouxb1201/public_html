webpackJsonp([20],{"91XA":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("N1W7"),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"verify bg-f8"},[a("Navbar"),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"qr e-handle",on:{click:t.onScan}},[a("van-icon",{attrs:{name:"scan",color:"#666",size:"12em"}})],1),t._v(" "),a("div",{staticClass:"text"},[t._v("点击上方图标进行扫码")])]),t._v(" "),a("van-cell-group",{staticClass:"flex-foot cell-group"},[a("van-field",{attrs:{"left-icon":"idcard",placeholder:"扫码没反应？试试手动输入",clearable:""},model:{value:t.value,callback:function(e){t.value="string"==typeof e?e.trim():e},expression:"value"}},[a("van-button",{attrs:{slot:"button",size:"mini",type:"danger"},on:{click:t.onConfirm},slot:"button"},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var i=function(t){a("mH8e")},s=a("VU/8")(n.a,o,!1,i,"data-v-0165058e",null);e.default=s.exports},N1W7:function(t,e,a){"use strict";(function(t){var n=a("oFuF"),o=a("msXN");e.a={name:"verify",data:function(){return{value:""}},mixins:[o.a],beforeRouteEnter:function(e,a,o){"/clerk"+e.path!==t.location.pathname&&Object(n.g)()?location.assign("/clerk"+e.fullPath):o()},methods:{onScan:function(){var t=this;this.$store.dispatch("scanQRCode").then(function(e){if(e)if(-1!==e.indexOf("http://")||-1!==e.indexOf("https://"))window.location.href=e;else{var a=t.validCode(e);a&&t.onPost(a)}else t.$Toast("扫码出错")})},onConfirm:function(){var t=this.validCode(this.value);this.onPost(t)},onPost:function(t){switch(this.getCodeType(t)){case"A":this.$router.push({name:"verify-order",params:{code:t}});break;case"B":this.$router.push({name:"verify-cardvoucher",params:{code:t}});break;case"C":this.$router.push({name:"verify-gift",params:{code:t}})}},getCodeType:function(t){var e="";return t&&(e=t.substr(0,1)),e},validCode:function(t){return/^[A-C][0-9]*$/.test(t)?t:(this.$Toast("请输入正确提货码！"),!1)}}}}).call(e,a("DuR2"))},mH8e:function(t,e){}});