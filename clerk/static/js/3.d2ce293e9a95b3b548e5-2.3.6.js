webpackJsonp([3],{"2PJN":function(t,e){},IaLg:function(t,e){},ImkN:function(t,e){},Pf0w:function(t,e){},R4l0:function(t,e){},RGxH:function(t,e){},Sfym:function(t,e){},V6aL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=s("bOdI"),n=s.n(i),r=(s("nsZj"),s("Pf0w"),s("o69Z")),l=s("LmuL"),o=s("+2ln"),c=Object(r.j)("steps"),d=c[0],u=c[1],v=d({props:{icon:String,title:String,active:Number,iconClass:String,description:String,direction:{type:String,default:"horizontal"},activeColor:{type:String,default:l.c},activeIcon:{type:String,default:"checked"}},data:function(){return{steps:[]}},render:function(t){var e=this.icon,s=this.title,a=this.description,i=this.slots,n=(i("icon")||e)&&t("div",{class:u("icon")},[i("icon")||t(o.a,{attrs:{name:e},class:this.iconClass})]),r=t("div",{class:u("message")},[t("div",{class:u("title")},[s]),t("div",{class:[u("desc"),"van-ellipsis"]},[a])]);return t("div",{class:u([this.direction])},[(s||a)&&t("div",{class:u("status")},[n,r,i("message-extra")]),t("div",{class:u("items",{alone:!s&&!a})},[i()])])}}),p=(s("RGxH"),Object(r.j)("step")),f=p[0],_=p[1],m=f({beforeCreate:function(){var t=this.$parent.steps,e=this.$parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this)},beforeDestroy:function(){var t=this.$parent.steps.indexOf(this);t>-1&&this.$parent.steps.splice(t,1)},computed:{status:function(){var t=this.$parent.steps.indexOf(this),e=this.$parent.active;return t<e?"finish":t===e?"process":void 0}},render:function(t){var e,s=this.status,a=this.$parent,i=a.activeIcon,n=a.activeColor,r=a.direction,l="process"===s&&{color:n};return t("div",{class:["van-hairline",_([r,(e={},e[s]=s,e)])]},[t("div",{class:_("title"),style:l},[this.slots()]),t("div",{class:_("circle-container")},["process"!==s?t("i",{class:_("circle")}):this.slots("active-icon")||t(o.a,{attrs:{name:i},style:{color:n}})]),t("div",{class:_("line")})])}}),h={data:function(){return{}},props:{status:{type:[Number,String]}},components:(a={},n()(a,m.name,m),n()(a,v.name,v),a)},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0===t.status?s("van-row",{staticClass:"head",attrs:{type:"flex",justify:"space-between"}},[s("van-col",{attrs:{span:"16"}},[s("div",{staticClass:"text pl-15"},[s("div",{staticClass:"fs-16"},[t._v("等待买家付款")]),t._v(" "),s("div",{staticClass:"fs-12"},[t._v("逾期未付款，订单将自动取消")])])]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.$BASEIMGPATH+"order-detail-"+t.status+".png"}})])])],1):1===t.status||2===t.status||3===t.status?s("van-row",{staticClass:"head",attrs:{type:"flex",justify:"space-between"}},[s("van-col",{attrs:{span:"16"}},[s("van-steps",{staticClass:"steps",attrs:{active:t.status-1,"active-color":"#ffcc64"}},[s("van-step",{staticClass:"item"},[t._v("已付款")]),t._v(" "),s("van-step",{staticClass:"item"},[t._v("已发货")]),t._v(" "),s("van-step",{staticClass:"item"},[t._v("已签收")])],1)],1),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.$BASEIMGPATH+"order-detail-"+t.status+".png"}})])])],1):4===t.status||5===t.status?s("van-row",{staticClass:"head",attrs:{type:"flex",justify:"center"}},[s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.$BASEIMGPATH+"order-detail-"+t.status+".png"}})]),t._v(" "),s("div",{staticClass:"text text-center"},[t._v(t._s(4===t.status?"交易完成":"订单关闭"))])])],1):-1===t.status?s("van-row",{staticClass:"head",attrs:{type:"flex",justify:"center"}},[s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.$BASEIMGPATH+"order-detail-"+t.status+".png"}})]),t._v(" "),s("div",{staticClass:"text text-center"},[t._v("售后中")])])],1):s("van-row",{staticClass:"head",attrs:{type:"flex"}})},staticRenderFns:[]};var C=s("VU/8")(h,g,!1,function(t){s("2PJN")},"data-v-440d5f46",null).exports,b={props:{columns:Array,textAlign:{type:String,default:"left"}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-cell-group",[t._t("head"),t._v(" "),s("van-cell",t._l(t.columns,function(e,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"value",style:{textAlign:t.textAlign,color:e.color}},[t._v(t._s(e.value))])])}))],2)},staticRenderFns:[]};var y=s("VU/8")(b,x,!1,function(t){s("R4l0")},"data-v-1ea3c52c",null).exports,$=s("oFuF"),j={props:{detail:Object},computed:{columns:function(){var t=this.detail,e=t.shop_name,s=t.order_status,a=t.payment_type_name,i=[{title:"商家店铺",value:e},{title:"订单编号",value:t.order_no}];return 0!==s&&5!==s&&i.push({title:"支付方式",value:a,color:"#ff454e"}),i}},components:{CellInfoGroup:y}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("CellInfoGroup",{attrs:{columns:this.columns}},[e("van-cell",{attrs:{slot:"head",icon:"orders-o",title:"订单信息"},slot:"head"})],1)},staticRenderFns:[]};var I=s("VU/8")(j,O,!1,function(t){s("ImkN")},"data-v-e5e8b010",null).exports,w={props:{info:Object}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-cell-group",[s("van-cell",{attrs:{icon:"location-o",title:t.info.title}}),t._v(" "),s("van-cell",[s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[s("van-col",{staticClass:"text-nowrap",attrs:{span:"14"}},[t._v(t._s(t.info.name))]),t._v(" "),s("van-col",{staticClass:"text-right fs-12 text-secondary",attrs:{span:"10"}},[t._v(t._s(t.info.mobile))])],1),t._v(" "),s("div",{staticClass:"address fs-12 text-secondary"},[s("van-col",{attrs:{span:"24"}},[t._v(t._s(t.info.address))])],1)])])],1)},staticRenderFns:[]},S=s("VU/8")(w,G,!1,null,null,null).exports,A={props:{detail:Object},computed:{info:function(){var t=this.detail,e=t.store_id,s=t.store_name,a=t.store_tel,i=t.shop_name,n=t.receiver_name,r=t.receiver_mobile,l=t.receiver_province,o=t.receiver_city,c=t.receiver_district,d=t.receiver_address,u={};return u.title=e?"提货地址":"收货地址",u.name=e?i+"（"+s+"）":n,u.mobile=e?a:r,u.address=l+o+c+d,u}},components:{CellAddressGroup:S}},D={render:function(){var t=this.$createElement;return(this._self._c||t)("CellAddressGroup",{attrs:{info:this.info}})},staticRenderFns:[]},F=s("VU/8")(A,D,!1,null,null,null).exports,N={data:function(){return{}},props:{status:{type:[Number,String]},orderid:{type:[Number,String]},info:{type:Object}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return 2!==t.status&&3!==t.status&&4!==t.status||!t.info.mailNo?s("van-cell-group",[s("van-cell",[s("div",{staticClass:"empty"},[t._v("暂无物流信息")])])],1):s("van-cell-group",[s("van-cell",{staticClass:"nowrap",attrs:{icon:"v-icon-logistic6",title:t.info.expTextName+" "+t.info.mailNo,"is-link":"",value:"更多",to:{name:"order-logistics",params:{orderid:t.orderid}}}}),t._v(" "),t.info.newestInfo?s("van-cell",[s("div",{staticClass:"text"},[t._v(t._s(t.info.newestInfo.context))]),t._v(" "),s("div",{staticClass:"fs-12 text-regular"},[t._v(t._s(t.info.newestInfo.time))])]):t._e()],1)},staticRenderFns:[]};var E=s("VU/8")(N,k,!1,function(t){s("IaLg")},"data-v-154b3b4b",null).exports,R={props:{detail:Object}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("van-cell-group",[e("van-cell",{attrs:{icon:"edit",title:"买家留言"}}),this._v(" "),e("van-cell",[e("van-col",{staticClass:"text-regular fs-12",attrs:{span:"24"}},[this._v(this._s(this.detail.buyer_message?this.detail.buyer_message:"该订单没有留言"))])],1)],1)},staticRenderFns:[]},V=s("VU/8")(R,U,!1,null,null,null).exports,L=s("Lo3X"),H={data:function(){return{}},props:{detail:{type:Object}},components:{GoodsCard:L.a}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("van-cell-group",[e("van-cell",{attrs:{icon:"shop-o"}},[e("van-row",{attrs:{slot:"title",type:"flex"},slot:"title"},[e("span",[this._v(this._s(this.detail.shop_name))]),this._v(" "),e("van-icon",{staticClass:"van-cell__right-icon",attrs:{name:"arrow"}})],1)],1),this._v(" "),e("van-cell",this._l(this.detail.order_goods,function(t,s){return e("GoodsCard",{key:s,staticClass:"goods-card",attrs:{num:t.num,price:t.price,desc:t.sku_name,title:t.goods_name,thumb:t.pic_cover}})}))],1)},staticRenderFns:[]};var T=s("VU/8")(H,P,!1,function(t){s("Sfym")},"data-v-6cd9cd61",null).exports,M=s("9GaH"),B={props:{detail:Object},computed:{columns:function(){var t=this.detail,e=t.goods_money,s=t.order_money,a=t.shipping_fee,i=t.promotion_money,n=t.deduction_money,r=[{title:"商品总额",value:Object(M.yuan)(e),color:"#ff454e"}];return parseFloat(n)>0&&r.push({title:"积分抵扣",value:Object(M.yuan)(n),color:"#ff454e"}),r.push({title:"运费",value:Object(M.yuan)(a),color:"#ff454e"},{title:"优惠金额",value:Object(M.yuan)(i),color:"#ff454e"},{title:"实付",value:Object(M.yuan)(s),color:"#ff454e"}),r}},components:{CellInfoGroup:y}},J={render:function(){var t=this.$createElement;return(this._self._c||t)("CellInfoGroup",{attrs:{columns:this.columns,"text-align":"right"}})},staticRenderFns:[]},z=s("VU/8")(B,J,!1,null,null,null).exports,Z=s("9U1p"),W=s("FWz8"),X={name:"order-detail",data:function(){return{detail:{},logistic_info:{}}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;Object(W.c)(t.$route.params.orderid).then(function(e){var s=e.data;if(t.detail=s,!Object($.f)(t.detail.goods_packet_list)){var a=t.detail.goods_packet_list[0].shipping_info;if(a){var i={};i.expTextName=a.expTextName,i.mailNo=a.mailNo,i.newestInfo=Object($.f)(a.data)?"":a.data[0],t.logistic_info=i}}t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},onCallback:function(t){var e=t.message,s=this;s.$Toast.success(e),setTimeout(function(){s.$router.replace({name:"order-list"})},1e3)}},components:{DetailHead:C,DetailInfo:I,DetailAddress:F,DetailLogistic:E,DetailMessage:V,DetailGoods:T,DetailLog:z,FootOperation:Z.a}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Layout",{ref:"load",staticClass:"order-detail bg-f8"},[s("Navbar"),t._v(" "),s("DetailHead",{attrs:{status:t.detail.order_status}}),t._v(" "),t.detail.card_store_id?t._e():s("DetailAddress",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),s("DetailGoods",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),s("DetailMessage",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),s("DetailInfo",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),s("DetailLog",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),t.detail.member_operation&&t.detail.member_operation.length>0?s("div",{staticClass:"foot"},[s("FootOperation",{attrs:{info:t.detail},on:{callback:t.onCallback}})],1):t._e()],1)},staticRenderFns:[]};var K=s("VU/8")(X,q,!1,function(t){s("kb21")},"data-v-746b066c",null);e.default=K.exports},kb21:function(t,e){}});