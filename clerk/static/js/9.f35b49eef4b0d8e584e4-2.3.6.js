webpackJsonp([9],{"1uQy":function(t,a,e){"use strict";var s=e("Lo3X"),n=e("9U1p"),r=e("oFuF"),i={data:function(){return{}},props:{items:{type:Object}},filters:{filterSpec:function(t){if(Object(r.f)(t))return"";var a=[];return t.forEach(function(t){var e=t.spec_name+" "+t.spec_value_name;a.push(e)}),a.join(" , ")}},methods:{onCallback:function(t){this.$emit("init-list",t)}},components:{GoodsCard:s.a,FootOperation:n.a}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("van-cell-group",{staticClass:"item card-group-box",attrs:{border:!1}},[e("van-cell",{attrs:{icon:"shop-o",value:t.items.status_name,"value-class":"text-maintone"}},[e("van-row",{attrs:{slot:"title",type:"flex"},slot:"title"},[e("span",[t._v(t._s(t.items.shop_name))]),t._v(" "),e("van-icon",{staticClass:"van-cell__right-icon",attrs:{name:"arrow"}})],1)],1),t._v(" "),e("van-cell",t._l(t.items.order_goods,function(a,s){return e("GoodsCard",{key:s,staticClass:"goods-card",attrs:{lazyLoad:"",num:a.num,price:a.price,desc:t._f("filterSpec")(a.spec),title:a.goods_name,thumb:a.pic_cover}})})),t._v(" "),e("van-cell",[e("van-row",{staticClass:"van-cell__value",attrs:{type:"flex",justify:"end"}},[e("van-col",[0!==t.items.order_status?e("span",{staticClass:"pay-type-text"},[t._v(t._s(t.items.pay_type_name))]):t._e(),t._v(" "),e("span",[t._v(t._s(0===t.items.order_status?"待支付":"实付"))]),t._v(":\n        "),e("span",{staticClass:"pay-money-text"},[t._v(t._s(t._f("yuan")(t.items.order_money)))])])],1)],1),t._v(" "),e("van-cell",[e("FootOperation",{attrs:{info:t.items},on:{callback:t.onCallback}})],1)],1)},staticRenderFns:[]};var c=e("VU/8")(i,o,!1,function(t){e("Nkyl")},"data-v-34662705",null);a.a=c.exports},Nkyl:function(t,a){},P7NE:function(t,a){},h5xq:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("ORU3"),n=e("1uQy"),r=e("FWz8"),i=e("oFuF"),o={name:"order-list",data:function(){return{tab_active:0,tabs:[{name:"全部",status:""},{name:"待提货",status:1},{name:"已提货",status:3},{name:"已完成",status:4}],params:{order_status:Object(i.f)(this.$route.query)?"":this.$route.query.status,search_text:""}}},watch:{"$route.query.status":function(t){void 0!==t&&(this.params.order_status=t,this.params.search_text="",this.loadList("init"))}},mixins:[e("msXN").c],created:function(){this.loadList()},methods:{onTab:function(t){var a=this.tabs[t].status;this.params.order_status=a,this.loadList("init")},onSearch:function(t){this.params.search_text=t,this.loadList("init")},loadList:function(t){var a=this;t&&"init"===t&&a.initList(),Object(r.d)(a.params).then(function(e){var s=e.data,n=s.order_list.map(function(t){return t.order_goods=t.order_item_list,t});a.pushToList(n,s.page_count,t)}).catch(function(){a.loadError()})},onInitList:function(t){var a=t.message,e=this;e.$Toast.success(a),setTimeout(function(){e.loadList("init")},1e3)}},components:{HeadTab:s.a,OrderPanelGroup:n.a}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"order-list bg-f8"},[e("Navbar"),t._v(" "),e("HeadTab",{attrs:{tabs:t.tabs,"search-placeholder":"订单号/商品名称","show-search":"","search-text":t.params.search_text},on:{"tab-change":t.onTab,search:t.onSearch},model:{value:t.tab_active,callback:function(a){t.tab_active=a},expression:"tab_active"}}),t._v(" "),e("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"order",message:"没有相关订单"}},on:{"update:error":function(a){t.error=a},load:t.loadList},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,function(a,s){return e("OrderPanelGroup",{key:s,attrs:{items:a},on:{"init-list":t.onInitList}})}))],1)},staticRenderFns:[]};var l=e("VU/8")(o,c,!1,function(t){e("P7NE")},"data-v-56c1679d",null);a.default=l.exports}});