webpackJsonp([2],{"3UG7":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44}}},"3gWi":function(t,e,n){"use strict";var i=n("nsZj"),s=(n.n(i),n("yU4Z"));n.n(s)},"5Hoj":function(t,e){},BuIE:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t,e){var n=i.indexOf(t.charAt(e));if(-1===n)throw"Cannot decode base64";return n},o=function(t,e){for(;t.length>0;){var n=t[0];if(n<128)t.shift(),e.push(String.fromCharCode(n));else if(192==(128&n)){if(t.length<2)break;n=t.shift();var i=t.shift();e.push(String.fromCharCode(((31&n)<<6)+(63&i)))}else{if(t.length<3)break;n=t.shift();i=t.shift();var s=t.shift();e.push(String.fromCharCode(((15&n)<<12)+((63&i)<<6)+(63&s)))}}},a=function(t){var e,n,i=0,a=t.length,r=[],u=[];if(t=String(t),0===a)return t;if(a%4!=0)throw"Cannot decode base64";for("="===t.charAt(a-1)&&(i=1,"="===t.charAt(a-2)&&(i=2),a-=4),e=0;e<a;e+=4){s(t,e),s(t,e+1),s(t,e+2),s(t,e+3);n=s(t,e)<<18|s(t,e+1)<<12|s(t,e+2)<<6|s(t,e+3),u.push(n>>16),u.push(n>>8&255),u.push(255&n),o(u,r)}switch(i){case 1:n=s(t,e)<<18|s(t,e+1)<<12|s(t,e+2)<<6,u.push(n>>16),u.push(n>>8&255);break;case 2:n=s(t,e)<<18|s(t,e+1)<<12,u.push(n>>16)}if(o(u,r),u.length>0)throw"Cannot decode base64";return r.join("")},r=function(t,e){t<128?e.push(t):t<2048?(e.push(192+(t>>6&31)),e.push(128+(63&t))):(e.push(224+(t>>12&15)),e.push(128+(t>>6&63)),e.push(128+(63&t)))},u=function(t){if(0===(t=String(t)).length)return t;var e,n,s=[],o=[],a=t.length;for(e=0;e<a;){for(r(t.charCodeAt(e),s);s.length>=3;){n=s.shift()<<16|s.shift()<<8|s.shift(),o.push(i.charAt(n>>18)),o.push(i.charAt(n>>12&63)),o.push(i.charAt(n>>6&63)),o.push(i.charAt(63&n))}e++}switch(s.length){case 1:n=s.shift()<<16,o.push(i.charAt(n>>18)+i.charAt(n>>12&63)+"==");break;case 2:n=s.shift()<<16|s.shift()<<8,o.push(i.charAt(n>>18)+i.charAt(n>>12&63)+i.charAt(n>>6&63)+"=")}return o.join("")}},Bvnn:function(t,e){},MGWs:function(t,e){},ZxCb:function(t,e,n){"use strict";var i=n("AA6R"),s=n.n(i),o=n("o69Z"),a=n("pIDD"),r={value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1},size:{type:String,default:"30px"}},u=n("rhik"),l=Object(o.j)("switch"),c=l[0],h=l[1];function f(t,e,n,i){var o=e.value,r=e.loading,l=e.disabled,c=e.activeValue,f=e.inactiveValue,d={fontSize:e.size,backgroundColor:o?e.activeColor:e.inactiveColor};return t("div",s()([{class:h({on:o===c,disabled:l}),style:d,on:{click:function(){if(!l&&!r){var t=o===c?f:c;Object(u.a)(i,"input",t),Object(u.a)(i,"change",t)}}}},Object(u.b)(i)]),[t("div",{class:h("node")},[r&&t(a.a,{class:h("loading")})])])}f.props=r;e.a=c(f)},"qWG/":function(t,e,n){"use strict";var i=n("WPoX"),s=n("o69Z"),o=n("sM86"),a=n("54/E");function r(t){return Array.isArray(t)?t.map(function(t){return r(t)}):"object"==typeof t?Object(a.a)({},t):t}var u=n("3UG7"),l=n("pIDD"),c=Object(s.j)("picker-column"),h=c[0],f=c[1],d=h({props:{valueKey:String,className:String,itemHeight:Number,defaultIndex:Number,initialOptions:Array,visibleItemCount:Number},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:r(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length}},methods:{onTouchStart:function(t){this.startY=t.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(t){Object(o.c)(t);var e=t.touches[0].clientY-this.startY;this.offset=Object(s.i)(this.startOffset+e,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=200;var t=Object(s.i)(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(t,!0)}},adjustIndex:function(t){for(var e=t=Object(s.i)(t,0,this.count);e<this.count;e++)if(!this.isDisabled(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!this.isDisabled(this.options[n]))return n},isDisabled:function(t){return Object(s.f)(t)&&t.disabled},getOptionText:function(t){return Object(s.f)(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,t!==this.currentIndex&&(this.currentIndex=t,e&&this.$emit("change",t))},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]}},render:function(t){var e=this,n=this.itemHeight,i=this.visibleItemCount,s={height:n*i+"px"},o=n*(i-1)/2,a={transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+o)+"px, 0)",lineHeight:n+"px"},r={height:n+"px"};return t("div",{style:s,class:[f(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("ul",{style:a},[this.options.map(function(n,i){return t("li",{style:r,class:["van-ellipsis",f("item",{disabled:e.isDisabled(n),selected:i===e.currentIndex})],domProps:{innerHTML:e.getOptionText(n)},on:{click:function(){e.setIndex(i,!0)}}})})])])}}),p=Object(s.j)("picker"),v=p[0],m=p[1],g=p[2];e.a=v({props:Object(i.a)({},u.a,{columns:Array,defaultIndex:{type:Number,default:0},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this;(this.simple?[{values:this.columns}]:this.columns).forEach(function(e,n){t.setColumnValues(n,r(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&n.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&n.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&JSON.stringify(n.options)!==JSON.stringify(e)&&(n.options=e,n.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,n){e.setColumnValue(n,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,n){e.setColumnIndex(n,t)})},onConfirm:function(){this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(t){var e=this,n=this.itemHeight,i=this.simple?[this.columns]:this.columns,s={height:n+"px"},a={height:n*this.visibleItemCount+"px"},r=this.showToolbar&&t("div",{class:["van-hairline--top-bottom",m("toolbar")]},[this.slots()||[t("div",{class:m("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||g("cancel")]),this.slots("title")||this.title&&t("div",{class:["van-ellipsis",m("title")]},[this.title]),t("div",{class:m("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||g("confirm")])]]);return t("div",{class:m()},[r,this.loading?t("div",{class:m("loading")},[t(l.a)]):t(),t("div",{class:m("columns"),style:a,on:{touchmove:o.c}},[i.map(function(n,i){return t(d,{attrs:{valueKey:e.valueKey,className:n.className,itemHeight:e.itemHeight,defaultIndex:n.defaultIndex||e.defaultIndex,visibleItemCount:e.visibleItemCount,initialOptions:e.simple?n:n.values},on:{change:function(){e.onChange(i)}}})}),t("div",{class:["van-hairline--top-bottom",m("frame")],style:s})])])}})},"wW8/":function(t,e){},xRHo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("bOdI"),s=n.n(i),o=(n("3gWi"),n("ZxCb")),a=n("Dd8w"),r=n.n(a),u=(n("nsZj"),n("5Hoj"),n("qWG/")),l={data:function(){return{value:"",isShow:!1}},props:{columns:{type:Array,default:[],required:!0},label:{type:String},placeholder:{type:String},popupTitle:{type:String},required:{type:Boolean,default:!1}},methods:{onConfirm:function(t,e){this.isShow=!1,this.value="string"==typeof t?t:t.text,this.$emit("confirm",t)}},components:s()({},u.a.name,u.a)},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-field",{class:t.required?"van-cell--required":"",attrs:{label:t.label,readonly:"",placeholder:t.placeholder,value:t.value},on:{click:function(e){t.isShow=!0}}}),t._v(" "),n("div",[n("van-popup",{attrs:{position:"bottom"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("van-picker",{attrs:{columns:t.columns,"show-toolbar":"",title:t.popupTitle},on:{confirm:t.onConfirm,cancel:function(e){t.isShow=!1}}})],1)],1)],1)},staticRenderFns:[]};var h,f=n("VU/8")(l,c,!1,function(t){n("wW8/")},"data-v-7e311c5c",null).exports,d=n("w3CS"),p={assistant_id:null,assistant_name:null,assistant_tel:null,password:null,jobs_id:null,status:0},v={data:function(){return{status:!!this.info.status}},props:{info:{type:Object,default:function(){return r()({},p)}},jobs:Array,isSaving:Boolean},computed:{isEdit:function(){return!!this.info.assistant_id}},methods:{onJobs:function(t){var e=t.id;t.name;this.info.jobs_id=e},vaild:function(){var t=this.info;return!!(Object(d.e)(t.assistant_name,"店员名称不能为空")&&Object(d.e)(t.jobs_id,"请选择岗位")&&Object(d.b)(t.assistant_tel)&&(Object(d.d)(t.password)||this.isEdit))&&(t.status=this.status?1:0,t)},onSave:function(){var t=this.vaild();t&&!this.isSaving&&this.$emit("save",t)}},components:(h={},s()(h,o.a.name,o.a),s()(h,"CellSelector",f),h)},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-cell-group",[n("van-field",{attrs:{label:"店员名称",placeholder:"请输入店员名称"},model:{value:t.info.assistant_name,callback:function(e){t.$set(t.info,"assistant_name",e)},expression:"info.assistant_name"}}),t._v(" "),n("CellSelector",{attrs:{label:"岗位",placeholder:"请选择岗位",popupTitle:"请选择岗位",columns:t.jobs},on:{confirm:t.onJobs}}),t._v(" "),n("van-field",{attrs:{label:"手机号码",type:"number",maxlength:"11",placeholder:"请输入手机号码"},model:{value:t.info.assistant_tel,callback:function(e){t.$set(t.info,"assistant_tel",e)},expression:"info.assistant_tel"}}),t._v(" "),t.isEdit?t._e():n("van-field",{attrs:{label:"登录密码",type:"password",placeholder:"请输入密码"},model:{value:t.info.password,callback:function(e){t.$set(t.info,"password",e)},expression:"info.password"}}),t._v(" "),n("van-cell",{staticClass:"cell-panel",attrs:{title:"是否启用","value-class":"flex"}},[n("van-switch",{attrs:{size:"24px"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)],1),t._v(" "),n("div",{staticClass:"fixed-foot-btn-group"},[n("van-button",{attrs:{size:"normal",type:"danger",round:"",block:"",loading:t.isSaving},on:{click:t.onSave}},[t._v("保存")])],1)],1)},staticRenderFns:[]};var g=n("VU/8")(v,m,!1,function(t){n("MGWs")},"data-v-7e4b8808",null).exports,b=n("hCGe"),x=n("BuIE"),C={name:"manage-post",data:function(){return{jobs:[],isSaving:!1}},computed:{pageType:function(){return this.$route.hash&&"#edit"==this.$route.hash?"edit":"add"},navbarTitle:function(){var t="edit"==this.pageType?"编辑店员":"添加店员";return t&&(document.title=t),t},info:function(){var t="edit"==this.pageType?JSON.parse(Object(x.a)(this.$route.query.info)):{assistant_id:null,assistant_name:"",assistant_tel:"",password:"",jobs_id:null,status:0};return t}},created:function(){var t=this;this.$store.dispatch("getJobsList").then(function(e){t.jobs=e,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},methods:{onSave:function(t){var e=this;this.isSaving=!0,Object(b.c)(t).then(function(){e.$Toast.success("保存成功"),setTimeout(function(){e.isSaving=!1,e.$router.back()},500)}).catch(function(){e.isSaving=!1})}},components:{InfoPost:g}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"manage-post bg-f8"},[e("Navbar",{attrs:{title:this.navbarTitle}}),this._v(" "),e("InfoPost",{attrs:{info:this.info,jobs:this.jobs,"is-saving":this.isSaving},on:{save:this.onSave}})],1)},staticRenderFns:[]};var I=n("VU/8")(C,y,!1,function(t){n("Bvnn")},"data-v-6b45a26f",null);e.default=I.exports},yU4Z:function(t,e){}});