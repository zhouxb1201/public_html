webpackJsonp([6],{"25TG":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("QmeG"),o=i("9uSG"),s=i("D1I1"),c=i("w3CS"),r={name:"bind",data:function(){return{form:{mobile:"",verification_code:""},isLoading:!1}},methods:{onBind:function(){var e=this,t=this.form;if(!Object(c.b)(t.mobile)||!Object(c.c)(t.verification_code))return!1;this.isLoading=!0,this.$store.dispatch("bindAccount",t).then(function(){}).catch(function(){e.isLoading=!1})}},components:{HeadBanner:n.a,HeadBtn:o.a,CellMsgCodeGroup:s.a}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bind"},[i("HeadBanner",{attrs:{src:e.$BASEIMGPATH+"login-head-default-01.png"}}),e._v(" "),i("van-cell-group",[i("van-field",{attrs:{label:"手机号码",type:"number",maxlength:"11","left-icon":"v-icon-phone",placeholder:"请输入您的手机号码"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),e._v(" "),i("CellMsgCodeGroup",{attrs:{mobile:e.form.mobile,type:"bind"},model:{value:e.form.verification_code,callback:function(t){e.$set(e.form,"verification_code",t)},expression:"form.verification_code"}})],1),e._v(" "),i("div",{staticClass:"foot-btn-group"},[i("van-button",{attrs:{size:"normal",type:"danger",round:"",block:"",loading:e.isLoading},on:{click:e.onBind}},[e._v("登录并绑定")])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(r,a,!1,function(e){i("GD/9")},"data-v-3f396c47",null);t.default=l.exports},"9uSG":function(e,t,i){"use strict";var n={data:function(){return{}},props:{type:{type:String,default:"back"}},computed:{action:function(){var e={icon:"arrow-left",dir:"left"};return"back"==this.type||("home"==this.type?e={icon:"v-icon-home",dir:"right"}:"share"==this.type&&(e={icon:"share",dir:"right"})),e}},methods:{onClick:function(e){if("back"==this.type){if(window.history.length<=1)return this.$router.push("/"),!1;this.$router.back()}else"home"==this.type&&this.$router.push("/mall/index");this.$emit("click")}}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box",class:this.action.dir,on:{click:this.onClick}},[t("van-icon",{attrs:{name:this.action.icon}})],1)},staticRenderFns:[]};var s=i("VU/8")(n,o,!1,function(e){i("J1wr")},"data-v-21aee500",null);t.a=s.exports},D1I1:function(e,t,i){"use strict";var n=i("w3CS"),o={data:function(){return{isDisabled:!1,codeTime:0,codeTxt:"获取验证码"}},props:{value:[String,Number],mobile:[String,Number],showLeftIcon:{type:[String,Boolean],default:!0},type:String},computed:{code:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{onSend:function(){var e=this,t=e.mobile;if(!Object(n.b)(t))return!1;e.$store.dispatch("getMsgcode",{type:this.type,form:{mobile:t}}).then(function(t){e.$emit("send-success"),e.startTimer()})},startTimer:function(){this.codeTime=60,this.isDisabled=!0,this.codeTimer()},codeTimer:function(){this.codeTime>0?(this.codeTime--,this.codeTxt=this.codeTime+"s后获取",setTimeout(this.codeTimer,1e3)):this.endTimer()},endTimer:function(){this.codeTime=0,this.isDisabled=!1,this.codeTxt="获取验证码"}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("van-field",{attrs:{label:"短信验证码",type:"number",maxlength:"6","left-icon":e.showLeftIcon?"v-icon-validate":"",placeholder:"请输入验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[i("van-button",{staticClass:"btn-code",attrs:{slot:"button",size:"mini",plain:"",type:"danger",disabled:e.isDisabled},on:{click:e.onSend},slot:"button"},[e._v(e._s(e.codeTxt))])],1)},staticRenderFns:[]},c=i("VU/8")(o,s,!1,null,null,null);t.a=c.exports},"GD/9":function(e,t){},J1wr:function(e,t){}});