webpackJsonp([14],{"7KZk":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("ORU3"),i=a("Lo3X"),n=a("FWz8"),r={data:function(){return{}},props:{items:{type:Object}},methods:{btnClick:function(t,e){var a=this;this.$Dialog.confirm({message:"确认"+t.name+"?"}).then(function(){"agree_refund"==t.no?Object(n.a)(e).then(function(t){var e=t.message;a.$emit("init-list",e)}):"refuse"==t.no&&Object(n.e)(e).then(function(t){var e=t.message;a.$emit("init-list",e)})}).catch(function(){})}},components:{GoodsCard:i.a}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell-group",{staticClass:"item card-group-box",attrs:{border:!1}},[a("van-cell",{attrs:{title:t.items.title}},[a("span",{attrs:{slot:"right-icon"},slot:"right-icon"},[t._v(t._s(t.items.value))])]),t._v(" "),t._l(t.items.item,function(e,s){return a("van-cell",{key:s},[a("GoodsCard",{staticClass:"goods-card",attrs:{lazyLoad:"",num:e.num,price:e.price,desc:e.desc,title:e.title,thumb:e.img}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"titie-name"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"titie-right-text"},[t._v(t._s(e.value))])]),t._v(" "),e.operate.length||e.operateText?a("van-row",{staticClass:"btn-group",attrs:{slot:"footer",type:"flex",justify:"end"},slot:"footer"},[e.operateText?a("div",{staticClass:"operate-text"},[t._v(t._s(e.operateText))]):t._l(e.operate,function(s,i){return a("van-button",{key:i,staticClass:"btn",attrs:{size:"mini"},on:{click:function(a){t.btnClick(s,{order_goods_id:e.id,order_id:t.items.id})}}},[t._v(t._s(s.name))])})],2):t._e()],1)],1)}),t._v(" "),a("van-cell",[a("van-row",{attrs:{type:"flex",justify:"end"}},[a("van-col",[a("span",[t._v(t._s(t.items.moneyText))]),t._v(" "),a("span",{staticClass:"pay-money-text"},[t._v(t._s(t._f("yuan")(t.items.money)))])])],1)],1),t._v(" "),t.items.operate.length||t.items.operateText?a("van-cell",[a("van-row",{attrs:{type:"flex",justify:"end"}},[t.items.operateText?a("div",{staticClass:"operate-text"},[t._v(t._s(t.items.operateText))]):t._l(t.items.operate,function(e,s){return a("van-button",{key:s,staticClass:"btn",attrs:{size:"small"},on:{click:function(a){t.btnClick(e,{order_id:t.items.id})}}},[t._v(t._s(e.name))])})],2)],1):t._e()],2)},staticRenderFns:[]};var c=a("VU/8")(r,o,!1,function(t){a("o2L5")},"data-v-240aee7a",null).exports,l=(a("oFuF"),{name:"order-after",data:function(){return{tab_active:0,tabs:[{name:"全部",status:0},{name:"待处理",status:1},{name:"已打款",status:2}],params:{order_status:0,search_text:""}}},mixins:[a("msXN").c],created:function(){this.loadList()},methods:{onTab:function(t){var e=this.tabs[t].status;this.params.order_status=e,this.loadList("init")},onSearch:function(t){this.params.search_text=t,this.loadList("init")},loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(n.b)(e.params).then(function(a){var s=a.data,i=e.packageListData(s.order_info);e.pushToList(i,s.page_count,t)}).catch(function(){e.loadError()})},packageListData:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){var e={},a=[];return t.order_item_list.forEach(function(t){a.push({price:t.price,desc:t.sku_name,title:t.goods_name,img:t.picture,num:t.num,id:t.order_goods_id,value:t.status_name,operateText:t.no_operation,operate:t.member_operation})}),e.title="订单编号："+t.order_no,e.value="",e.item=a,e.operate=t.member_operation,e.operateText=t.no_operation,e.moneyText="售后金额：",e.money=t.refund_require_money,e.id=t.order_id,e})},onInitList:function(t){this.$Toast.success(t),this.loadList("init")}},components:{HeadTab:s.a,AfterOrderPanelGroup:c}}),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-after bg-f8"},[a("Navbar"),t._v(" "),a("HeadTab",{attrs:{tabs:t.tabs,"search-placeholder":"订单号/商品名称","show-search":"","search-text":t.params.search_text},on:{"tab-change":t.onTab,search:t.onSearch},model:{value:t.tab_active,callback:function(e){t.tab_active=e},expression:"tab_active"}}),t._v(" "),a("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"order",message:"没有相关订单"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,s){return a("AfterOrderPanelGroup",{key:s,attrs:{items:e},on:{"init-list":t.onInitList}})}))],1)},staticRenderFns:[]};var d=a("VU/8")(l,u,!1,function(t){a("Erqd")},"data-v-f55c2c32",null);e.default=d.exports},Erqd:function(t,e){},o2L5:function(t,e){}});