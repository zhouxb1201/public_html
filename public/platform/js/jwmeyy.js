!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.F3=n():t.F3=n()}(this,function(){return function(t){function n(e){if(i[e])return i[e].exports;var r=i[e]={exports:{},id:e,loaded:!1};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i(1);Object.defineProperty(n,"Camera",{enumerable:!0,get:function(){return e.Camera}});var r=i(6);Object.defineProperty(n,"Time",{enumerable:!0,get:function(){return r.Time}}),Object.defineProperty(n,"TIME",{enumerable:!0,get:function(){return r.TIME}});var s=i(2);Object.defineProperty(n,"Vector3",{enumerable:!0,get:function(){return s.Vector3}});var o=i(9);Object.defineProperty(n,"Euler",{enumerable:!0,get:function(){return o.Euler}});var a=i(10);Object.defineProperty(n,"Obj",{enumerable:!0,get:function(){return a.Obj}});var h=i(11);Object.defineProperty(n,"Scene",{enumerable:!0,get:function(){return h.Scene}});var u=i(12);Object.defineProperty(n,"Renderer",{enumerable:!0,get:function(){return u.Renderer}})},function(t,n,i){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Camera=void 0;var r=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),s=i(2);n.Camera=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1200,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.Vector3;e(this,t),this.p=n,this.origin=i}return r(t,[{key:"getScaleByZ",value:function(t){var n=void 0;return n=t>this.p?1/0:this.p/(-t+this.p)}},{key:"get2DCrood",value:function(t){var n=this.getScaleByZ(t.z),i=t.clone().sub(this.origin),e=void 0;return i.multiplyScalar(n),e=this.origin.clone().add(i),e.z=0,e}}]),t}()},function(t,n,i){"use strict";function e(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}Object.defineProperty(n,"__esModule",{value:!0}),n.Vector3=void 0;var r=i(3),s=i(4),o=i(5);e.prototype={constructor:e,isVector3:!0,set:function(t,n,i){return this.x=t,this.y=n,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this},addScaledVector:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this},sub:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this},multiply:function(t,n){return void 0!==n?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this},applyEuler:function(){var t;return function(n){return(n&&n.isEuler)===!1&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new o.Quaternion),this.applyQuaternion(t.setFromEuler(n))}}(),applyAxisAngle:function(){var t;return function(n,i){return void 0===t&&(t=new o.Quaternion),this.applyQuaternion(t.setFromAxisAngle(n,i))}}(),applyMatrix3:function(t){var n=this.x,i=this.y,e=this.z,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6]*e,this.y=r[1]*n+r[4]*i+r[7]*e,this.z=r[2]*n+r[5]*i+r[8]*e,this},applyMatrix4:function(t){var n=this.x,i=this.y,e=this.z,r=t.elements;this.x=r[0]*n+r[4]*i+r[8]*e+r[12],this.y=r[1]*n+r[5]*i+r[9]*e+r[13],this.z=r[2]*n+r[6]*i+r[10]*e+r[14];var s=r[3]*n+r[7]*i+r[11]*e+r[15];return this.divideScalar(s)},applyQuaternion:function(t){var n=this.x,i=this.y,e=this.z,r=t.x,s=t.y,o=t.z,a=t.w,h=a*n+s*e-o*i,u=a*i+o*n-r*e,c=a*e+r*i-s*n,l=-r*n-s*i-o*e;return this.x=h*a+l*-r+u*-o-c*-s,this.y=u*a+l*-s+c*-r-h*-o,this.z=c*a+l*-o+h*-s-u*-r,this},project:function(){var t;return function(n){return void 0===t&&(t=new s.Matrix4),t.multiplyMatrices(n.projectionMatrix,t.getInverse(n.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(n){return void 0===t&&(t=new s.Matrix4),t.multiplyMatrices(n.matrixWorld,t.getInverse(n.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var n=this.x,i=this.y,e=this.z,r=t.elements;return this.x=r[0]*n+r[4]*i+r[8]*e,this.y=r[1]*n+r[5]*i+r[9]*e,this.z=r[2]*n+r[6]*i+r[10]*e,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this},clampScalar:function(){var t,n;return function(i,r){return void 0===t&&(t=new e,n=new e),t.set(i,i,i),n.set(r,r,r),this.clamp(t,n)}}(),clampLength:function(t,n){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(n,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this},lerpVectors:function(t,n,i){return this.subVectors(n,t).multiplyScalar(i).add(t)},cross:function(t,n){if(void 0!==n)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n);var i=this.x,e=this.y,r=this.z;return this.x=e*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-e*t.x,this},crossVectors:function(t,n){var i=t.x,e=t.y,r=t.z,s=n.x,o=n.y,a=n.z;return this.x=e*a-r*o,this.y=r*s-i*a,this.z=i*o-e*s,this},projectOnVector:function(t){var n=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(n)},projectOnPlane:function(){var t;return function(n){return void 0===t&&(t=new e),t.copy(this).projectOnVector(n),this.sub(t)}}(),reflect:function(){var t;return function(n){return void 0===t&&(t=new e),this.sub(t.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(t){var n=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(r._Math.clamp(n,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var n=this.x-t.x,i=this.y-t.y,e=this.z-t.z;return n*n+i*i+e*e},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var n=Math.sin(t.phi)*t.radius;return this.x=n*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=n*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),e=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=e,this},setFromMatrixColumn:function(t,n){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var i=t;t=n,n=i}return this.fromArray(t.elements,4*n)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,n){return void 0===n&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t},fromBufferAttribute:function(t,n,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}},n.Vector3=e},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),e=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?i[r]="-":14===r?i[r]="4":(e<=2&&(e=33554432+16777216*Math.random()|0),t=15&e,e>>=4,i[r]=n[19===r?3&t|8:t]);return i.join("")}}(),clamp:function(t,n,i){return Math.max(n,Math.min(i,t))},euclideanModulo:function(t,n){return(t%n+n)%n},mapLinear:function(t,n,i,e,r){return e+(t-n)*(r-e)/(i-n)},lerp:function(t,n,i){return(1-i)*t+i*n},smoothstep:function(t,n,i){return t<=n?0:t>=i?1:(t=(t-n)/(i-n),t*t*(3-2*t))},smootherstep:function(t,n,i){return t<=n?0:t>=i?1:(t=(t-n)/(i-n),t*t*t*(t*(6*t-15)+10))},randInt:function(t,n){return t+Math.floor(Math.random()*(n-t+1))},randFloat:function(t,n){return t+Math.random()*(n-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*i.DEG2RAD},radToDeg:function(t){return t*i.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}};n._Math=i},function(t,n,i){"use strict";function e(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperty(n,"__esModule",{value:!0}),n.Matrix4=void 0;var r=(i(3),i(2));e.prototype={constructor:e,isMatrix4:!0,set:function(t,n,i,e,r,s,o,a,h,u,c,l,f,y,d,m){var p=this.elements;return p[0]=t,p[4]=n,p[8]=i,p[12]=e,p[1]=r,p[5]=s,p[9]=o,p[13]=a,p[2]=h,p[6]=u,p[10]=c,p[14]=l,p[3]=f,p[7]=y,p[11]=d,p[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new e).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this},extractBasis:function(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(n){void 0===t&&(t=new r.Vector3);var i=this.elements,e=n.elements,s=1/t.setFromMatrixColumn(n,0).length(),o=1/t.setFromMatrixColumn(n,1).length(),a=1/t.setFromMatrixColumn(n,2).length();return i[0]=e[0]*s,i[1]=e[1]*s,i[2]=e[2]*s,i[4]=e[4]*o,i[5]=e[5]*o,i[6]=e[6]*o,i[8]=e[8]*a,i[9]=e[9]*a,i[10]=e[10]*a,this}}(),makeRotationFromEuler:function(t){(t&&t.isEuler)===!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=this.elements,i=t.x,e=t.y,r=t.z,s=Math.cos(i),o=Math.sin(i),a=Math.cos(e),h=Math.sin(e),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var l=s*u,f=s*c,y=o*u,d=o*c;n[0]=a*u,n[4]=-a*c,n[8]=h,n[1]=f+y*h,n[5]=l-d*h,n[9]=-o*a,n[2]=d-l*h,n[6]=y+f*h,n[10]=s*a}else if("YXZ"===t.order){var m=a*u,p=a*c,_=h*u,v=h*c;n[0]=m+v*o,n[4]=_*o-p,n[8]=s*h,n[1]=s*c,n[5]=s*u,n[9]=-o,n[2]=p*o-_,n[6]=v+m*o,n[10]=s*a}else if("ZXY"===t.order){var m=a*u,p=a*c,_=h*u,v=h*c;n[0]=m-v*o,n[4]=-s*c,n[8]=_+p*o,n[1]=p+_*o,n[5]=s*u,n[9]=v-m*o,n[2]=-s*h,n[6]=o,n[10]=s*a}else if("ZYX"===t.order){var l=s*u,f=s*c,y=o*u,d=o*c;n[0]=a*u,n[4]=y*h-f,n[8]=l*h+d,n[1]=a*c,n[5]=d*h+l,n[9]=f*h-y,n[2]=-h,n[6]=o*a,n[10]=s*a}else if("YZX"===t.order){var x=s*a,M=s*h,w=o*a,z=o*h;n[0]=a*u,n[4]=z-x*c,n[8]=w*c+M,n[1]=c,n[5]=s*u,n[9]=-o*u,n[2]=-h*u,n[6]=M*c+w,n[10]=x-z*c}else if("XZY"===t.order){var x=s*a,M=s*h,w=o*a,z=o*h;n[0]=a*u,n[4]=-c,n[8]=h*u,n[1]=x*c+z,n[5]=s*u,n[9]=M*c-w,n[2]=w*c-M,n[6]=o*u,n[10]=z*c+x}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromQuaternion:function(t){var n=this.elements,i=t.x,e=t.y,r=t.z,s=t.w,o=i+i,a=e+e,h=r+r,u=i*o,c=i*a,l=i*h,f=e*a,y=e*h,d=r*h,m=s*o,p=s*a,_=s*h;return n[0]=1-(f+d),n[4]=c-_,n[8]=l+p,n[1]=c+_,n[5]=1-(u+d),n[9]=y-m,n[2]=l-p,n[6]=y+m,n[10]=1-(u+f),n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},lookAt:function(){var t,n,i;return function(e,s,o){void 0===t&&(t=new r.Vector3,n=new r.Vector3,i=new r.Vector3);var a=this.elements;return i.subVectors(e,s).normalize(),0===i.lengthSq()&&(i.z=1),t.crossVectors(o,i).normalize(),0===t.lengthSq()&&(i.z+=1e-4,t.crossVectors(o,i).normalize()),n.crossVectors(i,t),a[0]=t.x,a[4]=n.x,a[8]=i.x,a[1]=t.y,a[5]=n.y,a[9]=i.y,a[2]=t.z,a[6]=n.z,a[10]=i.z,this}}(),multiply:function(t,n){return void 0!==n?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,n){var i=t.elements,e=n.elements,r=this.elements,s=i[0],o=i[4],a=i[8],h=i[12],u=i[1],c=i[5],l=i[9],f=i[13],y=i[2],d=i[6],m=i[10],p=i[14],_=i[3],v=i[7],x=i[11],M=i[15],w=e[0],z=e[4],b=e[8],g=e[12],C=e[1],E=e[5],k=e[9],O=e[13],j=e[2],T=e[6],V=e[10],P=e[14],F=e[3],S=e[7],I=e[11],R=e[15];return r[0]=s*w+o*C+a*j+h*F,r[4]=s*z+o*E+a*T+h*S,r[8]=s*b+o*k+a*V+h*I,r[12]=s*g+o*O+a*P+h*R,r[1]=u*w+c*C+l*j+f*F,r[5]=u*z+c*E+l*T+f*S,r[9]=u*b+c*k+l*V+f*I,r[13]=u*g+c*O+l*P+f*R,r[2]=y*w+d*C+m*j+p*F,r[6]=y*z+d*E+m*T+p*S,r[10]=y*b+d*k+m*V+p*I,r[14]=y*g+d*O+m*P+p*R,r[3]=_*w+v*C+x*j+M*F,r[7]=_*z+v*E+x*T+M*S,r[11]=_*b+v*k+x*V+M*I,r[15]=_*g+v*O+x*P+M*R,this},multiplyToArray:function(t,n,i){var e=this.elements;return this.multiplyMatrices(t,n),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],this},multiplyScalar:function(t){var n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this},applyToBufferAttribute:function(){var t;return function(n){void 0===t&&(t=new r.Vector3);for(var i=0,e=n.count;i<e;i++)t.x=n.getX(i),t.y=n.getY(i),t.z=n.getZ(i),t.applyMatrix4(this),n.setXYZ(i,t.x,t.y,t.z);return n}}(),determinant:function(){var t=this.elements,n=t[0],i=t[4],e=t[8],r=t[12],s=t[1],o=t[5],a=t[9],h=t[13],u=t[2],c=t[6],l=t[10],f=t[14],y=t[3],d=t[7],m=t[11],p=t[15];return y*(+r*a*c-e*h*c-r*o*l+i*h*l+e*o*f-i*a*f)+d*(+n*a*f-n*h*l+r*s*l-e*s*f+e*h*u-r*a*u)+m*(+n*h*c-n*o*f-r*s*c+i*s*f+r*o*u-i*h*u)+p*(-e*o*u-n*a*c+n*o*l+e*s*c-i*s*l+i*a*u)},transpose:function(){var t,n=this.elements;return t=n[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this},setPosition:function(t){var n=this.elements;return n[12]=t.x,n[13]=t.y,n[14]=t.z,this},getInverse:function(t,n){var i=this.elements,e=t.elements,r=e[0],s=e[1],o=e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=e[8],y=e[9],d=e[10],m=e[11],p=e[12],_=e[13],v=e[14],x=e[15],M=y*v*l-_*d*l+_*c*m-u*v*m-y*c*x+u*d*x,w=p*d*l-f*v*l-p*c*m+h*v*m+f*c*x-h*d*x,z=f*_*l-p*y*l+p*u*m-h*_*m-f*u*x+h*y*x,b=p*y*c-f*_*c-p*u*d+h*_*d+f*u*v-h*y*v,g=r*M+s*w+o*z+a*b;if(0===g){var C="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(n===!0)throw new Error(C);return console.warn(C),this.identity()}var E=1/g;return i[0]=M*E,i[1]=(_*d*a-y*v*a-_*o*m+s*v*m+y*o*x-s*d*x)*E,i[2]=(u*v*a-_*c*a+_*o*l-s*v*l-u*o*x+s*c*x)*E,i[3]=(y*c*a-u*d*a-y*o*l+s*d*l+u*o*m-s*c*m)*E,i[4]=w*E,i[5]=(f*v*a-p*d*a+p*o*m-r*v*m-f*o*x+r*d*x)*E,i[6]=(p*c*a-h*v*a-p*o*l+r*v*l+h*o*x-r*c*x)*E,i[7]=(h*d*a-f*c*a+f*o*l-r*d*l-h*o*m+r*c*m)*E,i[8]=z*E,i[9]=(p*y*a-f*_*a-p*s*m+r*_*m+f*s*x-r*y*x)*E,i[10]=(h*_*a-p*u*a+p*s*l-r*_*l-h*s*x+r*u*x)*E,i[11]=(f*u*a-h*y*a-f*s*l+r*y*l+h*s*m-r*u*m)*E,i[12]=b*E,i[13]=(f*_*o-p*y*o+p*s*d-r*_*d-f*s*v+r*y*v)*E,i[14]=(p*u*o-h*_*o-p*s*c+r*_*c+h*s*v-r*u*v)*E,i[15]=(h*y*o-f*u*o+f*s*c-r*y*c-h*s*d+r*u*d)*E,this},scale:function(t){var n=this.elements,i=t.x,e=t.y,r=t.z;return n[0]*=i,n[4]*=e,n[8]*=r,n[1]*=i,n[5]*=e,n[9]*=r,n[2]*=i,n[6]*=e,n[10]*=r,n[3]*=i,n[7]*=e,n[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],e=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,e))},makeTranslation:function(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this},makeRotationY:function(t){var n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this},makeRotationZ:function(t){var n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,n){var i=Math.cos(n),e=Math.sin(n),r=1-i,s=t.x,o=t.y,a=t.z,h=r*s,u=r*o;return this.set(h*s+i,h*o-e*a,h*a+e*o,0,h*o+e*a,u*o+i,u*a-e*s,0,h*a-e*o,u*a+e*s,r*a*a+i,0,0,0,0,1),this},makeScale:function(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,n,i){return this.set(1,n,i,0,t,1,i,0,t,n,1,0,0,0,0,1),this},compose:function(t,n,i){return this.makeRotationFromQuaternion(n),this.scale(i),this.setPosition(t),this},decompose:function(){var t,n;return function(i,s,o){void 0===t&&(t=new r.Vector3,n=new e);var a=this.elements,h=t.set(a[0],a[1],a[2]).length(),u=t.set(a[4],a[5],a[6]).length(),c=t.set(a[8],a[9],a[10]).length(),l=this.determinant();l<0&&(h=-h),i.x=a[12],i.y=a[13],i.z=a[14],n.elements.set(this.elements);var f=1/h,y=1/u,d=1/c;return n.elements[0]*=f,n.elements[1]*=f,n.elements[2]*=f,n.elements[4]*=y,n.elements[5]*=y,n.elements[6]*=y,n.elements[8]*=d,n.elements[9]*=d,n.elements[10]*=d,s.setFromRotationMatrix(n),o.x=h,o.y=u,o.z=c,this}}(),makePerspective:function(t,n,i,e,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*r/(n-t),h=2*r/(i-e),u=(n+t)/(n-t),c=(i+e)/(i-e),l=-(s+r)/(s-r),f=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=h,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=l,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,n,i,e,r,s){var o=this.elements,a=1/(n-t),h=1/(i-e),u=1/(s-r),c=(n+t)*a,l=(i+e)*h,f=(s+r)*u;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*h,o[9]=0,o[13]=-l,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var n=this.elements,i=t.elements,e=0;e<16;e++)if(n[e]!==i[e])return!1;return!0},fromArray:function(t,n){void 0===n&&(n=0);for(var i=0;i<16;i++)this.elements[i]=t[i+n];return this},toArray:function(t,n){void 0===t&&(t=[]),void 0===n&&(n=0);var i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}},n.Matrix4=e},function(t,n,i){"use strict";function e(t,n,i,e){this._x=t||0,this._y=n||0,this._z=i||0,this._w=void 0!==e?e:1}Object.defineProperty(n,"__esModule",{value:!0}),n.Quaternion=void 0;var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},s=i(2);e.prototype={constructor:e,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,n,i,e){return this._x=t,this._y=n,this._z=i,this._w=e,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,n){if((t&&t.isEuler)===!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=Math.cos(t._x/2),e=Math.cos(t._y/2),r=Math.cos(t._z/2),s=Math.sin(t._x/2),o=Math.sin(t._y/2),a=Math.sin(t._z/2),h=t.order;return"XYZ"===h?(this._x=s*e*r+i*o*a,this._y=i*o*r-s*e*a,this._z=i*e*a+s*o*r,this._w=i*e*r-s*o*a):"YXZ"===h?(this._x=s*e*r+i*o*a,this._y=i*o*r-s*e*a,this._z=i*e*a-s*o*r,this._w=i*e*r+s*o*a):"ZXY"===h?(this._x=s*e*r-i*o*a,this._y=i*o*r+s*e*a,this._z=i*e*a+s*o*r,this._w=i*e*r-s*o*a):"ZYX"===h?(this._x=s*e*r-i*o*a,this._y=i*o*r+s*e*a,this._z=i*e*a-s*o*r,this._w=i*e*r+s*o*a):"YZX"===h?(this._x=s*e*r+i*o*a,this._y=i*o*r+s*e*a,this._z=i*e*a-s*o*r,this._w=i*e*r-s*o*a):"XZY"===h&&(this._x=s*e*r-i*o*a,this._y=i*o*r-s*e*a,this._z=i*e*a+s*o*r,this._w=i*e*r+s*o*a),n!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,n){var i=n/2,e=Math.sin(i);return this._x=t.x*e,this._y=t.y*e,this._z=t.z*e,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var n,i=t.elements,e=i[0],r=i[4],s=i[8],o=i[1],a=i[5],h=i[9],u=i[2],c=i[6],l=i[10],f=e+a+l;return f>0?(n=.5/Math.sqrt(f+1),this._w=.25/n,this._x=(c-h)*n,this._y=(s-u)*n,this._z=(o-r)*n):e>a&&e>l?(n=2*Math.sqrt(1+e-a-l),this._w=(c-h)/n,this._x=.25*n,this._y=(r+o)/n,this._z=(s+u)/n):a>l?(n=2*Math.sqrt(1+a-e-l),this._w=(s-u)/n,this._x=(r+o)/n,this._y=.25*n,this._z=(h+c)/n):(n=2*Math.sqrt(1+l-e-a),this._w=(o-r)/n,this._x=(s+u)/n,this._y=(h+c)/n,this._z=.25*n),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,n,i=1e-6;return function(e,r){return void 0===t&&(t=new s.Vector3),n=e.dot(r)+1,n<i?(n=0,Math.abs(e.x)>Math.abs(e.z)?t.set(-e.y,e.x,0):t.set(0,-e.z,e.y)):t.crossVectors(e,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=n,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,n){return void 0!==n?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,n){var i=t._x,e=t._y,r=t._z,s=t._w,o=n._x,a=n._y,h=n._z,u=n._w;return this._x=i*u+s*o+e*h-r*a,this._y=e*u+s*a+r*o-i*h,this._z=r*u+s*h+i*a-e*o,this._w=s*u-i*o-e*a-r*h,this.onChangeCallback(),this},slerp:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var i=this._x,e=this._y,r=this._z,s=this._w,o=s*t._w+i*t._x+e*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=i,this._y=e,this._z=r,this;var a=Math.sqrt(1-o*o);if(Math.abs(a)<.001)return this._w=.5*(s+this._w),this._x=.5*(i+this._x),this._y=.5*(e+this._y),this._z=.5*(r+this._z),this;var h=Math.atan2(a,o),u=Math.sin((1-n)*h)/a,c=Math.sin(n*h)/a;return this._w=s*u+this._w*c,this._x=i*u+this._x*c,this._y=e*u+this._y*c,this._z=r*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,n){return void 0===n&&(n=0),this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this.onChangeCallback(),this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},r(e,{slerp:function(t,n,i,e){return i.copy(t).slerp(n,e)},slerpFlat:function(t,n,i,e,r,s,o){var a=i[e+0],h=i[e+1],u=i[e+2],c=i[e+3],l=r[s+0],f=r[s+1],y=r[s+2],d=r[s+3];if(c!==d||a!==l||h!==f||u!==y){var m=1-o,p=a*l+h*f+u*y+c*d,_=p>=0?1:-1,v=1-p*p;if(v>Number.EPSILON){var x=Math.sqrt(v),M=Math.atan2(x,p*_);m=Math.sin(m*M)/x,o=Math.sin(o*M)/x}var w=o*_;if(a=a*m+l*w,h=h*m+f*w,u=u*m+y*w,c=c*m+d*w,m===1-o){var z=1/Math.sqrt(a*a+h*h+u*u+c*c);a*=z,h*=z,u*=z,c*=z}}t[n]=a,t[n+1]=h,t[n+2]=u,t[n+3]=c}}),n.Quaternion=e},function(t,n,i){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Time=n.TIME=void 0;var s,o=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),a=i(7),h=e(a),u={bodys:[],delta:16},c=!1;u.addBody=function(t){this.bodys.push(t)},u.removeBody=function(t){var n=this.bodys.indexOf(t);n!==-1&&this.bodys.splice(n,1)},u.tick=function(){var t,n=(new Date).getTime(),i=n;return function(){t=n-i,t=t>500?30:t<16?16:t,u.delta=t,i=n,u.handleFrame(t),c||(s=requestAnimationFrame(u.tick))}}(),u.start=function(){c=!1,cancelAnimationFrame(s),this.tick()},u.stop=function(){cancelAnimationFrame(s),c=!0},u.handleFrame=function(t){u.bodys.forEach(function(n){n.isStop||n.ticks.forEach(function(n){n.fn&&n.fn(t)})}),h["default"].update()},window.TIME=u;var l=function(){function t(){r(this,t),this.ticks=[],this.tweens=[],this.isStop=!1,u.addBody(this)}return o(t,[{key:"destory",value:function(){u.removeBody(this)}},{key:"addTick",value:function(t){var n={fn:t.bind(this)};return n.isStop=!1,this.ticks.push(n),n}},{key:"removeTick",value:function(t){if(!t)return void(this.ticks=[]);var n=this.ticks.indexOf(t);n!==-1&&this.ticks.splice(n,1)}},{key:"addTween",value:function(t){this.tweens.push(t)}},{key:"removeTween",value:function(t){if(!t)return void(this.tween=[]);var n=this.tweens.indexOf(t);n!==-1&&this.tweens.splice(n,1)}},{key:"stop",value:function(){this.isStop=!0,this.tweens.forEach(function(t){t.stop()})}},{key:"start",value:function(){this.isStop=!1,this.tweens.forEach(function(t){t.start()})}}]),t}();window.Time=l;for(var f=0;f<1e4;f+=100)window["TIME_"+f]="develop"===window.env?0:f;n.TIME=u,n.Time=l},function(t,n,i){var e,r;(function(i){"use strict";var s=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var i=t.indexOf(n);i!==-1&&t.splice(i,1)},update:function(n,i){if(0===t.length)return!1;var e=0;for(n=void 0!==n?n:s.now();e<t.length;)t[e].update(n)||i?e++:t.splice(e,1);return!0}}}());"undefined"==typeof window&&"undefined"!=typeof i?s.now=function(){var t=i.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?s.now=window.performance.now.bind(window.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(t){var n,i=t,e={},r={},o={},a=1e3,h=0,u=!1,c=!1,l=!1,f=0,y=null,d=s.Easing.Linear.None,m=s.Interpolation.Linear,p=[],_=null,v=!1,x=null,M=null,w=null;this.to=function(t,n){return r=t,void 0!==n&&(a=n),this},this.start=function(t){s.add(this),c=!0,v=!1,y=void 0!==t?t:s.now(),y+=f;for(var n in r){if(r[n]instanceof Array){if(0===r[n].length)continue;r[n]=[i[n]].concat(r[n])}void 0!==i[n]&&(e[n]=i[n],e[n]instanceof Array==!1&&(e[n]*=1),o[n]=e[n]||0)}return this},this.stop=function(){return c?(s.remove(this),c=!1,null!==w&&w.call(i,i),this.stopChainedTweens(),this):this},this.end=function(){return this.update(y+a),this},this.stopChainedTweens=function(){for(var t=0,n=p.length;t<n;t++)p[t].stop()},this.delay=function(t){return f=t,this},this.repeat=function(t){return h=t,this},this.repeatDelay=function(t){return n=t,this},this.yoyo=function(t){return u=t,this},this.easing=function(t){return d=t,this},this.interpolation=function(t){return m=t,this},this.chain=function(){return p=arguments,this},this.onStart=function(t){return _=t,this},this.onUpdate=function(t){return x=t,this},this.onComplete=function(t){return M=t,this},this.onStop=function(t){return w=t,this},this.update=function(t){var s,c,w;if(t<y)return!0;v===!1&&(null!==_&&_.call(i,i),v=!0),c=(t-y)/a,c=c>1?1:c,w=d(c);for(s in r)if(void 0!==e[s]){var z=e[s]||0,b=r[s];b instanceof Array?i[s]=m(b,w):("string"==typeof b&&(b="+"===b.charAt(0)||"-"===b.charAt(0)?z+parseFloat(b):parseFloat(b)),"number"==typeof b&&(i[s]=z+(b-z)*w))}if(null!==x&&x.call(i,w),1===c){if(h>0){isFinite(h)&&h--;for(s in o){if("string"==typeof r[s]&&(o[s]=o[s]+parseFloat(r[s])),u){var g=o[s];o[s]=r[s],r[s]=g}e[s]=o[s]}return u&&(l=!l),y=void 0!==n?t+n:t+f,!0}null!==M&&M.call(i,i);for(var C=0,E=p.length;C<E;C++)p[C].start(y+a);return!1}return!0}},s.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){
return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-s.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*s.Easing.Bounce.In(2*t):.5*s.Easing.Bounce.Out(2*t-1)+.5}}},s.Interpolation={Linear:function(t,n){var i=t.length-1,e=i*n,r=Math.floor(e),o=s.Interpolation.Utils.Linear;return n<0?o(t[0],t[1],e):n>1?o(t[i],t[i-1],i-e):o(t[r],t[r+1>i?i:r+1],e-r)},Bezier:function(t,n){for(var i=0,e=t.length-1,r=Math.pow,o=s.Interpolation.Utils.Bernstein,a=0;a<=e;a++)i+=r(1-n,e-a)*r(n,a)*t[a]*o(e,a);return i},CatmullRom:function(t,n){var i=t.length-1,e=i*n,r=Math.floor(e),o=s.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(n<0&&(r=Math.floor(e=i*(1+n))),o(t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i],e-r)):n<0?t[0]-(o(t[0],t[0],t[1],t[1],-e)-t[0]):n>1?t[i]-(o(t[i],t[i],t[i-1],t[i-1],e-i)-t[i]):o(t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2],e-r)},Utils:{Linear:function(t,n,i){return(n-t)*i+t},Bernstein:function(t,n){var i=s.Interpolation.Utils.Factorial;return i(t)/i(n)/i(t-n)},Factorial:function(){var t=[1];return function(n){var i=1;if(t[n])return t[n];for(var e=n;e>1;e--)i*=e;return t[n]=i,i}}(),CatmullRom:function(t,n,i,e,r){var s=.5*(i-t),o=.5*(e-n),a=r*r,h=r*a;return(2*n-2*i+s+o)*h+(-3*n+3*i-2*s-o)*a+s*r+n}}},function(i){e=[],r=function(){return s}.apply(n,e),!(void 0!==r&&(t.exports=r))}(void 0)}).call(n,i(8))},function(t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(n){try{return c.call(null,t,0)}catch(n){return c.call(this,t,0)}}}function s(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function o(){m&&y&&(m=!1,y.length?d=y.concat(d):p=-1,d.length&&a())}function a(){if(!m){var t=r(o);m=!0;for(var n=d.length;n;){for(y=d,d=[];++p<n;)y&&y[p].run();p=-1,n=d.length}y=null,m=!1,s(t)}}function h(t,n){this.fun=t,this.array=n}function u(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var y,d=[],m=!1,p=-1;f.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];d.push(new h(t,n)),1!==d.length||m||r(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,n,i){"use strict";function e(t,n,i,r){this._x=t||0,this._y=n||0,this._z=i||0,this._order=r||e.DefaultOrder}Object.defineProperty(n,"__esModule",{value:!0}),n.Euler=void 0;var r=i(5),s=i(2),o=i(4),a=i(3);e.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],e.DefaultOrder="XYZ",e.prototype={constructor:e,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,n,i,e){return this._x=t,this._y=n,this._z=i,this._order=e||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,n,i){var e=a._Math.clamp,r=t.elements,s=r[0],o=r[4],h=r[8],u=r[1],c=r[5],l=r[9],f=r[2],y=r[6],d=r[10];return n=n||this._order,"XYZ"===n?(this._y=Math.asin(e(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(y,c),this._z=0)):"YXZ"===n?(this._x=Math.asin(-e(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(h,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,s),this._z=0)):"ZXY"===n?(this._x=Math.asin(e(y,-1,1)),Math.abs(y)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,s))):"ZYX"===n?(this._y=Math.asin(-e(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(y,d),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===n?(this._z=Math.asin(e(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(h,d))):"XZY"===n?(this._z=Math.asin(-e(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(y,c),this._y=Math.atan2(h,s)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+n),this._order=n,i!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(n,i,e){return void 0===t&&(t=new o.Matrix4),t.makeRotationFromQuaternion(n),this.setFromRotationMatrix(t,i,e)}}(),setFromVector3:function(t,n){return this.set(t.x,t.y,t.z,n||this._order)},reorder:function(){var t=new r.Quaternion;return function(n){return t.setFromEuler(this),this.setFromQuaternion(t,n)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new s.Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},n.Euler=e},function(t,n,i){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Obj=void 0;var r=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),s=i(2),o=i(9);n.Obj=function(){function t(){e(this,t),this.parent=null,this.children=[],this.worldPosition=new s.Vector3,this.position=new s.Vector3,this.scale=new s.Vector3(1,1,1),this.rotation=new o.Euler,this.vertices=[],this.worldVertices=[],this.willUpdate=!1,this.croods2D={scale:1,position:new s.Vector3,vertices:[]}}return r(t,[{key:"setPosition",value:function(t,n,i){this.position.set(t,n,i),this.onChange()}},{key:"setRotation",value:function(t,n,i){this.rotation.set(t,n,i,"XYZ"),this.onChange()}},{key:"setScale",value:function(t,n,i){this.scale.set(t,n,i),this.onChange()}},{key:"setWorldPosition",value:function(){this.worldPosition.copy(this.position),this.parent&&this.worldPosition.multiply(this.parent.scale).applyEuler(this.parent.rotation).add(this.parent.worldPosition),this.updateVertice(),this.children.forEach(function(t){t.setWorldPosition()})}},{key:"updateVertice",value:function(){var t=this;this.vertices.forEach(function(n,i){t.worldVertices[i]||(t.worldVertices[i]=t.worldPosition.clone()),t.worldVertices[i].copy(t.worldPosition).multiply(t.scale).applyEuler(t.rotation).add(n)})}},{key:"calc2DCrood",value:function(t){this.croods2D.scale=t.getScaleByZ(this.worldPosition.z),this.croods2D.position=t.get2DCrood(this.worldPosition),this.croods2D.vertices=this.worldVertices.map(function(n){return t.get2DCrood(n)}),this.children.forEach(function(n){n.calc2DCrood(t)})}},{key:"add",value:function(t){t.parent=this,this.children.indexOf(t)===-1&&(this.children.push(t),t.setWorldPosition())}},{key:"remove",value:function(t){delete t.parent,this.children=this.children.filter(function(t){return t!==obj})}},{key:"onChange",value:function(){this.setWorldPosition()}},{key:"_render",value:function(t,n){t.save(),this.render(t,n),t.restore(),this.children.forEach(function(i){i._render(t,n)})}},{key:"render",value:function(t,n){}}]),t}()},function(t,n){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),r=function(){function t(){i(this,t),this.objs=[]}return e(t,[{key:"add",value:function(t){this.objs.push(t)}},{key:"remove",value:function(t){this.objs=this.objs.filter(function(n){return n!==t})}}]),t}();n.Scene=r},function(t,n){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}(),r=function(){function t(n,e){i(this,t),this.ctx=n,this.cvs=e}return e(t,[{key:"render",value:function(t,n){var i=this;this.beforeRender(),t.objs.forEach(function(t){t.calc2DCrood(n),t._render(i.ctx,i.cvs)}),this.afterRender()}},{key:"beforeRender",value:function(){this.ctx.clearRect(0,0,this.cvs.width,this.cvs.height)}},{key:"afterRender",value:function(){}}]),t}();n.Renderer=r}])});