webpackJsonp([19],{"+GXX":function(t,s,a){"use strict";var e=a("nsZj"),i=(a.n(e),a("RGxH"));a.n(i)},F6E2:function(t,s){},Hwsp:function(t,s){},IjeR:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("bOdI"),i=a.n(e),n=(a("uCzd"),a("t8KH")),o=(a("+GXX"),a("fTPy")),r=a("eKM9"),c={data:function(){return{}},props:{id:[String,Number],image:String,name:String,price:[String,Number],state:[String,Number],currency:{type:String,default:"¥"}},methods:{onGoods:function(){this.id&&this.$router.push({name:"goods-detail",params:{goodsid:this.id}})},onBatch:function(){var t=goods;t.id,t.image,t.name,t.price,t.state;this.$router.repalce({name:"anticounterfeiting-batch",params:{goods:goods}})}}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"card-group-box"},[a("div",{staticClass:"van-cell"},[a("div",{staticClass:"van-cell__value van-cell__value--alone"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card__thumb"},[a("img",{attrs:{src:t.image,onerror:t.$ERRORPIC.noGoods}})]),t._v(" "),a("div",{staticClass:"card__content"},[a("div",{staticClass:"card__title"},[t._v(t._s(t.name?t.name:""))]),t._v(" "),a("div",{staticClass:"card__bottom"},[a("div",{staticClass:"card__price-group"},[a("span",{staticClass:"card__price"},[t._v(t._s(t.currency)+t._s(t.price))])]),t._v(" "),t.state?a("div",{staticClass:"card__btn"},[a("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.onGoods}},[t._v("点击购买")])],1):t._e()])])])])])])},staticRenderFns:[]};var d,u=a("VU/8")(c,l,!1,function(t){a("Hwsp")},"data-v-f138d648",null).exports,v=a("YD2r"),_=Object(r.a)({name:"anticounterfeiting-result",data:function(){return{info:{},goods:{}}},computed:{anti_code:function(){return this.$route.query.anti_code?this.$route.query.anti_code:""}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,s={};t.$store.dispatch("getBMapLocation").then(function(a){var e=a.location;s.lat=e.lat,s.lng=e.lng,s.anti_code=t.anti_code,Object(v.b)(s).then(function(s){var a=s.data;t.info=a,t.goods={goods_id:a.goods_id,pic_img:a.goods_img,name:a.goods_name,price:a.price,state:a.state},t.$refs.load.success()}).catch(function(s){t.$refs.load.fail()})})},onChain:function(){window.location.href=this.info.chain_url}},components:(d={Card:u},i()(d,o.a.name,o.a),i()(d,n.a.name,n.a),d)}),p={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("Layout",{ref:"load",staticClass:"anticounterfeiting-result"},[a("Navbar"),t._v(" "),a("Card",{attrs:{id:t.goods.goods_id,image:t.goods.pic_img,name:t.goods.name,price:t.goods.price,state:t.goods.state}}),t._v(" "),a("van-cell-group",{staticClass:"card-group-box"},[a("van-cell",{attrs:{title:"防伪信息"}}),t._v(" "),a("van-cell",[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"custom-text"},[t._v(t._s(t.info.search_tips))])]),t._v(" "),a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"custom-text"},[t._v("防伪编码："+t._s(t.info.anti_code))])]),t._v(" "),t.info.box_code?a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"custom-text"},[t._v("箱码："+t._s(t.info.box_code))])]):t._e(),t._v(" "),t.info.address?a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"custom-text"},[t._v("销售地址："+t._s(t.info.address))])]):t._e()])],1),t._v(" "),""!=t.info.batch_trace?a("van-cell-group",{staticClass:"card-group-box"},[a("van-cell",{attrs:{title:"商品溯源信息"}}),t._v(" "),a("van-steps",{attrs:{direction:"vertical",active:0,"active-color":"#f44"}},t._l(t.info.batch_trace,function(s,e){return a("van-step",{key:e,staticClass:"step-wrap"},[a("div",{staticClass:"step-head"},[a("span",{staticClass:"title"},[t._v(t._s(s.node_name))]),t._v(" "),a("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(s.create_time,"s")))])]),t._v(" "),a("div",{staticClass:"step-content"},[t._v(t._s(s.node_description))]),t._v(" "),a("div",{staticClass:"step-img"},t._l(s.proof_pic,function(s,e){return a("div",{key:e,staticClass:"img"},[a("img",{attrs:{src:s,onerror:t.$ERRORPIC.noGoods}})])}))])}))],1):t._e(),t._v(" "),1==t.info.chain_status?a("div",{staticClass:"btn-info"},[a("van-button",{attrs:{type:"danger",size:"normal"},on:{click:t.onChain}},[t._v("查看上链信息")])],1):t._e()],1)},staticRenderFns:[]};var f=a("VU/8")(_,p,!1,function(t){a("F6E2")},"data-v-4b379a3e",null);s.default=f.exports},"L/CL":function(t,s){},MrCz:function(t,s){},Pf0w:function(t,s){},RGxH:function(t,s){},YD2r:function(t,s,a){"use strict";s.a=function(t){return Object(e.a)({url:"/addons/anticounterfeiting/anticounterfeiting/isLogin",method:"post",data:t})},s.b=function(t){return Object(e.a)({url:"/addons/anticounterfeiting/anticounterfeiting/searchAnticounterfeiting",method:"post",data:t,errorCallback:!0})};var e=a("vLgD")},ZLD4:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("eKM9"),i=a("kPQs"),n=a("Lo3X"),o=a("i8hT"),r=a("CTMi"),c=a("EQSt"),l=a("oFuF"),d=Object(e.a)({name:"assemble-detail",data:function(){return{detail:{}}},computed:{goods:function(){return this.detail.goods?this.detail.goods:{}},finish_time:function(){return this.detail.finish_time?1e3*this.detail.finish_time:0},buyer_list:function(){return this.detail.buyer_list?this.detail.buyer_list:[]},status:function(){return void 0==this.detail.status?1:this.detail.status},diff_num:function(){var t=parseInt(this.detail.group_num),s=parseInt(this.detail.now_num);return isNaN(t-s)?0:t-s}},mounted:function(){this.$store.state.config.addons.groupshopping?this.loadData():this.$refs.load.fail({errorText:"未开启团购应用",showFoot:!1})},methods:{loadData:function(){var t=this;t.$store.dispatch("getAssembleDetail",t.$route.params.recordid).then(function(s){t.detail=s,t.onShare({title:t.detail.goods.goods_name,desc:"快来帮我拼团吧！",imgUrl:t.$BASESRC(t.detail.goods.pic_cover),link:t.$store.state.domain+"/wap"+t.$route.path+Object(l.k)(t.$route.query,"extend_code")}).then(function(){t.$refs.load.success()})}).catch(function(){t.$refs.load.fail()})},onJoin:function(){this.$router.push({name:"goods-detail",params:{goodsid:this.goods.goods_id},query:{record_id:this.detail.record_id}})},onInvite:function(){this.$Toast(this.$store.state.isWeixin?"微信环境下点击右上角分享":"手机浏览器点击底部工具栏分享")},onCallback:function(){this.$Toast("拼团已结束！"),this.detail.status=-1}},components:{CountDown:i.a,Divider:o.a,GoodsCard:n.a,AvatarGroup:c.a,ResultState:r.a}}),u={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("Layout",{ref:"load",staticClass:"assemble-detail bg-f8"},[a("Navbar"),t._v(" "),-1==t.status?a("ResultState",{attrs:{message:"拼团已结束"}}):a("div",[a("van-cell",[a("GoodsCard",{staticClass:"goods-card",attrs:{title:t.goods.goods_name,thumb:t._f("BASESRC")(t.goods.pic_cover),id:t.goods.goods_id}},[a("div",{staticClass:"van-card__price-group",attrs:{slot:"tags"},slot:"tags"},[a("div",{staticClass:"van-card__price"},[t._v(t._s(t._f("yuan")(t.goods.group_price)))]),t._v(" "),a("div",{staticClass:"van-card__origin-price"},[t._v(t._s(t._f("yuan")(t.goods.price)))])]),t._v(" "),a("div",{staticClass:"foot",attrs:{slot:"bottom"},slot:"bottom"},[1!==t.status?a("CountDown",{attrs:{time:t.finish_time,"done-text":"00:00:00"},on:{callback:t.onCallback}},[a("div",{staticClass:"time-end"},[a("span",[t._v("{%d}")]),t._v(" "),a("i",[t._v(":")]),t._v(" "),a("span",[t._v("{%h}")]),t._v(" "),a("i",[t._v(":")]),t._v(" "),a("span",[t._v("{%m}")]),t._v(" "),a("i",[t._v(":")]),t._v(" "),a("span",[t._v("{%s}")])])]):t._e(),t._v(" "),1!==t.status?a("div",[t._v("拼团将失效")]):a("div",{staticClass:"success-text"},[t._v("拼单成功")])],1)])],1),t._v(" "),a("Divider",{attrs:{title:"成功拼团好友"}},[a("div",{staticClass:"info",attrs:{slot:"html"},slot:"html"},[a("AvatarGroup",{staticClass:"avatar-group",attrs:{list:t.buyer_list,group_num:t.detail.group_num}}),t._v(" "),1!==t.status?a("div",[a("div",{staticClass:"tips"},[t._v("\n            再邀请\n            "),a("span",{staticClass:"num"},[t._v(t._s(t.diff_num))]),t._v("位朋友下单即可开团成功\n          ")]),t._v(" "),a("div",{staticClass:"btn-group"},[t.detail.self_order_id?t._e():a("van-button",{staticClass:"btn",attrs:{size:"normal",block:"",round:"",type:"danger"},on:{click:t.onJoin}},[t._v("参与拼团")]),t._v(" "),a("van-button",{staticClass:"btn",attrs:{size:"normal",block:"",round:"",type:"warning"},on:{click:t.onInvite}},[t._v("邀请朋友")])],1)]):t._e(),t._v(" "),t.detail.self_order_id?a("div",{staticClass:"text-center see-order"},[a("router-link",{attrs:{to:"/order/detail/"+t.detail.self_order_id}},[t._v("查看订单详情 >")])],1):t._e()],1)])],1)],1)},staticRenderFns:[]};var v=a("VU/8")(d,u,!1,function(t){a("MrCz")},"data-v-a91663a0",null);s.default=v.exports},fTPy:function(t,s,a){"use strict";var e=a("o69Z"),i=a("+2ln"),n=Object(e.k)("step"),o=n[0],r=n[1];s.a=o({beforeCreate:function(){var t=this.$parent.steps,s=this.$parent.slots().indexOf(this.$vnode);t.splice(-1===s?t.length:s,0,this)},beforeDestroy:function(){var t=this.$parent.steps.indexOf(this);t>-1&&this.$parent.steps.splice(t,1)},computed:{status:function(){var t=this.$parent.steps.indexOf(this),s=this.$parent.active;return t<s?"finish":t===s?"process":void 0}},render:function(t){var s,a=this.status,e=this.$parent,n=e.activeIcon,o=e.activeColor,c=e.direction,l="process"===a&&{color:o};return t("div",{class:["van-hairline",r([c,(s={},s[a]=a,s)])]},[t("div",{class:r("title"),style:l},[this.slots()]),t("div",{class:r("circle-container")},["process"!==a?t("i",{class:r("circle")}):this.slots("active-icon")||t(i.a,{attrs:{name:n},style:{color:o}})]),t("div",{class:r("line")})])}})},hVzu:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("eKM9"),i=a("YD2r"),n=a("VKKs"),o=a("QmeG"),r=Object(e.a)({name:"anticounterfeiting-index",data:function(){return{img_path:"",img_link:"",logo:"",input_val:""}},mounted:function(){this.$refs.load.success(),this.loadData()},methods:{loadData:function(){var t=this;Object(i.a)().then(function(s){1==s.code&&(t.$store.getters.token||(Object(n.i)("toPath",t.$router.currentRoute.fullPath),t.$router.replace({name:"login"}))),t.img_path=s.data.advert_pic?s.data.advert_pic:$BASEIMGPATH+"pic_legal.png",t.logo=s.data.logo?s.data.logo:"",t.img_link=s.data.advert_pic_link?s.data.advert_pic_link:""})},onPollResult:function(){if(!this.input_val)return this.$Toast("请输入防伪码！"),!1;this.$router.push({name:"anticounterfeiting-result",query:{anti_code:this.input_val}})},onScan:function(){var t=this;t.$store.dispatch("wxScanQRCode").then(function(s){if(-1!==s.indexOf(",")){var a=s.split(",")[1];a?t.$router.push({name:"anticounterfeiting-result",query:{anti_code:a}}):t.$Dialog.alert({message:"防伪码错误，请核对后重试!"}).then(function(){})}else s?t.$router.push({name:"anticounterfeiting-result",query:{anti_code:s}}):t.$Dialog.alert({message:"防伪码错误，请核对后重试!"}).then(function(){})})}},components:{HeadBanner:o.a}}),c={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("Layout",{ref:"load",staticClass:"anticounterfeiting-index bc-fff"},[a("Navbar"),t._v(" "),a("HeadBanner",{attrs:{src:t.img_path,link:t.img_link}}),t._v(" "),a("div",{staticClass:"logo-wrap"},[a("p",{staticClass:"text"},[t._v("防伪溯源商品查询")])]),t._v(" "),a("div",{staticClass:"polling-wrap"},[a("div",{staticClass:"text-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input_val,expression:"input_val"}],attrs:{type:"text",placeholder:"请输入防伪码"},domProps:{value:t.input_val},on:{input:function(s){s.target.composing||(t.input_val=s.target.value)}}}),t._v(" "),a("div",{staticClass:"scan",on:{click:t.onScan}},[a("van-icon",{attrs:{name:"scan",size:"24px"}})],1)]),t._v(" "),a("van-button",{attrs:{type:"info",size:"normal"},on:{click:t.onPollResult}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"tips"},[a("h4",[t._v("防伪溯源查询方法：")]),t._v(" "),a("p",[t._v("1.输入商品防伪标签中的防伪溯源码，点击查询；")]),t._v(" "),a("p",[t._v("2.点击输入框右侧的扫一扫图标，扫描防伪二维码；")]),t._v(" "),a("h4",[t._v("查询结果说明：")]),t._v(" "),a("p",[t._v("1.如果该防伪码首次被查询，则说明是正品；")]),t._v(" "),a("p",[t._v("2.如果该二维码被查询过，若非本人所为，则说明可能是伪劣假冒商品；")]),t._v(" "),a("p",[t._v("3.如果防伪码错误，则说明该商品未经官方验证。")])])],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("L/CL")},"data-v-2518b116",null);s.default=l.exports},t8KH:function(t,s,a){"use strict";var e=a("o69Z"),i=a("LmuL"),n=a("+2ln"),o=Object(e.k)("steps"),r=o[0],c=o[1];s.a=r({props:{icon:String,title:String,active:Number,iconClass:String,description:String,direction:{type:String,default:"horizontal"},activeColor:{type:String,default:i.c},activeIcon:{type:String,default:"checked"}},data:function(){return{steps:[]}},render:function(t){var s=this.icon,a=this.title,e=this.description,i=this.slots,o=(i("icon")||s)&&t("div",{class:c("icon")},[i("icon")||t(n.a,{attrs:{name:s},class:this.iconClass})]),r=t("div",{class:c("message")},[t("div",{class:c("title")},[a]),t("div",{class:[c("desc"),"van-ellipsis"]},[e])]);return t("div",{class:c([this.direction])},[(a||e)&&t("div",{class:c("status")},[o,r,i("message-extra")]),t("div",{class:c("items",{alone:!a&&!e})},[i()])])}})},uCzd:function(t,s,a){"use strict";var e=a("nsZj"),i=(a.n(e),a("Pf0w"));a.n(i)}});