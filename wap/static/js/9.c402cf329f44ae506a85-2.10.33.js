webpackJsonp([9],{"1Zpu":function(t,e){},"5fmV":function(t,e){},"7QPx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),s=o.n(a),n=o("eKM9"),r=o("k8Id"),i={props:{form:Object},data:function(){return{areaInfo:{text:"",code:"",id:[]}}},methods:{onArea:function(t){this.areaInfo=t,this.form.company_province_id=t.id[0],this.form.company_city_id=t.id[1],this.form.company_district_id=t.id[2]}},components:{CellAreaPopup:r.a}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",{attrs:{title:"基本信息"}},[o("van-field",{attrs:{label:"联系人",required:"",placeholder:"必填，请输入联系人"},model:{value:t.form.contacts_name,callback:function(e){t.$set(t.form,"contacts_name",e)},expression:"form.contacts_name"}}),t._v(" "),o("van-field",{attrs:{label:"联系电话",required:"",type:"number",maxlength:"11",placeholder:"必填，请输入联系电话"},model:{value:t.form.contacts_phone,callback:function(e){t.$set(t.form,"contacts_phone",e)},expression:"form.contacts_phone"}}),t._v(" "),o("van-field",{attrs:{label:"电子邮箱",required:"",type:"email",placeholder:"必填，请输入电子邮箱"},model:{value:t.form.contacts_email,callback:function(e){t.$set(t.form,"contacts_email",e)},expression:"form.contacts_email"}}),t._v(" "),o("CellAreaPopup",{attrs:{label:"联系地址",required:"","area-type":"3",info:t.areaInfo},on:{confirm:t.onArea}}),t._v(" "),o("van-field",{attrs:{label:"详细地址",required:"",placeholder:"必填，请输入详细地址"},model:{value:t.form.company_address_detail,callback:function(e){t.$set(t.form,"company_address_detail",e)},expression:"form.company_address_detail"}})],1)},staticRenderFns:[]},l=o("VU/8")(i,c,!1,null,null,null).exports,p=o("txgx"),u=o("ADxc"),d=o("J68u"),m={props:{value:String,label:String,showExample:{type:Boolean,default:!1},exampleImg:String},data:function(){return{arr:[],showExamplePopup:!1}},methods:{onFinish:function(t){var e=t.src;this.arr.push(e),this.$emit("input",this.arr.join(","))},onDelete:function(t){this.$emit("input",t.join(","))}},components:{ImagePanelPreview:u.a,UploadImages:d.a}},f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell",{staticClass:"cell-panel van-cell--required",attrs:{title:t.label}},[o("ImagePanelPreview",{attrs:{list:t.arr},on:{delete:t.onDelete}}),t._v(" "),t.arr.length?t._e():o("UploadImages",{attrs:{"max-num":"1",total:t.arr.length},on:{finish:t.onFinish}}),t._v(" "),t.showExample?o("span",{staticClass:"a-link example-text",on:{click:function(e){t.showExamplePopup=!0}}},[t._v("示例")]):t._e(),t._v(" "),o("van-popup",{staticClass:"popup-box",model:{value:t.showExamplePopup,callback:function(e){t.showExamplePopup=e},expression:"showExamplePopup"}},[o("img",{staticClass:"example-img",attrs:{src:t.exampleImg}})])],1)},staticRenderFns:[]};var h=o("VU/8")(m,f,!1,function(t){o("1Zpu")},"data-v-73958f77",null).exports,_={props:{form:Object},data:function(){return{areaInfo:{text:"",code:"",id:[]},companyTypeColumn:[{text:"私营企业"},{text:"个体户"},{text:"外企"},{text:"中外合资"}]}},methods:{onArea:function(t){this.areaInfo=t,this.form.company_province_id=t.id[0],this.form.company_city_id=t.id[1],this.form.company_district_id=t.id[2]},onCompanyType:function(t){var e=t.text;this.form.company_type=e}},components:{CellSelector:p.a,CellAreaPopup:r.a,CellUploadImage:h}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",{attrs:{title:"基本信息"}},[o("van-field",{attrs:{label:"联系人",required:"",placeholder:"必填，请输入联系人"},model:{value:t.form.contacts_name,callback:function(e){t.$set(t.form,"contacts_name",e)},expression:"form.contacts_name"}}),t._v(" "),o("van-field",{attrs:{label:"联系电话",required:"",type:"number",maxlength:"11",placeholder:"必填，请输入联系电话"},model:{value:t.form.contacts_phone,callback:function(e){t.$set(t.form,"contacts_phone",e)},expression:"form.contacts_phone"}}),t._v(" "),o("van-field",{attrs:{label:"电子邮箱",required:"",type:"email",placeholder:"必填，请输入电子邮箱"},model:{value:t.form.contacts_email,callback:function(e){t.$set(t.form,"contacts_email",e)},expression:"form.contacts_email"}}),t._v(" "),o("CellAreaPopup",{attrs:{label:"联系地址",required:"","area-type":"3",info:t.areaInfo},on:{confirm:t.onArea}}),t._v(" "),o("van-field",{attrs:{label:"详细地址",required:"",placeholder:"必填，请输入详细地址"},model:{value:t.form.company_address_detail,callback:function(e){t.$set(t.form,"company_address_detail",e)},expression:"form.company_address_detail"}}),t._v(" "),o("van-field",{attrs:{label:"公司名称",required:"",placeholder:"必填，请输入公司名称"},model:{value:t.form.company_name,callback:function(e){t.$set(t.form,"company_name",e)},expression:"form.company_name"}}),t._v(" "),o("CellSelector",{attrs:{label:"公司类型",required:"",columns:t.companyTypeColumn,placeholder:"请选择公司类型"},on:{confirm:t.onCompanyType}}),t._v(" "),o("van-field",{attrs:{label:"公司电话",required:"",type:"number",placeholder:"必填，请输入公司电话"},model:{value:t.form.company_phone,callback:function(e){t.$set(t.form,"company_phone",e)},expression:"form.company_phone"}}),t._v(" "),o("van-field",{attrs:{label:"员工人数",required:"",type:"number",placeholder:"必填，请输入员工人数"},model:{value:t.form.company_employee_count,callback:function(e){t.$set(t.form,"company_employee_count",e)},expression:"form.company_employee_count"}}),t._v(" "),o("van-field",{attrs:{label:"注册资金(万元)",required:"",placeholder:"必填，请输入注册资金"},model:{value:t.form.company_registered_capital,callback:function(e){t.$set(t.form,"company_registered_capital",e)},expression:"form.company_registered_capital"}}),t._v(" "),o("van-field",{attrs:{label:"营业执照号",required:"",placeholder:"必填，请输入营业执照号"},model:{value:t.form.business_licence_number,callback:function(e){t.$set(t.form,"business_licence_number",e)},expression:"form.business_licence_number"}}),t._v(" "),o("van-field",{attrs:{label:"经营范围",required:"",type:"textarea",placeholder:"必填，请输入经营范围"},model:{value:t.form.business_sphere,callback:function(e){t.$set(t.form,"business_sphere",e)},expression:"form.business_sphere"}}),t._v(" "),o("CellUploadImage",{attrs:{label:"营业执照"},model:{value:t.form.business_licence_number_electronic,callback:function(e){t.$set(t.form,"business_licence_number_electronic",e)},expression:"form.business_licence_number_electronic"}})],1)},staticRenderFns:[]},b=o("VU/8")(_,v,!1,null,null,null).exports,y={props:{form:Object},components:{CellUploadImage:h}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",{staticClass:"cell-group",attrs:{title:"身份验证"}},[o("van-field",{attrs:{label:"身份证号",required:"",placeholder:"必填，请输入身份证号"},model:{value:t.form.contacts_card_no,callback:function(e){t.$set(t.form,"contacts_card_no",e)},expression:"form.contacts_card_no"}}),t._v(" "),o("CellUploadImage",{attrs:{label:"手持身份证照","show-example":"","example-img":t.$BASEIMGPATH+"identity-img-1.png"},model:{value:t.form.contacts_card_electronic_1,callback:function(e){t.$set(t.form,"contacts_card_electronic_1",e)},expression:"form.contacts_card_electronic_1"}}),t._v(" "),o("CellUploadImage",{attrs:{label:"身份证正照","show-example":"","example-img":t.$BASEIMGPATH+"identity-img-2.png"},model:{value:t.form.contacts_card_electronic_2,callback:function(e){t.$set(t.form,"contacts_card_electronic_2",e)},expression:"form.contacts_card_electronic_2"}}),t._v(" "),o("CellUploadImage",{attrs:{label:"身份证反照","show-example":"","example-img":t.$BASEIMGPATH+"identity-img-3.png"},model:{value:t.form.contacts_card_electronic_3,callback:function(e){t.$set(t.form,"contacts_card_electronic_3",e)},expression:"form.contacts_card_electronic_3"}})],1)},staticRenderFns:[]},x=o("VU/8")(y,g,!1,null,null,null).exports,$=o("S49b"),C={data:function(){return{shopTypeColumn:[]}},props:{form:Object},mounted:function(){var t=this;Object($.g)().then(function(e){e.data.shop_group_list.map(function(e){t.shopTypeColumn.push({text:e.group_name,id:e.shop_group_id})})})},methods:{onConfirm:function(t){var e=t.id,o=t.text;this.form.shop_group_id=e,this.form.shop_group_name=o}},components:{CellSelector:p.a}},S={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",{attrs:{title:"店铺信息"}},[o("van-field",{attrs:{label:"店铺名称",required:"",placeholder:"必填，请输入店铺名称"},model:{value:t.form.shop_name,callback:function(e){t.$set(t.form,"shop_name",e)},expression:"form.shop_name"}}),t._v(" "),o("CellSelector",{attrs:{label:"店铺类型",required:"",columns:t.shopTypeColumn,placeholder:"请选择店铺类型"},on:{confirm:t.onConfirm}})],1)},staticRenderFns:[]},k=o("VU/8")(C,S,!1,null,null,null).exports,P=o("bp/4"),j=o("w3CS"),w=o("oFuF"),O=o("msXN"),F=Object(n.a)({name:"shop-apply",data:function(){return{form:{apply_type:1},formList:[],isLoading:!1}},watch:{"form.apply_type":function(t){1==t&&(delete this.form.company_name,delete this.form.company_type,delete this.form.company_phone,delete this.form.company_employee_count,delete this.form.company_registered_capital,delete this.form.business_licence_number,delete this.form.business_sphere,delete this.form.business_licence_number_electronic)}},mixins:[O.a],computed:{componentName:function(){return 1==this.form.apply_type?"IndividualInfoFormGroup":"CompanyInfoFormGroup"},isForm:function(){return!Object(w.s)(this.formList)}},mounted:function(){var t=this;this.$store.dispatch("getShopApplyState").then(function(e){"apply"==e.status||"refuse_apply"==e.status?t.loadData():t.$router.replace("/shop/centre")}).catch(function(e){e?t.$refs.load.fail({errorText:"未开启店铺应用",showFoot:!1}):t.$refs.load.fail()})},methods:{loadData:function(){var t=this;Object($.c)().then(function(e){var o=e.data;t.formList=Object(w.s)(o.custom_form)?[]:o.custom_form,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},onApply:function(){var t=this,e=this.form,o=this.$refs.FormGroup?this.$refs.FormGroup.getFormData():"";if(this.isForm){if(!o)return!1;delete e.apply_type,e.post_data=s()(o)}else{if(!(Object(j.k)(e.contacts_name,"请输入联系人姓名！")&&Object(j.f)(e.contacts_phone)&&Object(j.c)(e.contacts_email)&&Object(j.d)(e.company_province_id,"请选择地区！")&&Object(j.d)(e.company_address_detail,"请输入详细地址！")))return!1;if(2==e.apply_type&&!(Object(j.k)(e.company_name,"请输入公司名称！")&&Object(j.d)(e.company_type,"请选择公司类型!")&&Object(j.d)(e.company_phone,"请输入公司电话!")&&Object(j.d)(e.company_employee_count,"请输入员工人数!")&&Object(j.d)(e.company_registered_capital,"请输入注册资金!")&&Object(j.d)(e.business_licence_number,"请输入营业执照号!")&&Object(j.d)(e.business_sphere,"请输入经营范围!")&&Object(j.d)(e.business_licence_number_electronic,"请上传营业执照!")))return!1;if(!(Object(j.a)(e.contacts_card_no)&&Object(j.d)(e.contacts_card_electronic_1,"请上传身份证照！")&&Object(j.d)(e.contacts_card_electronic_2,"请上传身份证正照！")&&Object(j.d)(e.contacts_card_electronic_3,"请上传身份证反照！")))return!1}if(!Object(j.d)(e.shop_name,"请输入店铺名称！")||!Object(j.d)(e.shop_group_id,"请选择店铺类型！"))return!1;this.isLoading=!0,Object($.a)(e).then(function(e){e.message;t.$store.dispatch("getShopApplyState"),t.$Toast.success("提交成功"),t.$router.replace("/shop/centre"),t.isLoading=!1}).catch(function(){t.isLoading=!1})}},components:{IndividualInfoFormGroup:l,CompanyInfoFormGroup:b,IdentityInfoFormGroup:x,ShopInfoFormGroup:k,FormGroup:P.a}}),I={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"shop-apply bg-f8"},[o("Navbar"),t._v(" "),t.isForm?o("FormGroup",{ref:"FormGroup",attrs:{items:t.formList}}):[o("van-cell-group",{staticClass:"cell-group"},[o("van-cell",{staticClass:"cell-panel",attrs:{title:"身份类型"}},[o("van-radio-group",{staticClass:"cell-radio-group",model:{value:t.form.apply_type,callback:function(e){t.$set(t.form,"apply_type",e)},expression:"form.apply_type"}},[o("van-radio",{attrs:{name:1}},[t._v("个人")]),t._v(" "),o("van-radio",{attrs:{name:2}},[t._v("公司")])],1)],1)],1),t._v(" "),o(t.componentName,{tag:"component",attrs:{form:t.form}}),t._v(" "),o("IdentityInfoFormGroup",{attrs:{form:t.form}})],t._v(" "),o("ShopInfoFormGroup",{attrs:{form:t.form}}),t._v(" "),o("div",{staticClass:"foot-btn-group"},[o("van-button",{attrs:{size:"normal",round:"",type:"danger",block:"",loading:t.isLoading},on:{click:function(e){t.bindMobile("onApply")}}},[t._v("申请")])],1)],2)},staticRenderFns:[]};var L=o("VU/8")(F,I,!1,function(t){o("eWJ7")},"data-v-a73bf6e4",null);e.default=L.exports},"8gZK":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("eKM9"),s=o("muf+"),n=o("NiMi"),r=o("S49b"),i=o("oFuF"),c=Object(a.a)({name:"shop-home",data:function(){return{info:{},items:{},page:{}}},watch:{"$route.params.shopid":function(t){t&&void 0!==t&&this.loadData()}},computed:{pageStyle:function(){return{background:this.page.background}}},mounted:function(){this.$store.state.config.addons.shop?this.loadData():this.$refs.load.fail({errorText:"未开启店铺应用",showFoot:!1})},methods:{loadData:function(){var t=this;t.$store.state.config.addons.shop?Object(r.h)(t.$route.params.shopid).then(function(e){var o=e.data;t.info=o,t.onShare({title:t.info.shop_name+" - "+t.$store.getters.config.mall_name,desc:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的店铺，赶快来看看吧。",imgUrl:t.info.shop_logo,link:t.$store.state.domain+"/wap"+t.$route.path+Object(i.k)(t.$route.query,"extend_code")}),t.getCustom()}).catch(function(e){t.$refs.load.fail()}):t.$refs.load.fail({errorText:"未开启店铺应用",showFoot:!1})},getCustom:function(){var t=this;this.$store.dispatch("getCustom",{type:2,shop_id:this.$route.params.shopid}).then(function(e){for(var o in t.items=e.template_data?e.template_data.items:{},t.items)"shop_head"==t.items[o].id&&(t.items[o].info=t.info);t.page=e.template_data?e.template_data.page:{},t.page.title&&(document.title=t.page.title),t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})}},components:{InviteWechat:s.a,CustomGroup:n.a}}),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"shop-home",style:this.pageStyle},[e("InviteWechat"),this._v(" "),e("CustomGroup",{attrs:{type:"2",items:this.items}})],1)},staticRenderFns:[]};var p=o("VU/8")(c,l,!1,function(t){o("BZ1J")},"data-v-093be84b",null);e.default=p.exports},BZ1J:function(t,e){},MPP5:function(t,e){},NfGw:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("eKM9"),s=o("QmeG"),n=o("bOdI"),r=o.n(n),i=(o("FO5P"),o("woHG")),c=o("msXN"),l={data:function(){return{}},props:{value:{type:Boolean,default:!1},title:String,content:String},mixins:[c.i],methods:{goBack:function(){this.$emit("input",!1)},onApply:function(){var t=this;this.$emit("input",!1),setTimeout(function(){t.$router.push("/shop/apply")},100)}},components:r()({},i.a.name,i.a)},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-popup",{staticClass:"popup-protocol",attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[o("van-nav-bar",{attrs:{title:t.title,"left-arrow":"",fixed:"","z-index":999},on:{"click-left":function(e){t.$emit("input",!1)}}}),t._v(" "),o("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),o("div",{staticClass:"fixed-foot-btn-group"},[o("van-button",{attrs:{size:"normal",type:"danger",round:"",block:""},on:{click:t.onApply}},[t._v("同意，前往申请")])],1)],1)},staticRenderFns:[]};var u=o("VU/8")(l,p,!1,function(t){o("sySy")},"data-v-7f324a2c",null).exports,d=o("S49b"),m=Object(a.a)({name:"shop-centre",data:function(){return{tab_active:0,tabs:[],showProtocol:!1,joinInfo:{}}},computed:{stateText:function(){return"apply"==this.$store.state.shop.applyState?"申请入驻":"查看进度"}},mounted:function(){this.$store.state.config.addons.shop?this.loadData():this.$refs.load.fail({errorText:"未开启店铺应用",showFoot:!1})},methods:{loadData:function(){var t=this;this.$store.dispatch("getShopApplyState").then(function(){Object(d.d)().then(function(e){var o=e.data;t.tabs=o.shop_protocol.filter(function(t,e){return e<4}),t.joinInfo=o.shop_protocol[4],t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})}).catch(function(e){e?t.$refs.load.fail({errorText:"未开启店铺应用",showFoot:!1}):t.$refs.load.fail()})},onClick:function(){"apply"==this.$store.state.shop.applyState?this.showProtocol=!0:this.$router.push("/shop/result")}},components:{HeadBanner:s.a,Protocol:u}}),f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"shop-centre"},[o("Navbar"),t._v(" "),o("HeadBanner",{attrs:{src:t.$BASEIMGPATH+"shop-join-adv.png"}}),t._v(" "),o("van-cell",{staticClass:"cell"},[o("div",{staticClass:"foot-btn-group"},[o("van-button",{attrs:{round:"",size:"normal",block:"",type:"danger"},on:{click:t.onClick}},[t._v(t._s(t.stateText))])],1)]),t._v(" "),o("van-tabs",{model:{value:t.tab_active,callback:function(e){t.tab_active=e},expression:"tab_active"}},t._l(t.tabs,function(e,a){return o("van-tab",{key:a,attrs:{title:e.title}},[o("div",{staticClass:"content"},[e.content?o("div",{domProps:{innerHTML:t._s(e.content)}}):o("div",{staticClass:"empty"},[t._v("暂无协议")])])])})),t._v(" "),"apply"==t.$store.state.shop.applyState?o("Protocol",{attrs:{title:t.joinInfo.title,content:t.joinInfo.content},model:{value:t.showProtocol,callback:function(e){t.showProtocol=e},expression:"showProtocol"}}):t._e()],1)},staticRenderFns:[]};var h=o("VU/8")(m,f,!1,function(t){o("5fmV")},"data-v-571c80e6",null);e.default=h.exports},XL2X:function(t,e){},Yx4s:function(t,e){},ZMkM:function(t,e){},cvzu:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("eKM9"),s=o("S49b"),n=o("msXN"),r=o("iVvP"),i=Object(a.a)({name:"shop-collection",data:function(){return{}},mixins:[n.e],activated:function(){1==this.$store.state.config.addons.shop&&this.loadList("init")},methods:{loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(s.f)(e.params).then(function(o){var a=o.data,s=a.shop_list;e.pushToList(s,a.page_count,t)}).catch(function(){e.loadError()})}},components:{Empty:r.a}}),c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shop-collection bg-f8"},[t.$store.state.config.addons.shop?[o("Navbar"),t._v(" "),o("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,a){return o("van-cell",{key:a,attrs:{clickable:"",to:{name:"shop-home",params:{shopid:e.shop_id}}}},[o("div",{staticClass:"item"},[o("div",{staticClass:"img"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.shop_logo,expression:"item.shop_logo"}],key:e.shop_logo,attrs:{"pic-type":"shop"}})]),t._v(" "),o("div",{staticClass:"text"},[o("div",{staticClass:"name"},[t._v(t._s(e.shop_name))]),t._v(" "),o("van-row",{attrs:{type:"flex",justify:"space-between"}},[o("van-col",{staticClass:"text-maintone"}),t._v(" "),o("van-col",{staticClass:"van-col-icon"},[o("van-icon",{attrs:{name:"like"}})],1)],1)],1)])])}))]:o("Empty",{attrs:{"page-type":"fail",message:"未开启店铺应用","show-foot":!1}})],2)},staticRenderFns:[]};var l=o("VU/8")(i,c,!1,function(t){o("XL2X")},"data-v-413f3b36",null);e.default=l.exports},dzhF:function(t,e,o){"use strict";var a={props:["items"],components:{Star:o("OChx").a}},s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",{staticClass:"cell-group card-group-box"},[o("van-cell",{attrs:{to:"/shop/home/"+t.items.shop_id,clickable:""}},[o("div",{staticClass:"info"},[o("van-col",{staticClass:"logo-box",attrs:{span:"10"}},[o("div",{staticClass:"logo e-handle"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.items.shop_logo,expression:"items.shop_logo"}],key:t.items.shop_logo,attrs:{"pic-type":"shop"}})])]),t._v(" "),o("van-col",{staticClass:"text-box",attrs:{span:"14"}},[o("div",[o("span",{staticClass:"shop-name"},[t._v(t._s(t.items.shop_name))]),t._v(" "),t.items.group_name&&t.items.is_visible?o("span",{staticClass:"group-name"},[t._v("/ "+t._s(t.items.group_name))]):t._e(),t._v(" "),o("Star",{staticClass:"score",attrs:{value:t.items.comprehensive}})],1),t._v(" "),o("div",[0==t.items.shop_id?o("van-tag",{staticClass:"tag",attrs:{type:"danger"}},[t._v("自营")]):t._e(),t._v(" "),1==t.items.has_store?o("van-tag",{staticClass:"tag",attrs:{type:"primary"}},[t._v("O2O")]):t._e()],1)])],1)]),t._v(" "),t.items.goods_list.length>0?o("van-cell",[o("div",{staticClass:"goods-list"},t._l(t.items.goods_list,function(e,a){return o("router-link",{key:a,staticClass:"item e-handle",attrs:{tag:"div",to:"/goods/detail/"+e.goods_id}},[o("div",{staticClass:"img"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.logo,expression:"item.logo"}],key:e.logo,attrs:{"pic-type":"square"}})]),t._v(" "),o("div",{staticClass:"price"},[t._v(t._s(t._f("yuan")(e.price)))])])}))]):t._e()],1)},staticRenderFns:[]};var n=o("VU/8")(a,s,!1,function(t){o("zNSg")},"data-v-5217ff71",null);e.a=n.exports},eWJ7:function(t,e){},hHG1:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("eKM9"),s=o("CTMi"),n=Object(a.a)({name:"shop-result",data:function(){return{}},computed:{stateInfo:function(){var t=this.$store.state.shop,e=t.applyState,o=t.shopManageUrl,a={};return"is_system"==e&&(a.state="success",a.message="您已是店铺卖家，请用电脑浏览器访问卖家后台管理你的店铺",a.url=o),"refuse_apply"==e&&(a.state="error",a.message="商家拒绝了您的入驻申请"),"is_apply"==e&&(a.state="wait",a.message="店铺入驻审核中"),a}},mounted:function(){var t=this;this.$store.dispatch("getShopApplyState").then(function(e){"apply"==e.status?t.$router.replace("/shop/centre"):t.$refs.load.success()}).catch(function(e){e?t.$refs.load.fail({errorText:"未开启店铺应用",showFoot:!1}):t.$refs.load.fail()})},components:{ResultState:s.a}}),r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"shop-result bg-f8"},[o("Navbar"),t._v(" "),o("ResultState",{attrs:{state:t.stateInfo.state,message:t.stateInfo.message}},["error"==t.stateInfo.state?o("div",{staticClass:"foot-btn-group",attrs:{slot:"footer"},slot:"footer"},[o("van-button",{attrs:{round:"",size:"normal",block:"",type:"danger",to:"/shop/apply"}},[t._v("重新申请")])],1):t._e(),t._v(" "),"success"==t.stateInfo.state?o("div",{staticClass:"flex-auto-center",attrs:{slot:"footer"},slot:"footer"},[o("van-field",{staticClass:"field",attrs:{"input-align":"center",value:t.stateInfo.url,disabled:""}})],1):t._e()])],1)},staticRenderFns:[]};var i=o("VU/8")(n,r,!1,function(t){o("opIc")},"data-v-12c0fa5f",null);e.default=i.exports},j9dY:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("eKM9"),s=o("WyhY"),n=o("uUuq"),r=o("dzhF"),i=o("S49b"),c=o("msXN"),l=o("iVvP"),p=Object(a.a)({name:"shop-list",data:function(){return{params:{page_index:1,search_text:"",order:"",sort:"",shop_group_id:""}}},mixins:[c.e],mounted:function(){this.$store.state.config.addons.shop&&this.loadList()},methods:{loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(i.i)(e.params).then(function(o){var a=o.data,s=a.shop_list.map(function(t){return t.delivery_credit=Math.round(t.delivery_credit),t.description_credit=Math.round(t.description_credit),t.service_credit=Math.round(t.service_credit),t});e.pushToList(s,a.page_count,t)}).catch(function(){e.loadError()})},setParams:function(t){this.params=t,this.loadList("init")}},components:{HeadSearch:s.a,TabSortScreen:n.a,ShopPanelGroup:r.a,Empty:l.a}}),u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shop-list bg-f8"},[t.$store.state.config.addons.shop?[o("HeadSearch",{staticClass:"shop-search-head",attrs:{"search-type":"shop"}}),t._v(" "),o("TabSortScreen",{attrs:{"set-params":t.setParams}}),t._v(" "),o("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"shop",message:"没有相关店铺"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[o("div",{staticClass:"list"},t._l(t.list,function(t,e){return o("ShopPanelGroup",{key:e,attrs:{items:t}})}))])]:o("Empty",{attrs:{"page-type":"fail",message:"未开启店铺应用","show-foot":!1}})],2)},staticRenderFns:[]};var d=o("VU/8")(p,u,!1,function(t){o("Yx4s")},"data-v-1e93c2fc",null);e.default=d.exports},opIc:function(t,e){},sySy:function(t,e){},uUuq:function(t,e,o){"use strict";var a=o("oFuF"),s=o("S49b"),n={data:function(){return{groupPopupShow:!1,tabs:[{name:"全部",sort:!1,isShow:!0},{name:"销量",icon:"v-icon-sort2",sort:"sale_num",sort_type:"DESC",isShow:!this.$store.state.config.addons.store},{name:"人气",icon:"v-icon-sort2",sort:"shop_collect",sort_type:"DESC",isShow:!0},{name:"评分",icon:"v-icon-sort2",sort:"comprehensive",sort_type:"DESC",isShow:!0},{name:"附近门店",disabled:!0,sort:!1,isShow:this.$store.state.config.addons.store}],shopGroupList:[],shopGroupActive:0}},computed:{overlayStyle:function(){return{zIndex:1e3}},shopGroupText:function(){var t="全部";return Object(a.s)(this.shopGroupList&&0!=this.shopGroupActive)||(t=this.shopGroupList[this.shopGroupActive-1].group_name),t}},props:{setParams:{type:Function,default:null}},methods:{onSort:function(t){var e=this,o=e.$parent.params,n=0===t?0:e.$store.state.config.addons.store?t+1:t;if(0===n)return Object(a.s)(e.shopGroupList)&&Object(s.g)().then(function(t){var o=t.data;e.shopGroupList=o.shop_group_list.filter(function(t){return t.is_visible})}),e.groupPopupShow=!e.groupPopupShow,!1;e.shopGroupActive=0,e.groupPopupShow=!1,o.page_index=1,o.order=e.tabs[n].sort,o.shop_group_id="",e.tabs[n].sort_type?(o.sort=e.tabs[n].sort_type,"DESC"==e.tabs[n].sort_type?e.tabs[n].sort_type="ASC":e.tabs[n].sort_type="DESC"):o.sort="",e.setParams&&e.setParams(o)},onDisabled:function(){this.$router.push("/store/list")},onGroupSort:function(t,e){var o=this.$parent.params;o.page_index=1,o.order="",o.sort="",o.shop_group_id=e,this.shopGroupActive=t,this.groupPopupShow=!1,this.setParams&&this.setParams(o)},isShowPopup:function(t){this.groupPopupShow="tab"===t||t}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tab-sort-screen"},[o("van-tabs",{on:{click:t.onSort,disabled:t.onDisabled}},t._l(t.tabs,function(e,a){return e.isShow?o("van-tab",{key:a,attrs:{disabled:e.disabled}},[o("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s("全部"==e.name?t.shopGroupText:e.name)+"\n        "),e.icon?o("van-icon",{attrs:{name:e.icon+" "+e.sort_type}}):t._e()],1)]):t._e()})),t._v(" "),o("van-popup",{staticClass:"shop-popup",attrs:{position:"top","close-on-click-overlay":!1,"overlay-style":t.overlayStyle},model:{value:t.groupPopupShow,callback:function(e){t.groupPopupShow=e},expression:"groupPopupShow"}},[o("van-cell-group",[o("van-cell",{class:0===t.shopGroupActive?"active":"",attrs:{clickable:"",title:"全部"},on:{click:function(e){t.onGroupSort(0,"")}}}),t._v(" "),t._l(t.shopGroupList,function(e,a){return o("van-cell",{key:a,class:t.shopGroupActive===a+1?"active":"",attrs:{clickable:"",title:e.group_name},on:{click:function(o){t.onGroupSort(a+1,e.shop_group_id)}}})})],2)],1)],1)},staticRenderFns:[]};var i=o("VU/8")(n,r,!1,function(t){o("ZMkM")},"data-v-5716736d",null);e.a=i.exports},vjrZ:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("eKM9"),s=o("WyhY"),n=o("uUuq"),r=o("dzhF"),i=o("S49b"),c=o("msXN"),l=o("iVvP"),p=Object(a.a)({name:"shop-search",data:function(){return{params:{page_index:1,search_text:this.$route.query.search_text||"",order:"",sort:"",shop_group_id:""}}},mixins:[c.e],watch:{"$route.query":function(t){var e=t.search_text;"shop-search"===this.$route.name&&(this.params.search_text=e||"",this.params.order="",this.params.sort="",this.params.shop_group_id="",this.loadList("init"))}},mounted:function(){this.$store.state.config.addons.shop&&this.loadList()},methods:{loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(i.i)(e.params).then(function(o){var a=o.data,s=a.shop_list.map(function(t){return t.delivery_credit=Math.round(t.delivery_credit),t.description_credit=Math.round(t.description_credit),t.service_credit=Math.round(t.service_credit),t});e.pushToList(s,a.page_count,t)}).catch(function(){e.loadError()})},setParams:function(t){this.params=t,this.loadList("init")}},components:{HeadSearch:s.a,TabSortScreen:n.a,ShopPanelGroup:r.a,Empty:l.a}}),u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shop-search bg-f8"},[t.$store.state.config.addons.shop?[o("HeadSearch",{staticClass:"shop-search-head",attrs:{"search-type":"shop",placeholder:t.params.search_text,showLeft:"",replace:""}}),t._v(" "),o("TabSortScreen",{attrs:{"set-params":t.setParams}}),t._v(" "),o("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"shop",message:"没有相关店铺"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[o("div",{staticClass:"list"},t._l(t.list,function(t,e){return o("ShopPanelGroup",{key:e,attrs:{items:t}})}))])]:o("Empty",{attrs:{"page-type":"fail",message:"未开启店铺应用","show-foot":!1}})],2)},staticRenderFns:[]};var d=o("VU/8")(p,u,!1,function(t){o("MPP5")},"data-v-24bd986d",null);e.default=d.exports},zNSg:function(t,e){}});