webpackJsonp([2],{"/E0E":function(t,e){},"/Qkb":function(t,e){},"/hU5":function(t,e){},"0DE2":function(t,e){},"1Pu/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("ORU3"),i=a("Lo3X"),o=a("gpBe"),r=(a("FWz8"),{data:function(){return{}},computed:{operationItems:function(){var t=this.$route.params.type,e=this.items.order_status;if(void 0==e)return[];var a=[],s={no:"pay",name:"立即支付"},n={no:"close",name:"关闭订单"},i={no:"logistics",name:"查看物流"};return"purchase"==t?0==e&&(a.push(s),a.push(n)):"pickupgoods"==t?(0==e&&(a.push(s),a.push(n)),2==e&&(a.push({no:"getdelivery",name:"确认收货"}),a.push(i))):"output"==t?0==e&&a.push(n):"retail"==t&&2==e&&a.push(i),a.push({no:"detail",name:"订单详情"}),a}},props:{items:{type:Object}},methods:{onCallback:function(t){this.$emit("callback",t)},orderStatusText:function(t){var e="";return 0==t?e="待付款":1==t?e="待发货":2==t?e="已发货":3==t?e="已收货":4==t?e="已完成":5==t?e="已关闭":-1==t&&(e="售后中"),e},paymentTypeText:function(t){var e="";return 0==t?e="在线支付":1==t?e="微信支付":2==t?e="支付宝支付":3==t?e="银联卡支付":4==t?e="货到付款":5==t?e=this.$store.state.member.memberSetText.balance_style+"支付":6==t?e="到店支付":10==t&&(e="线下支付"),e}},components:{GoodsCard:i.a,FootOperation:o.a}}),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell-group",{staticClass:"item card-group-box"},[a("van-cell",{attrs:{icon:"shop-o",value:t.orderStatusText(t.items.order_status),"value-class":"text-maintone"}},[a("van-row",{attrs:{slot:"title",type:"flex"},slot:"title"},[a("span",[t._v(t._s("output"==t.$route.params.type?"采购代理："+t.items.who_purchase+"("+t.items.who_purchase_grade+")":t.items.shop_name))]),t._v(" "),a("van-icon",{staticClass:"van-cell__right-icon",attrs:{name:"arrow"}})],1)],1),t._v(" "),t._l(t.items.goods_list,function(e,s){return a("van-cell",{key:s},[a("GoodsCard",{staticClass:"goods-card",attrs:{lazyLoad:"",title:e.goods_name,thumb:e.goods_img,desc:e.sku_name,num:e.num,price:e.price,id:e.goods_id}},["purchase"==t.$route.params.type&&e.purchase_to?a("div",{staticClass:"text-right",attrs:{slot:"tags"},slot:"tags"},[t._v("采购于："+t._s(e.purchase_to))]):t._e()])],1)}),t._v(" "),a("van-cell",[0==t.items.order_status&&0==t.items.pay_status?a("div",{staticClass:"text-right"},[t._v("\n      待付款：\n      "),a("span",{staticClass:"pay-money letter-price"},[t._v(t._s(t._f("yuan")(t.items.pay_money)))])]):a("div",{staticClass:"text-right"},[a("span",{staticClass:"pay-name"},[t._v(t._s(t.paymentTypeText(t.items.payment_type)))]),t._v(" 实付：\n      "),a("span",{staticClass:"pay-money letter-price"},[t._v(t._s(t._f("yuan")(t.items.pay_money)))])])]),t._v(" "),a("van-cell",[a("FootOperation",{attrs:{items:t.operationItems,orderid:t.items.order_id},on:{callback:t.onCallback}})],1)],2)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("Z04h")},"data-v-fa20a866",null).exports,u=a("ZlPB"),d=a("msXN"),p=Object(s.a)({name:"channel-order-list",data:function(){return{tab_active:0,params:{page_index:1,buy_type:this.$route.params.type,order_status:"",search_text:""}}},watch:{"$route.params.type":function(t){"channel-order-list"==this.$route.name&&t&&this.buy_type!==t&&(this.tab_active=0,this.params.buy_type=t,this.params.order_status="",this.params.search_text="",this.loadList("init"))}},mixins:[d.e],computed:{navbarTitle:function(){var t=this.$route.params.type,e="";return"purchase"==t?e="采购订单":"pickupgoods"==t?e="提货订单":"output"==t?e="出货订单":"retail"==t&&(e="零售订单"),e&&(document.title=e),e},tabs:function(){return{purchase:[{name:"全部",state:""},{name:"待付款",state:0},{name:"已完成",state:4}],pickupgoods:[{name:"全部",state:""},{name:"待付款",state:0},{name:"待发货",state:1},{name:"已发货",state:2},{name:"已收货",state:3},{name:"已完成",state:4},{name:"售后",state:-1}],output:[{name:"全部",state:""},{name:"待付款",state:0},{name:"已发货",state:2}],retail:[{name:"全部",state:""},{name:"待付款",state:0},{name:"待发货",state:1},{name:"已发货",state:2},{name:"已收货",state:3},{name:"已完成",state:4},{name:"售后",state:-1}]}[this.$route.params.type]}},mounted:function(){this.loadList()},methods:{onSearch:function(t){this.params.search_text=t,this.loadList("init")},onTab:function(t){var e=this.tabs[t].state;this.params.order_status=e,this.loadList("init")},loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(u.t)(e.params).then(function(a){var s=a.data,n=s.data?s.data:[];e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})},onInitList:function(t){var e=t.message,a=this;a.$Toast.success(e),setTimeout(function(){a.loadList("init")},1e3)}},components:{HeadTab:n.a,OrderPanelGroup:l}}),_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-order-list bg-f8"},[a("Navbar",{attrs:{title:t.navbarTitle}}),t._v(" "),a("HeadTab",{attrs:{tabs:t.tabs,"search-placeholder":"订单号/店铺名称/商品名称","show-search":"","search-text":t.params.search_text},on:{"tab-change":t.onTab,search:t.onSearch},model:{value:t.tab_active,callback:function(e){t.tab_active=e},expression:"tab_active"}}),t._v(" "),a("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"order",message:"没有相关订单"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,s){return a("OrderPanelGroup",{key:s,attrs:{items:e},on:{callback:t.onInitList}})}))],1)},staticRenderFns:[]};var m=a("VU/8")(p,_,!1,function(t){a("/hU5")},"data-v-47e58c1c",null);e.default=m.exports},"2NMy":function(t,e){},"2biR":function(t,e){},ARRS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("ZlPB"),i=a("msXN"),o=Object(s.a)({name:"channel-team",data:function(){return{}},mounted:function(){this.loadList()},mixins:[i.e],methods:{loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(n.u)(e.params).then(function(a){var s=a.data,n=s.data?s.data:[];e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-team bg-f8"},[a("Navbar"),t._v(" "),a("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("van-cell-group",t._l(t.list,function(e,s){return a("van-cell",{key:s,staticClass:"item"},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("van-row",{staticClass:"fs-12 text-regular",attrs:{type:"flex"}},[a("van-col",{attrs:{span:"10"}},[t._v("\n            上级：\n            "),a("span",[t._v(t._s(e.up_channel_name))])]),t._v(" "),a("van-col",{attrs:{span:"14"}},[t._v("\n            推荐人：\n            "),a("span",[t._v(t._s(e.referee_name))])])],1),t._v(" "),a("van-row",{staticClass:"fs-12 text-regular",attrs:{type:"flex"}},[a("van-col",{attrs:{span:"10"}},[t._v("\n            等级：\n            "),a("span",[t._v(t._s(e.grade_name))])]),t._v(" "),a("van-col",{attrs:{span:"14"}},[t._v("\n            下级：\n            "),a("span",[t._v(t._s(e.down_channel_num))]),t._v("人\n          ")])],1)],1)}))],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("OHjM")},"data-v-8409e05e",null);e.default=c.exports},AyWo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("Lo3X"),i=a("gpBe"),o=a("ZlPB"),r=a("oFuF"),c={data:function(){return{}},props:{status:{type:[Number,String]},orderid:{type:[Number,String]},info:{type:Object}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 2!==t.status&&3!==t.status&&4!==t.status||!t.info.mailNo?a("van-cell-group",[a("van-cell",[a("div",{staticClass:"empty"},[t._v("暂无物流信息")])])],1):a("van-cell-group",[a("van-cell",{staticClass:"nowrap",attrs:{icon:"v-icon-logistic6",title:t.info.expTextName+" "+t.info.mailNo,"is-link":"",value:"更多",to:{name:"order-logistics",params:{orderid:t.orderid}}}}),t._v(" "),t.info.newestInfo?a("van-cell",[a("div",{staticClass:"text"},[t._v(t._s(t.info.newestInfo.context))]),t._v(" "),a("div",{staticClass:"fs-12 text-regular"},[t._v(t._s(t.info.newestInfo.time))])]):t._e()],1)},staticRenderFns:[]};var u=a("VU/8")(c,l,!1,function(t){a("IRyQ")},"data-v-b384d07e",null).exports,d=a("lpao"),p={props:{detail:Object},computed:{info:function(){var t=this.detail,e=t.store_id,a=t.store_name,s=t.store_tel,n=t.shop_name,i=t.receiver_name,o=t.receiver_mobile,r=t.receiver_province,c=t.receiver_city,l=t.receiver_district,u=t.receiver_address,d={};return d.title=e?"提货地址":"收货地址",d.name=e?n+"（"+a+"）":i,d.mobile=e?s:o,d.address=r+c+l+u,d}},components:{CellAddressGroup:d.a}},_={render:function(){var t=this.$createElement;return(this._self._c||t)("CellAddressGroup",{attrs:{info:this.info}})},staticRenderFns:[]},m=a("VU/8")(p,_,!1,null,null,null).exports,v=a("L2c0"),f={props:{detail:Object},computed:{columns:function(){var t=this.$route.params.type,e=this.detail,a=e.who_purchase,s=e.who_purchase_grade,n=e.shop_name,i=e.order_no,o=e.order_status,c=e.payment_name,l=e.create_time,u=[{title:"订单编号",value:i},{title:"订单状态",value:this.orderStatus(o)},{title:"创建时间",value:Object(r.m)(l,"s")}];return"output"==t?u.unshift({title:"采购代理",value:a+"("+s+")"}):u.unshift({title:"商家店铺",value:n}),("purchase"==t||"output"==t)&&o&&c&&u.push({title:"支付方式",value:c,color:"#ff454e"}),u}},methods:{orderStatus:function(t){var e="";return 0==t?e="待付款":1==t?e="待发货":2==t?e="已发货":3==t?e="已收货":4==t?e="已完成":5==t?e="已关闭":-1==t&&(e="售后中"),e}},components:{CellInfoGroup:v.a}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("CellInfoGroup",{attrs:{columns:this.columns}})},staticRenderFns:[]},y=a("VU/8")(f,h,!1,null,null,null).exports,g={data:function(){return{}},props:{detail:{type:Object}},components:{GoodsCard:n.a}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell-group",[a("van-cell",{attrs:{icon:"shop-o"}},[a("van-row",{attrs:{slot:"title",type:"flex"},slot:"title"},[a("span",[t._v(t._s(t.detail.shop_name))]),t._v(" "),a("van-icon",{staticClass:"van-cell__right-icon",attrs:{name:"arrow"}})],1)],1),t._v(" "),t._l(t.detail.order_goods,function(e,s){return a("van-cell",{key:s},[a("GoodsCard",{staticClass:"goods-card",attrs:{thumb:e.pic_cover,title:e.goods_name,desc:e.sku_name,num:e.num,price:e.price,id:e.goods_id}},["purchase"==t.$route.params.type&&e.purchase_to?a("div",{staticClass:"text-right",attrs:{slot:"tags"},slot:"tags"},[t._v("\n        采购于：\n        "),a("span",[t._v(t._s(e.purchase_to))])]):t._e()])],1)})],2)},staticRenderFns:[]};var C=a("VU/8")(g,b,!1,function(t){a("s2B9")},"data-v-f1c969c6",null).exports,x={props:{detail:Object}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("van-cell-group",[e("van-cell",{attrs:{icon:"edit",title:"买家留言"}}),this._v(" "),e("van-cell",[e("van-col",{staticClass:"text-regular fs-12",attrs:{span:"24"}},[this._v(this._s(this.detail.buyer_message?this.detail.buyer_message:"该订单没有留言"))])],1)],1)},staticRenderFns:[]},k=a("VU/8")(x,$,!1,null,null,null).exports,L=a("9GaH"),w={props:{detail:Object},computed:{columns:function(){var t=this.$route.params.type,e=this.detail,a=e.goods_money,s=e.shipping_fee,n=e.order_money,i=e.order_status,o=e.pay_status,r=[{title:0==i&&0==o?"待付款":"实付",value:Object(L.yuan)(n),color:"#ff454e"}];return"pickupgoods"!==t&&"retail"!=t||r.unshift({title:"商品总价",value:Object(L.yuan)(a),color:"#ff454e"},{title:"运费",value:Object(L.yuan)(s),color:"#ff454e"}),r}},components:{CellInfoGroup:v.a}},O={render:function(){var t=this.$createElement;return(this._self._c||t)("CellInfoGroup",{attrs:{columns:this.columns,"text-align":"right"}})},staticRenderFns:[]},j=a("VU/8")(w,O,!1,null,null,null).exports,T=Object(s.a)({name:"channel-order-detail",data:function(){return{detail:{},logistic_info:{}}},mounted:function(){var t=this,e=t.$route.params.orderid,a=t.$route.params.type;Object(o.r)({order_id:e,order_type:a}).then(function(e){var a=e.data;if(t.detail=a,!Object(r.s)(t.detail.goods_packet_list)){var s=t.detail.goods_packet_list[0].shipping_info;if(s){var n={};n.expTextName=s.expTextName,n.mailNo=s.mailNo,n.newestInfo=Object(r.s)(s.data)?"":s.data[0],t.logistic_info=n}}t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},methods:{onCallback:function(t){var e=t.message,a=this;a.$Toast.success(e),setTimeout(function(){a.$router.replace({name:"channel-order-list",params:{type:a.$route.params.type}})},1e3)}},components:{GoodsCard:n.a,FootOperation:i.a,DetailLogistic:u,DetailAddress:m,DetailInfo:y,DetailGoods:C,DetailMessage:k,DetailLog:j}}),F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{ref:"load",staticClass:"channel-order-detail bg-f8"},[a("Navbar"),t._v(" "),"pickupgoods"==t.$route.params.type||"retail"==t.$route.params.type?[a("DetailAddress",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),a("DetailLogistic",{staticClass:"card-group-box",attrs:{status:t.detail.order_status,orderid:t.detail.order_id,info:t.logistic_info}})]:t._e(),t._v(" "),a("DetailGoods",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),"pickupgoods"==t.$route.params.type||"retail"==t.$route.params.type?a("DetailMessage",{staticClass:"cell-group card-group-box",attrs:{detail:t.detail}}):t._e(),t._v(" "),a("DetailInfo",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),a("DetailLog",{staticClass:"card-group-box",attrs:{detail:t.detail}}),t._v(" "),0==t.detail.order_status||2==t.detail.order_status?a("div",{staticClass:"foot"},[a("FootOperation",{attrs:{items:t.detail.member_operation,orderid:t.detail.order_id},on:{callback:t.onCallback}})],1):t._e()],2)},staticRenderFns:[]};var S=a("VU/8")(T,F,!1,function(t){a("xYdz")},"data-v-2cb24d6a",null);e.default=S.exports},Cb6W:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("ZlPB"),i=a("msXN"),o=Object(s.a)({name:"channel-depot-log",data:function(){return{}},mixins:[i.e],filters:{buy_type:function(t){var e="";return 1==t?e="采购":2==t?e="自提":3==t?e="出货":4==t&&(e="零售"),e}},mounted:function(){this.loadList()},methods:{loadList:function(t){var e=this;Object(n.n)(e.params).then(function(a){var s=a.data,n=s.channel_goods_info?s.channel_goods_info:[];e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-depot-log bg-f8"},[a("Navbar"),t._v(" "),a("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("van-cell-group",t._l(t.list,function(e,s){return a("van-cell",{key:s,staticClass:"item"},[a("van-row",{attrs:{type:"flex",justify:"space-between"}},[a("van-col",{staticClass:"text-nowrap",attrs:{span:"22"}},[t._v(t._s(t._f("buy_type")(e.buy_type))+"："+t._s(e.goods_name))]),t._v(" "),a("van-col",{staticClass:"text-right",class:1==e.buy_type?"color-success":"color-fail",attrs:{span:"2"}},[t._v(t._s(1==e.buy_type?"+":"-")+t._s(e.total_num))])],1),t._v(" "),a("van-row",{staticClass:"fs-12 text-regular",attrs:{type:"flex",justify:"space-between"}},[a("van-col",{staticClass:"text-nowrap",attrs:{span:"14"}},[t._v("关联单号"+t._s(e.order_no))]),t._v(" "),a("van-col",{staticClass:"text-right",attrs:{span:"10"}},[t._v(t._s(t._f("formatDate")(e.create_time,"s")))])],1)],1)}))],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("GDrI")},"data-v-4174696e",null);e.default=c.exports},DyqJ:function(t,e){},GDrI:function(t,e){},IRyQ:function(t,e){},JfWq:function(t,e){},L1dS:function(t,e){},L2c0:function(t,e,a){"use strict";var s={props:{columns:Array,textAlign:{type:String,default:"left"}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell-group",[t._t("head"),t._v(" "),a("van-cell",t._l(t.columns,function(e,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"title",style:{whiteSpace:"left"==t.textAlign?"initial":"nowrap"}},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"value",style:{textAlign:t.textAlign,color:e.color}},[t._v("\n        "+t._s(e.value)+"\n        "),e.btnText?a("van-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.$emit("onclick",s)}}},[t._v(t._s(e.btnText))]):t._e()],1)])})),t._v(" "),t._t("foot")],2)},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(t){a("/E0E")},"data-v-934246e8",null);e.a=i.exports},OHjM:function(t,e){},"S/FR":function(t,e){},WEFG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("XveE"),i=a("ZlPB"),o=a("msXN"),r=Object(s.a)({name:"channel-achieve",data:function(){var t=(new Date).getFullYear(),e=(new Date).getMonth()+1;return{info:"",currFullYear:t,currMonth:e,params:{page_index:1,page_size:10,date_time:t+"-"+e}}},mixins:[o.e],computed:{yearMonth:function(){return(new Date).getFullYear()+"-"+((new Date).getMonth()+1)},cellPanelItems:function(){var t=this.info;return[{title:"买入",text:t.my_purchase_money?t.my_purchase_money:0},{title:"利润",text:t.my_profit?t.my_profit:0},{title:"奖金",text:t.my_bonus?t.my_bonus:0}]}},mounted:function(){this.loadList()},methods:{onChangeMonth:function(t){"pre"==t?(this.currMonth=1==this.currMonth?12:this.currMonth-1,this.currFullYear=12==this.currMonth?this.currFullYear-1:this.currFullYear):"next"==t&&(this.currFullYear=12==this.currMonth?this.currFullYear+1:this.currFullYear,this.currMonth=12==this.currMonth?1:this.currMonth+1),this.params.date_time=this.currFullYear+"-"+(this.currMonth<10?"0"+this.currMonth:this.currMonth),this.loadList("init")},loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(i.g)(e.params).then(function(a){var s=a.data,n=s.data.down_channel?s.data.down_channel:[];e.info=s.data.my_performance,e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})}},components:{CellPanelGroup:n.a}}),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-achieve bg-f8"},[a("Navbar"),t._v(" "),a("div",[a("van-cell",{attrs:{border:!1}},[a("van-row",{staticClass:"panel-box",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{staticClass:"icon-box e-handle",attrs:{span:"2"},nativeOn:{click:function(e){t.onChangeMonth("pre")}}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),t._v(" "),a("van-col",{staticClass:"panel-main",attrs:{span:"20"}},[a("div",[a("div",[t._v("本月业绩("+t._s(t.params.date_time)+")")]),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(t.info.sale_money?t.info.sale_money:0))])])]),t._v(" "),a("van-col",{staticClass:"icon-box e-handle",attrs:{span:"2"},nativeOn:{click:function(e){t.onChangeMonth("next")}}},[a("van-icon",{attrs:{name:"arrow"}})],1)],1)],1),t._v(" "),a("CellPanelGroup",{attrs:{"show-head":!1,items:t.cellPanelItems}})],1),t._v(" "),a("van-cell",{attrs:{title:"团队业绩",border:!1}}),t._v(" "),a("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{top:t.$store.state.isWeixin?244:290,message:"没有相关团队业绩"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,s){return a("van-cell-group",{key:s,staticClass:"item"},[a("van-cell",[a("van-row",{attrs:{type:"flex",justify:"space-around"}},[a("van-col",{attrs:{span:"18"}},[a("div",[t._v(t._s(e.name))]),t._v(" "),a("van-row",{staticClass:"fs-12 text-regular",attrs:{type:"flex"}},[a("van-col",{staticClass:"text-nowrap",attrs:{span:"10"}},[t._v("\n                上级：\n                "),a("span",[t._v(t._s(e.up_channel_name))])]),t._v(" "),a("van-col",{staticClass:"text-nowrap",attrs:{span:"14"}},[t._v("\n                推荐人：\n                "),a("span",[t._v(t._s(e.referee_name))])])],1),t._v(" "),a("van-row",{staticClass:"fs-12 text-regular",attrs:{type:"flex"}},[a("van-col",{staticClass:"text-nowrap",attrs:{span:"24"}},[t._v("\n                等级：\n                "),a("span",[t._v(t._s(e.grade_name))])])],1)],1),t._v(" "),a("van-col",{staticClass:"item-right-box",attrs:{span:"6"}},[a("div",{staticClass:"letter-price"},[t._v(t._s(t._f("yuan")(e.sale_money)))]),t._v(" "),a("div",[t._v("本月业绩")])])],1)],1),t._v(" "),a("van-cell",[a("div",{staticClass:"fs-12 text-regular item-foot-box"},[t._v("\n          买入：\n          "),a("span",[t._v(t._s(e.my_purchase_money))]),t._v(" 利润：\n          "),a("span",[t._v(t._s(e.my_profit))]),t._v(" 奖金：\n          "),a("span",[t._v(t._s(e.my_bonus))])])])],1)}))],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("JfWq")},"data-v-6594ef6a",null);e.default=l.exports},Z04h:function(t,e){},aEap:function(t,e){},burA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("OQ2V"),i=a("Lo3X"),o=a("d/4A"),r=a("ZlPB"),c=a("oFuF"),l=Object(s.a)({name:"channel-order-confirm",data:function(){return{address:{},items:{},isLoading:!1}},filters:{filterShipping:function(t){var e="快递 ¥"+t;return 0==parseFloat(t)&&(e="快递 包邮"),void 0==t||null==t?"未选择收货地址":e}},computed:{buy_type:function(){return this.$route.params.type},isDisabled:function(){return!(this.items.total_money>=0&&void 0!==this.items.total_money)},countTotalAmount:function(){var t=0,e=0;if(this.items.shop_list){var a=parseFloat(this.items.total_shipping_fee);this.items.shop_list.forEach(function(t){e+=parseFloat(t.price)*parseInt(t.num)}),t=e+a}return t}},mounted:function(){var t=this;Object(r.s)(t.buy_type).then(function(e){var a=e.data,s=a;"pickupgoods"==t.buy_type&&(t.address={name:a.consigner,tel:a.mobile,id:a.address_id,address:a.address_info},s.buyer_message=""),t.items=s,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},methods:{onAddress:function(t){var e=this;this.address=t;var a,s=[];this.items.shop_list.forEach(function(t){s.push(t.goods_id+":"+t.num)}),a=s.join(","),Object(r.d)({address_id:t.id,goods_info:a}).then(function(t){var a=t.data;e.items.total_shipping_fee=a.free_money})},onSubmit:function(){var t=this,e={};if(e.buy_type=t.buy_type,"pickupgoods"==t.buy_type){if(!t.address.id)return t.$Toast("请选择收货地址！"),!1;e.address_id=t.address.id,e.buyer_message=t.items.buyer_message}t.isLoading=!0,Object(r.e)(e).then(function(e){var a=e.data;Object(c.t)()?location.replace(t.$store.state.domain+"/wap/pay/payment?out_trade_no="+a.out_trade_no):t.$router.replace({name:"pay-payment",query:{out_trade_no:a.out_trade_no}})}).catch(function(e){t.isLoading=!1})}},components:{GoodsCard:i.a,SubmitBar:o.a,ChoiceAddress:n.a}}),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{ref:"load",staticClass:"channel-order-confirm bg-f8"},[a("Navbar",{attrs:{isMenu:!1}}),t._v(" "),"pickupgoods"==t.buy_type?a("ChoiceAddress",{attrs:{address:t.address},on:{select:t.onAddress}}):t._e(),t._v(" "),a("van-cell-group",{staticClass:"items card-group-box"},[a("van-cell",{attrs:{icon:"shop-o",title:t.items.shop_name}}),t._v(" "),t._l(t.items.shop_list,function(e,s){return a("van-cell",{key:s},[a("GoodsCard",{staticClass:"goods-card",attrs:{thumb:e.goods_picture,title:e.goods_name,desc:e.sku_name,price:"purchase"==t.buy_type?e.price:"",num:e.num}},["purchase"==t.buy_type?a("div",{staticClass:"text-right",attrs:{slot:"tags"},slot:"tags"},[t._v("采购于："+t._s(e.purchase_to))]):t._e()])],1)}),t._v(" "),"pickupgoods"==t.buy_type?a("van-cell",{attrs:{title:"配送方式"}},[a("div",{staticClass:"fs-12"},[t._v(t._s(t._f("filterShipping")(t.items.total_shipping_fee)))])]):t._e(),t._v(" "),"pickupgoods"==t.buy_type?a("van-field",{attrs:{label:"买家留言",type:"textarea",placeholder:"选填：留言内容尽量和商家沟通",rows:"1",autosize:""},model:{value:t.items.buyer_message,callback:function(e){t.$set(t.items,"buyer_message",e)},expression:"items.buyer_message"}}):t._e(),t._v(" "),a("van-cell",[a("div",{staticClass:"cell-foot"},[a("div",[t._v("\n          共\n          "),a("span",[t._v(t._s(t.items.total_quantity))]),t._v("件商品\n        ")]),t._v(" "),a("div",[t._v("\n          小计：\n          "),a("span",[t._v(t._s(t._f("yuan")(t.countTotalAmount)))])])])])],2),t._v(" "),a("SubmitBar",{attrs:{price:t.countTotalAmount,disabled:t.isDisabled,loading:t.isLoading,label:"合计金额：","button-text":"提交订单"},on:{submit:t.onSubmit}})],1)},staticRenderFns:[]};var d=a("VU/8")(l,u,!1,function(t){a("zwC5")},"data-v-0d72e220",null);e.default=d.exports},eJW2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=Object(s.a)({name:"channel-depot",data:function(){return{}}}),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"channel-depot bg-f8"},[e("Navbar"),this._v(" "),e("van-cell-group",[e("van-cell",{attrs:{icon:"wap-nav",title:"云仓库","is-link":"",to:"/channel/depot/list"}}),this._v(" "),e("van-cell",{attrs:{icon:"todo-list-o",title:"云仓库日志","is-link":"",to:"/channel/depot/log"}})],1)],1)},staticRenderFns:[]},o=a("VU/8")(n,i,!1,null,null,null);e.default=o.exports},eV5F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("ZlPB"),i=Object(s.a)({name:"channel-finance",data:function(){return{is_use:0,can_use_money:0,balance:0,freezing_balance:0,my_profit:0,my_bonus:0,is_proceeds:!1}},computed:{isWithdraw:function(){return this.is_use&&1==this.is_use&&!this.is_proceeds},disWithdraw:function(){return!(this.can_use_money&&this.can_use_money>0)},withdrawBtnText:function(){return this.disWithdraw?"可用"+this.$store.state.member.memberSetText.balance_style+"为0，不可提现":"提现"},logRoute:function(){return this.is_proceeds?"/property/log#proceeds":"/property/log"},rechargeRoute:function(){return this.is_proceeds?"/property/recharge#proceeds":"/property/recharge"}},activated:function(){var t=this;Object(n.o)().then(function(e){var a=e.data;t.is_use=a.is_use,t.can_use_money=a.can_use_money,t.balance=a.balance,t.freezing_balance=a.freezing_balance,t.my_profit=a.my_profit,t.my_bonus=a.my_bonus,t.is_proceeds=!!a.is_proceeds,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{ref:"load",staticClass:"channel-finance bg-f8"},[a("Navbar"),t._v(" "),a("van-cell-group",{staticClass:"cell-group card-group-box"},[a("van-cell",{staticClass:"cell"},[a("div",[t._v("可用"+t._s(t.$store.state.member.memberSetText.balance_style))]),t._v(" "),a("van-row",{staticClass:"box",attrs:{type:"flex",justify:"space-between"}},[a("span",{staticClass:"text"},[t._v(t._s(t._f("yuan")(t.can_use_money)))]),t._v(" "),a("van-button",{attrs:{size:"small",to:t.logRoute}},[t._v("查看明细")])],1)],1)],1),t._v(" "),a("van-cell-group",{staticClass:"cell-group card-group-box"},[a("van-cell",{staticClass:"text",attrs:{title:"总"+t.$store.state.member.memberSetText.balance_style,label:t.$store.state.member.memberSetText.balance_style+"总数",value:t._f("yuan")(t.balance)}}),t._v(" "),a("van-cell",{staticClass:"text",attrs:{title:"冻结"+t.$store.state.member.memberSetText.balance_style,label:"已经冻结"+t.$store.state.member.memberSetText.balance_style,value:t._f("yuan")(t.freezing_balance)}}),t._v(" "),a("van-cell",{staticClass:"text",attrs:{title:"我的利润",label:"全部利润收入",value:t._f("yuan")(t.my_profit)}}),t._v(" "),a("van-cell",{staticClass:"text",attrs:{title:"我的奖金",label:"全部奖金收入",value:t._f("yuan")(t.my_bonus)}})],1),t._v(" "),a("div",{staticClass:"foot-btn-group"},[a("van-button",{attrs:{size:"normal",block:"",round:"",type:"danger",to:t.rechargeRoute}},[t._v("充值")]),t._v(" "),t.isWithdraw?a("van-button",{attrs:{size:"normal",block:"",round:"",type:"danger",plain:"",disabled:t.disWithdraw,to:"/property/withdraw"}},[t._v(t._s(t.withdrawBtnText))]):t._e()],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(t){a("2biR")},"data-v-f40c0c7e",null);e.default=r.exports},easG:function(t,e){},ep9r:function(t,e){},gpBe:function(t,e,a){"use strict";var s=a("ZlPB"),n=a("FWz8"),i=a("oFuF"),o={data:function(){return{}},props:{items:{type:Array},orderid:{type:[String,Number]}},methods:{onOperation:function(t,e){"pay"===t?this.onPay(e):"getdelivery"===t?this.onTakeDelivery(e):"logistics"===t?this.$router.push({name:"order-logistics",params:{orderid:e}}):"close"===t?this.onCloseOrder(e):"detail"===t&&this.$router.push({name:"channel-order-detail",params:{type:this.$route.params.type,orderid:e}})},onPay:function(t){var e="purchase"==this.$route.params.type?"#channel":"#order";Object(i.t)()?location.assign(this.$store.state.domain+"/wap/pay/payment?order_id="+t+e):this.$router.push({name:"pay-payment",query:{order_id:t},hash:e})},onTakeDelivery:function(t){var e=this;e.$Dialog.confirm({message:"确定收货吗？"}).then(function(){Object(n.g)(t).then(function(t){e.$emit("callback",t)})})},onCloseOrder:function(t){var e=this;e.$Dialog.confirm({message:"确定关闭该订单吗？"}).then(function(){Object(s.c)({order_id:t,order_type:e.$route.params.type}).then(function(t){e.$emit("callback",t)})})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-row",{staticClass:"btn-group",attrs:{type:"flex",justify:"end"}},t._l(t.items,function(e,s){return a("van-button",{key:s,staticClass:"btn",attrs:{type:"pay"==e.no?"danger":"default",size:"small"},on:{click:function(a){t.onOperation(e.no,t.orderid)}}},[t._v(t._s(e.name))])}))},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("0DE2")},"data-v-31e910e3",null);e.a=c.exports},ks5E:function(t,e){},"l+Ct":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("MdZR"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head"},[t.info?a("div",{staticClass:"info"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t._f("BASESRC")(t.info.user_headimg),onerror:t.$ERRORPIC.noAvatar}})]),t._v(" "),a("div",{staticClass:"text"},[a("div",[t._v(t._s(t.info.name))]),t._v(" "),t.info.channel_grade_name?a("div",[t._v("等级："+t._s(t.info.channel_grade_name))]):t._e(),t._v(" "),t.info.referee_name?a("div",[t._v("推荐人："+t._s(t.info.referee_name))]):t._e(),t._v(" "),a("div",[t._v("加入时间："+t._s(t._f("formatDate")(t.info.to_channel_time,"s")))])])]):t._e()])},staticRenderFns:[]};var o=a("VU/8")({props:["info"]},i,!1,function(t){a("ep9r")},"data-v-17b7fee6",null).exports,r=a("ZlPB"),c=Object(s.a)({name:"channel-centre",data:function(){return{info:{}}},computed:{orderCardItems:function(){return[{text:"采购订单",icon:"v-icon-form",link:"/channel/order/list/purchase"},{text:"提货订单",icon:"v-icon-form",link:"/channel/order/list/pickupgoods"},{text:"出货订单",icon:"v-icon-form",link:"/channel/order/list/output"},{text:"零售订单",icon:"v-icon-form",link:"/channel/order/list/retail"}]},usuallyCardItems:function(){var t=[{text:"云仓采购",icon:"v-icon-stock",link:"/channel/goods/purchase"},{text:"云仓提货",icon:"v-icon-take",link:"/channel/goods/pickupgoods"},{text:"云仓管理",icon:"v-icon-manage",link:"/channel/depot"},{text:"财务管理",icon:"v-icon-assets",link:"/channel/finance"},{text:"我的业绩",icon:"v-icon-channel",link:"/channel/achieve"},{text:"我的团队",icon:"v-icon-team",link:"/channel/team"}];return this.$store.state.config.addons.credential&&t.push({text:"授权证书",icon:"v-icon-guarantee",link:"/channel/certificate"}),t}},activated:function(){var t=this;1==this.$store.state.config.addons.channel?this.$store.dispatch("isBistributor").then(function(){t.loadData()}).catch(function(e){var a=e.error,s=e.callback;a&&t.$refs.load.fail(),s&&(t.$refs.load.result(),t.$Toast("请先成为"+t.$store.state.member.commissionSetText.distributor_name+"！"),t.$router.replace("/member/centre"))}):this.$refs.load.fail({errorText:"未开启微商应用",showFoot:!1})},methods:{loadData:function(){var t=this;Object(r.j)().then(function(e){var a=e.data;a.is_channel?(t.info=a,t.$refs.load.success()):(t.$refs.load.result(),t.$router.replace("/channel/apply"))}).catch(function(){t.$refs.load.fail()})}},components:{CellCardGroup:n.a,Header:o}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{ref:"load",staticClass:"channel-centre bg-f8"},[a("Navbar"),t._v(" "),a("Header",{attrs:{info:t.info}}),t._v(" "),a("CellCardGroup",{attrs:{title:"订单",items:t.orderCardItems},on:{click:function(e){var a=e.link;return t.$router.push(a)}}}),t._v(" "),a("CellCardGroup",{attrs:{title:"常用",items:t.usuallyCardItems,cols:"3"},on:{click:function(e){var a=e.link;return t.$router.push(a)}}})],1)},staticRenderFns:[]};var u=a("VU/8")(c,l,!1,function(t){a("2NMy")},"data-v-59d84734",null);e.default=u.exports},oe6h:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("ORU3"),i=a("Lo3X"),o=a("ZlPB"),r=a("msXN"),c=Object(s.a)({name:"channel-depot-list",data:function(){return{tab_active:0,tabs:[{name:"出售中",type:1},{name:"售罄",type:2}],params:{page_index:1,stock_status:1}}},mixins:[r.e],mounted:function(){this.loadList()},methods:{onTab:function(t){var e=this.tabs[t].type;this.params.stock_status=e,this.loadList("init")},loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(o.m)(e.params).then(function(a){var s=a.data,n=s.data?s.data:[];e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})}},components:{HeadTab:n.a,GoodsCard:i.a}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-depot-list bg-f8"},[a("Navbar"),t._v(" "),a("HeadTab",{attrs:{tabs:t.tabs},on:{"tab-change":t.onTab},model:{value:t.tab_active,callback:function(e){t.tab_active=e},expression:"tab_active"}}),t._v(" "),a("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("van-cell-group",t._l(t.list,function(e,s){return a("van-cell",{key:s,staticClass:"item"},[a("van-row",{attrs:{type:"flex"}},[a("van-col",{attrs:{span:"18"}},[a("GoodsCard",{staticClass:"goods-info",attrs:{thumb:e.pic_cover,title:e.goods_name,desc:e.sku_name,num:e.stock,id:e.goods_id}})],1),t._v(" "),a("van-col",{staticClass:"item-right",attrs:{span:"6"}},[a("router-link",{staticClass:"item-right-btn e-handle",attrs:{tag:"div",to:"/channel/depot/detail/"+e.sku_id}},[a("van-icon",{staticClass:"icon",attrs:{name:"description"}}),t._v(" "),a("span",[t._v("明细")])],1),t._v(" "),1==t.tab_active?a("router-link",{staticClass:"item-right-btn e-handle",attrs:{tag:"div",to:"/channel/goods/purchase"}},[a("van-icon",{staticClass:"icon",attrs:{name:"bag-o"}}),t._v(" "),a("span",[t._v("补货")])],1):a("router-link",{staticClass:"item-right-btn e-handle",attrs:{tag:"div",to:{name:"goods-share",params:{goodsid:e.goods_id},query:{channel_id:e.channel_id}}}},[a("van-icon",{staticClass:"icon",attrs:{name:"share"}}),t._v(" "),a("span",[t._v("分享")])],1)],1)],1)],1)}))],1)],1)},staticRenderFns:[]};var u=a("VU/8")(c,l,!1,function(t){a("S/FR")},"data-v-f1064294",null);e.default=u.exports},pK97:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("ORU3"),i=a("ZlPB"),o=a("msXN"),r=Object(s.a)({name:"channel-depot-detail",data:function(){return{tab_active:0,tabs:[{name:"采购",type:1},{name:"出货",type:2},{name:"提货",type:3},{name:"零售",type:4}],params:{page_index:1,tag_status:1,sku_id:this.$route.params.skuid}}},mixins:[o.e],filters:{filterTitle:function(t,e){var a="";return 1==t?a="采购时间":2==t?a="出货时间":3==t?a="提货时间":4==t&&(a="零售时间"),a+"："+e},rate:function(t){return 100*parseFloat(t)+"%"}},watch:{"$route.params.skuid":function(t){t&&(this.tab_active=0,this.params.tag_status=1,this.params.sku_id=t,this.loadList("init"))}},mounted:function(){this.loadList()},methods:{onTab:function(t){var e=this.tabs[t].type;this.params.tag_status=e,this.loadList("init")},loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(i.l)(e.params).then(function(a){var s=a.data,n=s.channel_goods_info?s.channel_goods_info:[];e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})}},components:{HeadTab:n.a}}),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-depot-detail bg-f8"},[a("Navbar"),t._v(" "),a("HeadTab",{attrs:{tabs:t.tabs},on:{"tab-change":t.onTab},model:{value:t.tab_active,callback:function(e){t.tab_active=e},expression:"tab_active"}}),t._v(" "),a("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,s){return a("van-cell-group",{key:s,staticClass:"item card-group-box"},[a("van-cell",{staticClass:"text-nowrap",attrs:{title:t._f("filterTitle")(t.params.tag_status,e.create_time_date),value:"数量："+e.total_num}}),t._v(" "),1==t.params.tag_status?a("van-cell",[a("div",[t._v("采购单价："+t._s(t._f("yuan")(e.price)))]),t._v(" "),a("div",[t._v("折扣："+t._s(t._f("rate")(e.channel_purchase_discount)))]),t._v(" "),a("div",[t._v("商品售价："+t._s(t._f("yuan")(e.platform_price)))])]):2==t.params.tag_status?a("van-cell",[a("div",[t._v("出货单价："+t._s(t._f("yuan")(e.price)))]),t._v(" "),a("div",[t._v("采购单价："+t._s(t._f("yuan")(e.purchase_price)))]),t._v(" "),a("div",[t._v("商品售价："+t._s(t._f("yuan")(e.platform_price)))])]):3==t.params.tag_status?a("van-cell",[a("div",[t._v("采购单价："+t._s(t._f("yuan")(e.purchase_price)))]),t._v(" "),a("div",[t._v("折扣："+t._s(t._f("rate")(e.channel_purchase_discount)))]),t._v(" "),a("div",[t._v("商品售价："+t._s(t._f("yuan")(e.platform_price)))])]):4==t.params.tag_status?a("van-cell",[a("div",[t._v("采购单价："+t._s(t._f("yuan")(e.purchase_price)))]),t._v(" "),a("div",[t._v("零售单价："+t._s(t._f("yuan")(e.retail_price)))]),t._v(" "),a("div",[t._v("实收金额："+t._s(t._f("yuan")(e.real_money)))])]):t._e()],1)}))],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("/Qkb")},"data-v-2effc18e",null);e.default=l.exports},phe9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("//Fk"),n=a.n(s),i=a("eKM9"),o=a("WyhY"),r=a("r4M4"),c=a("Lo3X"),l=a("cgSz"),u=a("oFuF"),d={data:function(){return{showSku:!1,goodsInfo:{},promoteParams:{},getContainer:Object(u.t)()?".category":null}},props:{detail:{type:Object}},computed:{priceText:function(){return"purchase"==this.$route.params.type?"采购价：":"商城售价："},goodsData:function(){var t=this.detail;return{goods_id:t.goods_id,goods_image:t.img_list?t.img_list[0]:"",goods_name:t.goods_name,goods_type:1,max_buy:0,max_market_price:t.max_market_price,max_price:t.max_price,min_buy:0,min_market_price:t.min_market_price,min_price:t.min_price,state:1,sku:{list:t.sku.list,tree:t.sku.tree},is_allow_buy:!0}}},methods:{getGoodsInfo:function(t){this.goodsInfo=t},onAction:function(t,e){this.onBuyNow(e)},onBuyNow:function(t){var e=this,a={};a.num=t.selectedNum,a.sku_id=t.selectedSkuComb.id,a.channel_goods_type=this.detail.channel_info,a.buy_type=this.$route.params.type,this.$store.dispatch("addChannelCart",a).then(function(t){e.$Toast.success("添加成功"),e.showSku=!1,setTimeout(function(){e.$store.dispatch("getChannelCartList",{page_index:1,page_size:20,buy_type:e.$route.params.type})},500)})}},components:{GoodsCard:c.a,SkuPopup:l.a}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item van-hairline--bottom"},[a("GoodsCard",{staticClass:"goods-card",attrs:{price:t.goodsInfo.goodsPrice,title:t.detail.goods_name,thumb:t.goodsInfo.picture}},[t.goodsInfo.stock?a("div",{attrs:{slot:"tags"},slot:"tags"},[t._v("库存："+t._s(t.goodsInfo.stock))]):t._e(),t._v(" "),a("div",{staticClass:"goods-bottom",attrs:{slot:"bottom"},slot:"bottom"},[a("div",{staticClass:"price"},[a("div",{staticClass:"card__price"},[t._v(t._s(t.priceText)+" "+t._s(t._f("yuan")(t.goodsInfo.goodsPrice)))])]),t._v(" "),a("div",{staticClass:"btn-add e-handle",on:{click:function(e){t.showSku=!0}}},[a("van-icon",{attrs:{name:"add"}})],1)])]),t._v(" "),a("SkuPopup",{attrs:{info:t.goodsData,action:"buy","get-container":t.getContainer,"get-goods-info":t.getGoodsInfo,"promote-params":t.promoteParams},on:{action:t.onAction},model:{value:t.showSku,callback:function(e){t.showSku=e},expression:"showSku"}},[a("div",{staticClass:"van-sku__goods-price",attrs:{slot:"header-price"},slot:"header-price"},[t._v(t._s(t.priceText)+" "+t._s(t._f("yuan")(t.goodsInfo.goodsPrice)))])])],1)},staticRenderFns:[]};var _,m=a("VU/8")(d,p,!1,function(t){a("DyqJ")},"data-v-5a04cae6",null).exports,v=a("d/4A"),f=a("bOdI"),h=a.n(f),y=(a("10Qn"),a("UQoe")),g=a("u6fB"),b=a("JLLx"),C=a("9GaH"),x={data:function(){return{}},props:{value:{type:Boolean,default:!1},list:{type:Array}},computed:{show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},btnText:function(){return"purchase"==this.$route.params.type?!this.$store.state.channel.isAchieveCondie&&this.$store.state.channel.message?this.$store.state.channel.message:"结算(合计："+Object(C.yuan)(this.totalPrice)+")":"提货"},totalPrice:function(){return parseFloat(this.$store.state.channel.total_money)},isDisabled:function(){return"purchase"==this.$route.params.type&&!this.$store.state.channel.isAchieveCondie||Object(u.s)(this.list)}},methods:{onClose:function(){this.$emit("input",!1)},onChange:function(t,e){var a=this,s={};s.sku_id=e.sku_id,s.num=e.num,s.channel_info=e.channel_info,s.buy_type=a.$route.params.type,a.$store.dispatch("editCartGoodsNum",s).then(function(){a.$store.dispatch("getChannelCartList",{page_index:1,page_size:20,buy_type:a.$route.params.type})})},onOverlimit:function(t){"plus"===t?this.$Toast("库存不足！"):this.$Toast("至少选择一件！")},onRemove:function(t){var e=this;e.$Dialog.confirm({message:"确定删除该商品？"}).then(function(){e.$store.dispatch("removeChannelCart",{sku_id:t,buy_type:e.$route.params.type}).then(function(t){var a=t.message;e.$Toast.success(a),setTimeout(function(){e.$store.dispatch("getChannelCartList",{page_index:1,page_size:20,buy_type:e.$route.params.type}).then(function(t){var a=t.data;Object(u.s)(a.cart_list)&&e.onClose()})},500)})})},onSubmit:function(){var t=this,e=t.$route.params.type;t.onClose(),setTimeout(function(){t.$router.push({name:"channel-order-confirm",params:{type:e}})},100)}},components:(_={GoodsCard:c.a,LoadMoreEnd:g.a},h()(_,y.a.name,y.a),h()(_,"PopupBottom",b.a),_)},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PopupBottom",{attrs:{title:"已选商品"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.list.length>0?a("van-cell-group",{staticClass:"list",attrs:{border:!1}},t._l(t.list,function(e,s){return a("van-cell",{key:s,staticClass:"item"},[a("GoodsCard",{staticClass:"goods-card",attrs:{desc:e.sku_name,thumb:t._f("BASESRC")(e.goods_picture)}},[a("div",{staticClass:"info-head",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"name"},[t._v(t._s(e.goods_name))]),t._v(" "),"purchase"==t.$route.params.type?a("div",{staticClass:"price letter-price"},[t._v(t._s(t._f("yuan")(e.price)))]):t._e()]),t._v(" "),a("div",{staticClass:"info-foot",attrs:{slot:"bottom"},slot:"bottom"},[a("van-stepper",{attrs:{integer:"","disable-input":"",max:e.max_buy,"async-change":!0},on:{overlimit:t.onOverlimit,plus:function(a){t.onChange("plus",e)},minus:function(a){t.onChange("minus",e)}},model:{value:e.num,callback:function(a){t.$set(e,"num",a)},expression:"item.num"}}),t._v(" "),a("div",{staticClass:"del e-handle",on:{click:function(a){t.onRemove(e.sku_id)}}},[a("van-icon",{attrs:{name:"delete"}})],1)],1)])],1)})):a("LoadMoreEnd",{attrs:{finished:"","text-background":"#ffffff"}}),t._v(" "),a("div",{staticClass:"sku-action-group",attrs:{slot:"footer"},slot:"footer"},[a("van-button",{staticClass:"action-btn",attrs:{type:"danger",round:"",block:"",disabled:t.isDisabled},on:{click:t.onSubmit}},[t._v(t._s(t.btnText))])],1)],1)},staticRenderFns:[]};var k=a("VU/8")(x,$,!1,function(t){a("L1dS")},"data-v-428414ae",null).exports,L={data:function(){return{showPopup:!1,isLoading:!1}},computed:{list:function(){return this.$store.state.channel.cartList},totalPrice:function(){return parseFloat(this.$store.state.channel.total_money)},countNum:function(){var t=0;return Object(u.s)(this.list)||this.list.forEach(function(e){t+=parseFloat(e.num)}),t},isShowTip:function(){var t=!1;return"purchase"==this.$route.params.type&&(t=!this.$store.state.channel.isAchieveCondie&&this.$store.state.channel.message),t},isDisabled:function(){return"purchase"==this.$route.params.type&&!this.$store.state.channel.isAchieveCondie||Object(u.s)(this.list)}},mounted:function(){this.getCartList()},methods:{getCartList:function(){this.$store.dispatch("getChannelCartList",{page_index:1,page_size:20,buy_type:this.$route.params.type})},onSubmit:function(){var t=this.$route.params.type;this.isLoading=!0,this.$router.push({name:"channel-order-confirm",params:{type:t}})}},deactivated:function(){this.isLoading&&(this.isLoading=!1)},components:{SubmitBar:v.a,PopupCart:k}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SubmitBar",{attrs:{price:t.totalPrice,disabled:t.isDisabled,"button-text":"purchase"==t.$route.params.type?"结算":"提货",loading:t.isLoading},on:{submit:t.onSubmit}},[t.isShowTip?a("div",{staticClass:"text-center",attrs:{slot:"tip"},domProps:{innerHTML:t._s(t.$store.state.channel.message)},slot:"tip"}):t._e(),t._v(" "),a("div",{staticClass:"btn-card",on:{click:function(e){t.showPopup=!0}}},[a("span",{staticClass:"badge"},[t._v(t._s(t.countNum))]),t._v(" "),a("van-icon",{attrs:{name:"shopping-cart-o"}})],1),t._v(" "),"purchase"!==t.$route.params.type?a("div",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v("已选：")]),t._v(" "),a("span",{staticClass:"bar-price"},[t._v(t._s(t.countNum))]),t._v("件商品\n    ")]):t._e()]),t._v(" "),a("PopupCart",{attrs:{list:t.list},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}})],1)},staticRenderFns:[]};var O=a("VU/8")(L,w,!1,function(t){a("ks5E")},"data-v-3402d384",null).exports,j=a("ZlPB"),T=a("msXN"),F=Object(i.a)({name:"channel-goods",data:function(){var t=this.$route.params.type;return{activeKey:0,buy_type:t,category_list:[],params:{category_id:"",buy_type:t,search_text:""}}},mixins:[T.e],watch:{"$route.params.type":function(t,e){"channel-goods"==this.$route.name&&t&&this.buy_type!==t&&(this.activeKey=0,this.buy_type=t,this.params.buy_type=t,this.params.search_text="",this.category_list=[],this.loadData("init"),this.$refs.goodsCart.getCartList())}},computed:{viewBottom:function(){return"purchase"==this.$route.params.type?this.$store.state.channel.isAchieveCondie?50:90:50}},mounted:function(){this.loadData()},methods:{onChangeNav:function(t){this.activeKey=t,this.params.category_id=this.category_list[t].category_id,this.loadList("init")},onSearch:function(t){this.params.search_text=t,this.loadList("init")},getCategory:function(){var t=this;return new n.a(function(e,a){Object(j.p)(t.buy_type).then(function(a){var s=a.data;t.category_list=s.category_list,e()}).catch(function(){})})},loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(j.q)(e.params).then(function(a){var s=a.data,n=s.goods_list?s.goods_list:[];e.pushToList(n,s.page_count,t)}).catch(function(){e.loadError()})},loadData:function(t){var e=this;Object(u.s)(e.category_list)?e.getCategory().then(function(){e.params.category_id=e.category_list[e.activeKey]?e.category_list[e.activeKey].category_id:"",e.loadList(t)}):(e.params.category_id=e.category_list[e.activeKey]?e.category_list[e.activeKey].category_id:"",e.loadList(t))}},components:{HeadSearch:o.a,CategoryView:r.a,GoodsPanelGroup:m,GoodsSubmitBar:O}}),S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channel-goods bg-f8"},[a("HeadSearch",{attrs:{disabled:!1,showLeft:"","show-action":"",placeholder:"商品名称"},on:{rightAction:t.onSearch}}),t._v(" "),a("CategoryView",{attrs:{top:"46",bottom:t.viewBottom}},[a("div",{staticClass:"nav",attrs:{slot:"nav"},slot:"nav"},t._l(t.category_list,function(e,s){return a("div",{key:s,staticClass:"item",class:t.activeKey==s?"active":"",on:{click:function(e){t.onChangeNav(s)}}},[a("span",{staticClass:"nav-item-text"},[t._v(t._s(e.short_name||e.category_name))])])})),t._v(" "),a("List",{attrs:{slot:"content",finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{message:"没有相关商品"}},on:{"update:error":function(e){t.error=e},load:t.loadList},slot:"content",model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(t,e){return a("GoodsPanelGroup",{key:e,attrs:{detail:t}})}))],1),t._v(" "),a("GoodsSubmitBar",{ref:"goodsCart"})],1)},staticRenderFns:[]};var E=a("VU/8")(F,S,!1,function(t){a("aEap")},"data-v-98ce1e80",null);e.default=E.exports},s2B9:function(t,e){},uxof:function(t,e){},xCoB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("Cf7V"),i=Object(s.a)({name:"channel-certificate",data:function(){return{}},mounted:function(){this.$store.state.config.addons.credential?this.$refs.load.success():this.$refs.load.fail({errorType:"fail",errorText:"未开启授权证书应用",showFoot:!1})},components:{AuthCertificate:n.a}}),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"channel-certificate bg-f8"},[e("Navbar"),this._v(" "),e("AuthCertificate",{attrs:{type:3}})],1)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(t){a("easG")},"data-v-55d3ae10",null);e.default=r.exports},xYdz:function(t,e){},yEH9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("eKM9"),n=a("QmeG"),i=a("i8hT"),o=a("CTMi"),r=a("ZlPB"),c=a("oFuF"),l=(a("w3CS"),a("vsm6")),u=Object(s.a)({name:"channel-apply",data:function(){return{banner:null,protocol:null,info:"",params:{user_tel:null,real_name:null},user_tel:null,condition:{},isChannel:null,state:null,formList:[],checked:!1}},mounted:function(){var t=this;Object(r.h)().then(function(e){var a=e.data;2==a.is_checked?(t.$refs.load.result(),t.$router.replace("/channel/centre")):(t.params.real_name=a.real_name,t.params.user_tel=a.user_tel,t.user_tel=a.user_tel,t.banner=a.channel_agreement?a.channel_agreement.logo:"",t.protocol=a.channel_agreement?a.channel_agreement.condition:"",t.condition=a.condition,t.state=a.channel_condition,t.isChannel=a.is_checked,t.formList=Object(c.s)(a.customform)?[]:a.customform.channel,t.$refs.load.success())}).catch(function(){t.$refs.load.fail()})},computed:{applyStateInfo:function(){var t={};switch(this.isChannel){case 1:t.state="wait",t.message="申请提交成功，请耐心等待商城审核。";break;case 2:t.state="success",t.message="已通过审核。";break;case 3:t.state="info",t.message="满足条件，请完善资料。";break;case-1:t.state="error",t.message="商城拒绝你成为渠道商，请联系客服或重新提交申请。"}return!Object(c.s)(t)&&t},satisfyConditionText:function(){return"all"==this.state?"满足以下条件自动成为渠道商：":"满足其中一个条件即可成为渠道商"},satisfyConditionStatus:function(){return!(!this.condition.to_channel_status||1!=this.condition.to_channel_status)}},methods:{onApply:function(t){var e=this;Object(r.b)(t).then(function(t){var a=t.message;e.$Toast.success(a),setTimeout(function(){e.$router.replace("/member/centre")},1e3)})}},components:{HeadBanner:n.a,Divider:i.a,ResultState:o.a,ApplyFormGroup:l.a}}),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{ref:"load",staticClass:"channel-apply bg-f8"},[a("Navbar"),t._v(" "),a("HeadBanner",{attrs:{src:t.banner}}),t._v(" "),t.applyStateInfo?a("ResultState",{attrs:{state:t.applyStateInfo.state,message:t.applyStateInfo.message}}):t._e(),t._v(" "),-2==t.isChannel?a("van-cell-group",{staticClass:"apply-condition"},[a("van-cell",{attrs:{value:t.satisfyConditionText}}),t._v(" "),a("van-cell",t._l(t.condition,function(e,s){return a("div",{key:s},[a("span",[t._v("\n          "+t._s(e.text)+"\n          "),e.goods_id?a("a",{staticClass:"a-link",attrs:{href:"/wap/goods/detail/"+e.goods_id}},[t._v("去购买")]):t._e()])])}))],1):t._e(),t._v(" "),-1==t.isChannel||0==t.isChannel?a("ApplyFormGroup",{attrs:{"form-list":t.formList,params:t.params},on:{submit:t.onApply}}):t._e(),t._v(" "),a("Divider",{attrs:{title:"申请协议",content:t.protocol}})],1)},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(t){a("uxof")},"data-v-8f924c8e",null);e.default=p.exports},zwC5:function(t,e){}});