webpackJsonp([1],{"0XvA":function(t,e){},"0amn":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("pnMy"),r=(o("oFuF"),o("VKKs"),Object(s.a)({name:"microshop-gradecentre",data:function(){return{items:null}},computed:{info:function(){return this.$store.state.microshop.info},shopkeeper_level_name:function(){var t=this.info;return t&&t.shopkeeper_level_name?t.shopkeeper_level_name:" "},shopkeeper_level_time:function(){var t=this.info;return t&&t.shopkeeper_level_time?t.shopkeeper_level_time:""},is_default_shopkeeper:function(){var t=this.info;return t&&t.is_default_shopkeeper?t.is_default_shopkeeper:""},shopkeeper_id:function(){var t=this.info;return t&&t.uid?t.uid:""},styles:function(){return this.items.length>3?{flexShrink:"0",width:"90px"}:{flex:"auto"}}},filters:{numbers:function(t){if(-1!==t.indexOf){var e=t.split(".");return"00"==e[1]?e[0]:t}return t}},mounted:function(){var t=this;this.$store.dispatch("getMicroshopInfo").then(function(e){t.loadData(),t.$refs.load.success()}).catch(function(e){t.$refs.load.fail()})},methods:{loadData:function(){var t=this;Object(i.f)().then(function(e){var o=e.data;t.items=o,t.$refs.load.success()})},onRenew:function(){this.$router.replace({name:"microshop-centre",query:{order_type:3}})},onUpGrade:function(){var t=this;Object(i.p)().then(function(e){if(0==e.data.length)return t.$Toast("您当前已是最高等级"),!1;t.$router.replace({name:"microshop-centre",query:{order_type:4}})})}}})),a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-gradecentre"},[o("Navbar"),t._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"bg-f8 head-wrap"},[o("div",{staticClass:"head"},[o("h4",[t._v(t._s(t.shopkeeper_level_name))]),t._v(" "),o("div",{staticClass:"time"},[t._v(t._s("无期限"==t.shopkeeper_level_time?t.shopkeeper_level_time:"将于"+t.shopkeeper_level_time+"到期"))]),t._v(" "),o("div",{staticClass:"btn-wrap"},[0==t.is_default_shopkeeper?o("van-button",{attrs:{round:"",size:"small",type:"default"},on:{click:t.onRenew}},[t._v("立即续费")]):t._e(),t._v(" "),o("van-button",{attrs:{round:"",size:"small",type:"default"},on:{click:t.onUpGrade}},[t._v("提升等级")])],1)])]),t._v(" "),o("div",{staticClass:"grade-introduce"},[o("h4",[t._v("等级权益介绍")]),t._v(" "),o("div",{staticClass:"grade-table"},[o("ul",{staticClass:"grade-th"},[o("li",[t._v("\n            等级\n            "),o("p",{staticClass:"bd-left"})]),t._v(" "),o("li",[t._v("专属店铺")]),t._v(" "),o("li",[t._v("自购返利")]),t._v(" "),o("li",[t._v("开店返利")])]),t._v(" "),o("div",{staticClass:"table-wrap"},[o("div",{staticClass:"table"},t._l(t.items,function(e,s){return o("ul",{key:s,style:t.styles},[o("li",[t._v(t._s(e.level_name))]),t._v(" "),o("li",[t._v("拥有")]),t._v(" "),o("li",[e.selfpurchase_rebate>0?o("span",[t._v(t._s(t._f("numbers")(e.selfpurchase_rebate))+"%")]):o("span",[t._v("无")])]),t._v(" "),o("li",[e.shop_rebate>0?o("span",[t._v(t._s(t._f("numbers")(e.shop_rebate))+"%")]):o("span",[t._v("无")])])])}))])]),t._v(" "),o("div",{staticClass:"tips"},[o("p",[o("span",[t._v("店主升级：店主通过购买升级礼包升级。")])]),t._v(" "),o("p",[o("span",[t._v("店主降级：等级过期后，将会降至默认等级。")])]),t._v(" "),o("p",[o("span",[t._v("专属店铺：拥有自己的专属微店。")])]),t._v(" "),o("p",[o("span",[t._v("自购返利：店主在平台消费，获得返利。")])]),t._v(" "),o("p",[o("span",[t._v("销售返利：消费者通过店主微店消费，获得返利。")])]),t._v(" "),o("p",[o("span",[t._v("开店返利：下线开店获得相应返利。")])])])])])],1)},staticRenderFns:[]};var n=o("VU/8")(r,a,!1,function(t){o("oPay")},"data-v-9df2abd2",null);e.default=n.exports},"1xQy":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("VKKs"),r=o("pnMy"),a=o("J68u"),n=Object(s.a)({name:"microshop-recruitmentlogo",data:function(){return{mic_reclogo:null}},computed:{imgHeight:function(){return document.body.offsetWidth-30+"px"},microshop_name:function(){return Object(i.c)("set").microshop_name?Object(i.c)("set").microshop_name:""},microshop_introduce:function(){return Object(i.c)("set").microshop_introduce?Object(i.c)("set").microshop_introduce:""},microshop_logo:function(){return Object(i.c)("set").microshop_logo?Object(i.c)("set").microshop_logo:""},shopRecruitment_logo:function(){return Object(i.c)("set").shopRecruitment_logo?Object(i.c)("set").shopRecruitment_logo:""}},mounted:function(){this.mic_reclogo=this.shopRecruitment_logo,this.$refs.load.success()},methods:{onUploadFinish:function(t){var e=t.src,o=this,s={microshop_logo:o.microshop_logo,microshop_name:o.microshop_name,microshop_introduce:o.microshop_introduce};s.shopRecruitment_logo=e.toString(),o.mic_reclogo=e.toString(),Object(r.o)(s).then(function(t){o.$store.dispatch("getMicroshopInfo").then()}),setTimeout(function(){o.$router.go(-1)},500)}},components:{UploadImages:a.a}}),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"microshop-recruitmentlogo bg-f8"},[e("Navbar",{attrs:{isMenu:!1}}),this._v(" "),e("div",[e("div",{staticClass:"box"},[e("div",{staticClass:"img",style:"maxHeight:"+this.imgHeight},[e("img",{attrs:{src:this.mic_reclogo,onerror:this.$ERRORPIC.noAvatar}})]),this._v(" "),e("div",{staticClass:"fixed-foot-btn-group"},[e("UploadImages",{staticClass:"btn-upload",on:{finish:this.onUploadFinish}},[e("van-button",{attrs:{size:"normal",type:"danger",round:"",block:""}},[this._v("上传店招Logo")])],1)],1)])])],1)},staticRenderFns:[]};var l=o("VU/8")(n,c,!1,function(t){o("s2ft")},"data-v-06305710",null);e.default=l.exports},"2vpu":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("Cf7V"),r=Object(s.a)({name:"microshop-certificate",data:function(){return{}},mounted:function(){this.$store.state.config.addons.credential?this.$refs.load.success():this.$refs.load.fail({errorType:"fail",errorText:"未开启授权证书应用",showFoot:!1})},components:{AuthCertificate:i.a}}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"microshop-certificate bg-f8"},[e("Navbar"),this._v(" "),e("AuthCertificate",{attrs:{type:4}})],1)},staticRenderFns:[]};var n=o("VU/8")(r,a,!1,function(t){o("Qt8Q")},"data-v-0ba1c482",null);e.default=n.exports},"35hA":function(t,e){},"7wbk":function(t,e){},"8RIC":function(t,e){},"8tbl":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("pnMy"),r=o("WyhY"),a=o("r4M4"),n=Object(s.a)({name:"microshop-previewcategory",data:function(){return{activeKey:0,items:[],shopkeeper_id:null}},computed:{content:function(){return this.items[this.activeKey]?this.items[this.activeKey].second_category:[]}},mounted:function(){var t=this;if(t.$route.query.shopkeeper_id){t.shopkeeper_id=t.$route.query.shopkeeper_id;var e={shopkeeper_id:t.$route.query.shopkeeper_id};Object(i.k)(e).then(function(e){var o=e.data;t.items=o,t.$refs.load.success()}).catch(function(t){console.log(t)})}},methods:{toList:function(t,e){this.$router.push({path:"/microshop/preview/list",query:{category_id:t,text:e,shopkeeper_id:this.shopkeeper_id}})}},components:{HeadSearch:r.a,CategoryView:a.a}}),c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-category"},[o("HeadSearch",{attrs:{showLeft:"","search-type":"microshoppreview"}}),t._v(" "),o("CategoryView",{attrs:{top:"46"}},[o("div",{staticClass:"nav",attrs:{slot:"nav"},slot:"nav"},t._l(t.items,function(e,s){return o("div",{key:s,staticClass:"item",class:t.activeKey==s?"active":"",on:{click:function(e){t.activeKey=s}}},[o("span",{staticClass:"nav-item-text"},[t._v(t._s(e.short_name||e.category_name))])])})),t._v(" "),o("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},t._l(t.content,function(e,s){return o("div",{key:s,staticClass:"item"},[o("div",{staticClass:"item-head"},[o("span",{staticClass:"e-handle",on:{click:function(o){t.toList(e.category_id,e.short_name||e.category_name)}}},[t._v(t._s(e.short_name||e.category_name))])]),t._v(" "),o("div",{staticClass:"item-main"},t._l(e.third_category,function(e,s){return o("div",{key:s,staticClass:"item-child"},[o("div",{staticClass:"item-box e-handle",on:{click:function(o){t.toList(e.category_id,e.short_name||e.category_name)}}},[o("div",{staticClass:"iamges"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.category_pic,expression:"child.category_pic"}],key:e.category_pic,attrs:{"pic-type":"square"}})]),t._v(" "),o("div",{staticClass:"name"},[t._v(t._s(e.short_name||e.category_name))])])])}))])}))])],1)},staticRenderFns:[]};var l=o("VU/8")(n,c,!1,function(t){o("oirI")},"data-v-0879dc4b",null);e.default=l.exports},"96yC":function(t,e){},AC7v:function(t,e,o){"use strict";var s=o("//Fk"),i=o.n(s),r=o("WmBJ"),a={data:function(){return{}},props:{qrUrl:String,loaded:Function},computed:{size:function(){return document.body.offsetWidth/2}},mounted:function(){var t=this;i.a.all([this.loadedQr(),this.loadedPosterBg()]).then(function(){t.loaded()}).catch(function(){})},methods:{loadedQr:function(){return new i.a(function(t,e){document.getElementById("qrImg").onload=function(e){t(e)}})},loadedPosterBg:function(){return new i.a(function(t,e){document.getElementById("posterBg").onload=function(e){t(e)}})}},components:{Qrcode:r.a}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"poster",staticClass:"poster"},[e("img",{staticClass:"poster-bg",attrs:{src:this.$BASEIMGPATH+"poster.jpg",id:"posterBg"}}),this._v(" "),e("div",{staticClass:"poster-qr-box"},[e("Qrcode",{staticClass:"poster-qr",attrs:{options:{size:this.size},value:this.qrUrl,tag:"img",id:"qrImg"}})],1)])},staticRenderFns:[]};var c=o("VU/8")(a,n,!1,function(t){o("MPIF")},"data-v-ef5e937e",null);e.a=c.exports},BG5q:function(t,e,o){"use strict";var s={data:function(){return{tag:[{name:"包邮",type:"free_shipping_fee",selected:!1},{name:"新品",type:"new_goods",selected:!1}],params:{min_price:"",max_price:"",free_shipping_fee:"",new_goods:""}}},computed:{},props:{show:Boolean,default:!1},created:function(){},methods:{tagSelect:function(t,e){this.tag[t].selected=!e,this.params[this.tag[t].type]=this.tag[t].selected},closePopup:function(){this.$emit("popup",!1)},onReset:function(){this.params.min_price="",this.params.max_price="",this.params.free_shipping_fee=!1,this.params.new_goods=!1,this.tag.forEach(function(t){t.selected=!1})},onOonfirm:function(){this.params.min_price=this.params.min_price?parseFloat(this.params.min_price):"",this.params.max_price=this.params.max_price?parseFloat(this.params.max_price):"",this.$emit("screen",this.params)}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-popup",{attrs:{position:"right","close-on-click-overlay":!1},on:{"click-overlay":t.closePopup},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[o("div",{staticClass:"screen-popup"},[o("div",{staticClass:"screen-condition"},[o("div",{staticClass:"condition-group"},t._l(t.tag,function(e,s){return o("van-button",{key:s,class:e.selected?"selected":"",attrs:{size:"small"},on:{click:function(o){t.tagSelect(s,e.selected)}}},[t._v(t._s(e.name))])})),t._v(" "),o("div",{staticClass:"price-range"},[t._v("价格区间")]),t._v(" "),o("div",{staticClass:"condition-group"},[o("div",{staticClass:"input-group"},[o("van-field",{attrs:{type:"number",placeholder:"最低价"},model:{value:t.params.min_price,callback:function(e){t.$set(t.params,"min_price",e)},expression:"params.min_price"}}),t._v(" "),o("span",{staticClass:"input-group-addon"},[t._v("~")]),t._v(" "),o("van-field",{attrs:{type:"number",placeholder:"最高价"},model:{value:t.params.max_price,callback:function(e){t.$set(t.params,"max_price",e)},expression:"params.max_price"}})],1)])]),t._v(" "),o("div",{staticClass:"foot"},[o("div",{staticClass:"btn reset e-handle",on:{click:t.onReset}},[t._v("重置")]),t._v(" "),o("div",{staticClass:"btn sub e-handle",on:{click:t.onOonfirm}},[t._v("确定")])])])])},staticRenderFns:[]};var r=o("VU/8")(s,i,!1,function(t){o("azwx")},"data-v-0a037859",null).exports,a={data:function(){return{screenPopupShow:!1,tab:[{name:"默认",sort:""},{name:"销售量",icon:"v-icon-sort2",sort:"sales",sort_type:"DESC"},{name:"价格",icon:"v-icon-sort2",sort:"price",sort_type:"DESC"},{name:"筛选",icon:"v-icon-screen",sort:!1}],params:{page_index:1,page_size:10,order:"",sort:"",min_price:"",max_price:"",free_shipping_fee:"",new_goods:"",goods_type:"",search_text:this.$route.query.search_text?this.$route.query.search_text:"",category_id:this.$route.query.category_id?this.$route.query.category_id:"",microshop_type:1}}},props:{setParams:{type:Function,default:null}},methods:{onSort:function(t){var e=this.$parent.params;e.page_index=1,e.order=this.tab[t].sort,this.tab[t].sort_type?(e.sort=this.tab[t].sort_type,"DESC"==this.tab[t].sort_type?this.tab[t].sort_type="ASC":this.tab[t].sort_type="DESC"):e.sort="",this.setParams&&this.setParams(e,"init")},onScreen:function(t){var e=this.$parent.params;e.page_index=1,e.free_shipping_fee=t.free_shipping_fee,e.max_price=t.max_price,e.min_price=t.min_price,e.new_goods=t.new_goods,this.isShowPopup(!1),this.setParams&&this.setParams(e,"init")},isShowPopup:function(t){this.screenPopupShow="tab"===t||t}},components:{PopupScreen:r}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tab-sort-screen"},[o("van-tabs",{on:{click:t.onSort,disabled:function(e){t.isShowPopup("tab")}}},t._l(t.tab,function(e,s){return o("van-tab",{key:s,attrs:{disabled:!1===e.sort}},[o("div",{attrs:{slot:"title"},slot:"title"},[t._v("\r\n        "+t._s(e.name)+"\r\n        "),e.icon?o("van-icon",{attrs:{name:e.icon+" "+e.sort_type}}):t._e()],1)])})),t._v(" "),o("PopupScreen",{attrs:{show:t.screenPopupShow},on:{popup:t.isShowPopup,screen:t.onScreen}})],1)},staticRenderFns:[]};var c=o("VU/8")(a,n,!1,function(t){o("7wbk")},"data-v-6984463c",null);e.a=c.exports},BN22:function(t,e){},DTBu:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("sIyc"),r=o("BG5q"),a=o("qsHl"),n=o("msXN"),c=Object(s.a)({name:"microshop-previewlist",data:function(){return{params:{order:"",sort:"",min_price:"",max_price:"",free_shipping_fee:"",new_goods:"",goods_type:"",search_text:this.$route.query.search_text?this.$route.query.search_text:"",category_id:this.$route.query.category_id?this.$route.query.category_id:"",shop_id:this.$route.query.shop_id?this.$route.query.shop_id:"",microshop_type:1},shopkeeper_id:""}},mixins:[n.e],computed:{navBarTitle:function(){var t=this.$route.query,e=this.$route.meta.title;return t.search_text?e="搜索："+t.search_text:t.text&&(e=t.text),e&&(document.title=e),e},info:function(){return this.$store.state.microshop.info},shopkeeperid:function(){var t=this.info;return t&&t.uid?t.uid:""}},watch:{"$route.query":function(t){var e=t.category_id,o=t.search_text;"microshop-previewlist"===this.$route.name&&(void 0==e&&void 0==o?(this.params.category_id="",this.params.search_text="",this.loadList("init")):e?(this.params.category_id=e,this.params.search_text="",this.loadList("init")):o&&(this.params.category_id="",this.params.search_text=o,this.loadList("init")))}},mounted:function(){var t=this;this.$route.query.shopkeeper_id?(this.shopkeeper_id=this.$route.query.shopkeeper_id,this.loadList()):this.$store.dispatch("getMicroshopInfo").then(function(e){t.shopkeeper_id=t.shopkeeperid,t.loadList(),t.$refs.load.success()}).catch(function(t){console.log(t)})},methods:{loadList:function(t){var e=this;t&&"init"===t&&e.initList(),e.params.shopkeeper_id=e.shopkeeper_id,Object(a.k)(e.params).then(function(o){var s=o.data,i=s.goods_list;e.pushToList(i,s.page_count,t)}).catch(function(){console.log(error)})},setParams:function(t){this.params=t,this.loadList("init")},toGoods:function(t){this.$router.push({name:"goods-detail",params:{goodsid:t,shopkeeper_id:this.shopkeeper_id}})}},components:{TabSortScreen:r.a,GoodsTab:i.a}}),l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"microshop-previewlist bg-f8"},[o("Navbar",{attrs:{title:t.navBarTitle,isMenu:!1}}),t._v(" "),o("TabSortScreen",{attrs:{"set-params":t.setParams}}),t._v(" "),o("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"microshoppreview",message:"暂无商品",showFoot:!0,btnLink:"/microshop/previewshop",btnText:"返回微店"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[o("div",{staticClass:"list"},t._l(t.list,function(e,s){return o("GoodsTab",{key:s,attrs:{name:e.goods_name,price:e.price,sales:e.sales,"market-price":e.market_price,image:e.logo,isShow:!1,link:"/goods/detail/"+e.goods_id+"?shopkeeper_id="+t.shopkeeper_id}})}))])],1)},staticRenderFns:[]};var u=o("VU/8")(c,l,!1,function(t){o("Sa1T")},"data-v-0d6549a9",null);e.default=u.exports},F5Y3:function(t,e){},G4C0:function(t,e){},GFFY:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),i=o.n(s),r=o("eKM9"),a=o("OQ2V"),n=o("d/4A"),c=o("bp/4"),l=o("Lo3X"),u=o("BuIE"),d=o("pnMy"),p=o("FWz8"),h=o("oFuF"),m=o("VKKs"),_=Object(r.a)({name:"microshop-confirmorder",data:function(){JSON.parse(Object(u.a)(this.$route.query.params));return{items:null,isLoading:!1,address:{},formList:[],shipping_type:1,total_amount:0,total_shipping:0}},filters:{filterSpec:function(t){if(Object(h.s)(t))return"";var e=[];return t.forEach(function(t){var o=t.spec_name+" "+t.spec_value_name;e.push(o)}),e.join(" , ")}},computed:{params:{get:function(){return JSON.parse(Object(u.a)(this.$route.query.params))},set:function(t){console.log(t)}},orderType:function(){return this.params.order_type},isForm:function(){return!Object(h.s)(this.formList)},isshopkeeper:function(){return Object(m.c)("info").isshopkeeper},shopkeeper_id:function(){return Object(m.c)("info").uid},order_data:function(){var t=this,e=this.items,o={custom_order:""};return o.order_from=this.$store.state.is_weixin?1:2,o.total_amount=this.total_amount,0!==this.shipping_type&&(o.shipping_type=this.shipping_type),this.isshopkeeper&&(o.shopkeeper_id=this.shopkeeper_id),this.orderType&&(o.order_type=this.orderType),1==this.shipping_type&&(o.address_id=this.address.id),o.shop_list=[],e?(e.forEach(function(e){var s={};s.leave_message=e.leave_message,s.shop_id=e.shop_id,s.rule_id=e.full_cut.rule_id?e.full_cut.rule_id:"",s.coupon_id=e.coupon_id?e.coupon_id:"",s.shop_amount=e.shop_amount<=0?e.shop_amount=0:e.shop_amount,2==t.shipping_type&&(s.store_id=e.store_id),0==t.shipping_type&&(s.card_store_id=e.card_store_id),s.goods_list=[],e.goods_list.forEach(function(t){var e={};e.goods_id=t.goods_id,e.sku_id=t.sku_id,e.price=t.price,e.num=t.num,e.discount_price=t.discount_price,e.seckill_id=t.seckill_id?t.seckill_id:"",e.channel_id=t.channel_id?t.channel_id:"",e.discount_id=t.discount_id?t.discount_id:"",e.bargain_id=t.bargain_id?t.bargain_id:"",e.presell_id=t.presell_id?t.presell_id:"",s.goods_list.push(e)}),o.shop_list.push(s)}),o):{}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;Object(d.n)(t.params).then(function(e){e.message&&t.$Toast(e.message);var o=e.data;t.total_shipping=o.total_shipping,t.total_amount=o.amount,t.items=o.shop.map(function(t){return t.leave_message="",t.shop_amount=t.total_amount,t.coupon_show=!1,t.coupon_id="",t.store_show=!1,t.store_id="",t.store_name="",t.card_store_id="",t}),Object(h.s)(o.address)||(t.address={name:o.address.consigner,tel:o.address.mobile,id:o.address.address_id,address:o.address.province_name+o.address.city_name+o.address.district_name+o.address.address_detail}),t.formList=Object(h.s)(o.customform)?[]:o.customform,t.$refs.load.success()}).catch(function(){t.$store.getters.isBingFlag&&t.$store.getters.isBindMobile?t.$refs.load.fail():t.$refs.load.result()})},onSubmit:function(){var t=this,e=t.$refs.FormGroup?t.$refs.FormGroup.getFormData():"";if(t.isForm){if(!e)return!1;t.order_data.custom_order=i()(e)}if(1==t.shipping_type&&!t.order_data.address_id)return t.$Toast("请选择收货地址！");t.isLoading=!0,Object(p.h)(t.order_data).then(function(e){var o=e.data;Object(h.t)()?location.replace(t.$store.state.domain+"/wap/pay/payment?out_trade_no="+o.out_trade_no):t.$router.replace({name:"pay-payment",query:{out_trade_no:o.out_trade_no}})}).catch(function(e){t.isLoading=!1})},onAddress:function(t){this.address=t,this.params.address_id=t.id,this.loadData()}},components:{ChoiceAddress:a.a,SubmitBar:n.a,FormGroup:c.a,GoodsCard:l.a}}),f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-confirmorder bg-f8"},[o("Navbar",{attrs:{isMenu:!1}}),t._v(" "),o("ChoiceAddress",{directives:[{name:"show",rawName:"v-show",value:1==t.shipping_type,expression:"shipping_type == 1"}],attrs:{address:t.address},on:{select:t.onAddress}}),t._v(" "),t.isForm?o("FormGroup",{ref:"FormGroup",attrs:{items:t.formList}}):t._e(),t._v(" "),t._l(t.items,function(e,s){return o("van-cell-group",{key:s,staticClass:"items card-group-box"},[o("van-cell",{attrs:{icon:"shop-o",title:e.shop_name}}),t._v(" "),o("div",{staticClass:"goods-info van-hairline--top-bottom"},t._l(e.goods_list,function(e){return o("van-cell",{key:e.goods_id},[o("GoodsCard",{attrs:{title:e.goods_name,desc:t._f("filterSpec")(e.spec),price:e.price,thumb:t._f("BASESRC")(e.goods_pic),num:e.num}})],1)})),t._v(" "),o("van-cell",[o("div",{staticClass:"cell-foot"},[t._v("\n        共 \n        "),o("span",[t._v(t._s(e.goods_list.length))]),t._v(" 件商品   小计：\n        "),o("span",{staticClass:"price"},[t._v(t._s(t._f("yuan")(e.shop_amount)))])])])],1)}),t._v(" "),t.total_shipping?o("van-cell-group",{staticClass:"card-group-box"},[o("van-cell",[o("div",{staticClass:"item"},[o("div",{staticClass:"title"},[t._v("运费")]),t._v(" "),o("div",{staticClass:"value"},[t._v(t._s(t._f("yuan")(t.total_shipping)))])])])],1):t._e(),t._v(" "),o("SubmitBar",{attrs:{label:"合计金额（含运费）",type:"primary",price:t.order_data.total_amount,"button-text":"提交订单",loading:t.isLoading,"loading-text":"提交订单..."},on:{submit:t.onSubmit}})],2)},staticRenderFns:[]};var v=o("VU/8")(_,f,!1,function(t){o("0XvA")},"data-v-b55df0a4",null);e.default=v.exports},"Gh+Z":function(t,e){},HEjM:function(t,e){},KMoc:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=(o("oFuF"),Object(s.a)({name:"microshop-set",data:function(){return{}},computed:{set:function(){return this.$store.state.microshop.set},microshop_logo:function(){var t=this.set;return t&&t.microshop_logo?t.microshop_logo:" "},shopRecruitment_logo:function(){var t=this.set;return t&&t.shopRecruitment_logo?t.shopRecruitment_logo:" "}},mounted:function(){var t=this;this.$store.dispatch("getMicroshopInfo").then(function(e){t.$refs.load.success()}).catch(function(e){t.$refs.load.fail()})},methods:{}})),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"microshop-set bg-f8"},[e("Navbar"),this._v(" "),e("van-cell-group",{staticClass:"mb-10"},[e("van-cell",{attrs:{title:"微店信息","is-link":"",to:"/microshop/info"}}),this._v(" "),e("van-cell",{staticClass:"avatar-cell",attrs:{title:"微店Logo","is-link":"",to:"/microshop/shoplogo"}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.microshop_logo,onerror:this.$ERRORPIC.noAvatar}})])]),this._v(" "),e("van-cell",{staticClass:"avatar-cell",attrs:{title:"店招Logo","is-link":"",to:"/microshop/recruitmentlogo"}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.shopRecruitment_logo,onerror:this.$ERRORPIC.noAvatar}})])])],1)],1)},staticRenderFns:[]};var a=o("VU/8")(i,r,!1,function(t){o("x2hS")},"data-v-b7bd5888",null);e.default=a.exports},"L+rz":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("VKKs"),r=o("pnMy"),a=o("J68u"),n=Object(s.a)({name:"microshop-shoplogo",data:function(){return{mic_logo:null}},computed:{imgHeight:function(){return document.body.offsetWidth-30+"px"},microshop_name:function(){return Object(i.c)("set").microshop_name?Object(i.c)("set").microshop_name:""},microshop_introduce:function(){return Object(i.c)("set").microshop_introduce?Object(i.c)("set").microshop_introduce:""},microshop_logo:function(){return Object(i.c)("set").microshop_logo?Object(i.c)("set").microshop_logo:""},shopRecruitment_logo:function(){return Object(i.c)("set").shopRecruitment_logo?Object(i.c)("set").shopRecruitment_logo:""}},mounted:function(){this.mic_logo=this.microshop_logo,this.$refs.load.success()},methods:{onUploadFinish:function(t){var e=t.src,o=this,s={shopRecruitment_logo:o.shopRecruitment_logo,microshop_name:o.microshop_name,microshop_introduce:o.microshop_introduce};s.microshop_logo=e.toString(),o.mic_logo=e.toString(),Object(r.o)(s).then(function(t){o.$store.dispatch("getMicroshopInfo").then()}),setTimeout(function(){o.$router.go(-1)},500)}},components:{UploadImages:a.a}}),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{ref:"load",staticClass:"microshop-shoplogo bg-f8"},[e("Navbar",{attrs:{isMenu:!1}}),this._v(" "),e("div",[e("div",{staticClass:"box"},[e("div",{staticClass:"img",style:"maxHeight:"+this.imgHeight},[e("img",{attrs:{src:this.mic_logo,onerror:this.$ERRORPIC.noAvatar}})]),this._v(" "),e("div",{staticClass:"fixed-foot-btn-group"},[e("UploadImages",{staticClass:"btn-upload",on:{finish:this.onUploadFinish}},[e("van-button",{attrs:{size:"normal",type:"danger",round:"",block:""}},[this._v("上传微店Logo")])],1)],1)])])],1)},staticRenderFns:[]};var l=o("VU/8")(n,c,!1,function(t){o("XSdS")},"data-v-008a02f2",null);e.default=l.exports},MPIF:function(t,e){},OLRe:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("sIyc"),r=o("BG5q"),a=o("pnMy"),n=o("msXN"),c=Object(s.a)({name:"microshop-chooselist",data:function(){return{params:{order:"",sort:"",min_price:"",max_price:"",free_shipping_fee:"",new_goods:"",goods_type:"",search_text:this.$route.query.search_text?this.$route.query.search_text:"",category_id:this.$route.query.category_id?this.$route.query.category_id:"",shop_id:this.$route.query.shop_id?this.$route.query.shop_id:"",microshop_type:1}}},mixins:[n.e],computed:{navBarTitle:function(){var t=this.$route.query,e=this.$route.meta.title;return t.search_text?e="搜索："+t.search_text:t.text&&(e=t.text),e&&(document.title=e),e}},watch:{"$route.query":function(t){var e=t.category_id,o=t.search_text;"microshop-chooselist"===this.$route.name&&(void 0==e&&void 0==o?(this.params.category_id="",this.params.search_text="",this.loadList("init")):e?(this.params.category_id=e,this.params.search_text="",this.loadList("init")):o&&(this.params.category_id="",this.params.search_text=o,this.loadList("init")))}},mounted:function(){this.loadList()},methods:{loadList:function(t){var e=this;t&&"init"===t&&e.initList(),Object(a.e)(e.params).then(function(o){var s=o.data,i=s.goods_list;e.pushToList(i,s.page_count,t)}).catch(function(){e.loadError()})},setParams:function(t){this.params=t,this.loadList("init")}},components:{TabSortScreen:r.a,GoodsTab:i.a}}),l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"microshop-list bg-f8"},[o("Navbar",{attrs:{title:t.navBarTitle}}),t._v(" "),o("TabSortScreen",{attrs:{"set-params":t.setParams}}),t._v(" "),o("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{pageType:"microshopchoose",message:"暂无商品",showFoot:!0,btnLink:"/",btnText:"返回首页"}},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[o("div",{staticClass:"list"},t._l(t.list,function(t,e){return o("GoodsTab",{key:e,attrs:{id:t.goods_id,name:t.goods_name,price:t.price,sales:t.sales,"market-price":t.market_price,image:t.logo,selectedgoods:t.mic_selectedgoods}})}))])],1)},staticRenderFns:[]};var u=o("VU/8")(c,l,!1,function(t){o("l4jr")},"data-v-2c454f16",null);e.default=u.exports},Oc28:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("7X5r"),r=o("0Lro"),a=o("pnMy"),n=o("msXN"),c=Object(s.a)({name:"microshop-withdraw",data:function(){return{isLoading:!1,profit:0,withdrawals_min:0,active:0,params:{cash:"",account_id:"",password:""},wx_openid:null,withdrawals_type:[]}},mixins:[n.f],computed:{showAuccount:function(){var t=!!this.typeList[this.active]&&this.typeList[this.active].showAuccount;return this.params.account_id=t?"":"-1",t},typeList:function(){var t=this.withdrawals_type?this.withdrawals_type:[],e=[];return t.some(function(t){return 5==t})&&e.push({showAuccount:!1,text:this.$store.state.member.memberSetText.balance_style}),t.some(function(t){return 1==t||2==t||3==t||4==t})&&e.push({showAuccount:!0,text:"第三方"}),e},isDisabled:function(){return this.profit<=0},btnText:function(){return this.profit<=0?"提现金额为0，不可提现":"提现"},payMoney:function(){var t=null;return this.params.cash&&(t=parseFloat(this.params.cash)),t}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;Object(a.q)().then(function(e){var o=e.data;t.profit=parseFloat(o.profit),t.withdrawals_min=o.withdrawals_min?parseFloat(o.withdrawals_min):0,t.wx_openid=o.wx_openid,t.withdrawals_type=o.withdrawals_type,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},onSelectAccount:function(t){var e=t.id,o=t.type;this.params.account_id=2==o?"-2":e},onPayPassword:function(t){this.params.password=t,this.onWithdraw()},onWithdraw:function(){var t=this;return!t.params.account_id&&this.showAuccount?(t.$Toast("请选择提现账户！"),!1):isNaN(parseFloat(t.params.cash))?(t.$Toast("请输入提现金额！"),!1):t.params.cash<=0?(t.$Toast("提现金额不能低于0！"),!1):t.params.cash<t.withdrawals_min?(t.$Toast("提现金额不能低于最低提现额度！"),!1):t.params.cash>t.profit?(t.$Toast("提现金额不可高于可提现金额！"),!1):(t.isLoading=!0,void t.validPayPassword(t.params.password).then(function(){Object(a.a)(t.params).then(function(e){var o=e.message;t.$Toast.success(o),t.$router.back()}).catch(function(){t.isLoading=!1})}).catch(function(){t.isLoading=!1,t.params.password=""}))}},components:{CellWithdrawAccount:i.a,DialogPayPassword:r.a}}),l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-withdraw bg-f8"},[o("Navbar"),t._v(" "),o("van-cell-group",[o("van-cell",{staticClass:"cell-panel",attrs:{title:"可提现金额"}},[o("div",{staticClass:"text-left text-maintone"},[t._v(t._s(t._f("yuan")(t.profit)))])]),t._v(" "),o("van-cell",{staticClass:"cell-panel",attrs:{title:"提现方式"}},[o("div",{staticClass:"text-left"},[o("van-radio-group",{staticClass:"cell-radio-group",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.typeList,function(e,s){return o("van-radio",{key:s,attrs:{name:s}},[t._v(t._s(e.text))])}))],1)]),t._v(" "),o("CellWithdrawAccount",{directives:[{name:"show",rawName:"v-show",value:t.showAuccount,expression:"showAuccount"}],attrs:{"account-id":t.params.account_id,"withdraw-type":t.withdrawals_type},on:{select:t.onSelectAccount}}),t._v(" "),o("van-field",{attrs:{label:"提现金额",type:"number",placeholder:"请输入提现金额"},model:{value:t.params.cash,callback:function(e){t.$set(t.params,"cash",t._n(e))},expression:"params.cash"}})],1),t._v(" "),o("van-cell",{staticClass:"cell",attrs:{title:"提现明细",to:"/microshop/profit/log","is-link":""}}),t._v(" "),o("div",{staticClass:"foot-btn-group"},[o("van-button",{attrs:{size:"normal",block:"",round:"",type:"danger",disabled:t.isDisabled,loading:t.isLoading},on:{click:t.onWithdraw}},[t._v(t._s(t.btnText))])],1),t._v(" "),o("DialogPayPassword",{ref:"DialogPayPassword",attrs:{type:"7",money:t.payMoney,"load-data":t.loadData},on:{confirm:t.onPayPassword,cancel:function(e){t.isLoading=!1}}})],1)},staticRenderFns:[]};var u=o("VU/8")(c,l,!1,function(t){o("QPOw")},"data-v-7dcb64bc",null);e.default=u.exports},QPOw:function(t,e){},Qio8:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("pnMy"),r=o("msXN"),a=Object(s.a)({name:"microshop-log",data:function(){return{}},mixins:[r.e],mounted:function(){this.loadList()},methods:{loadList:function(t){var e=this;Object(i.h)(e.params).then(function(o){var s=o.data,i=s.data?s.data:[];e.pushToList(i,s.page_count,t)}).catch(function(){e.loadError()})}}}),n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"microshop-log bg-f8"},[o("Navbar"),t._v(" "),o("List",{attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty},on:{"update:error":function(e){t.error=e},load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,s){return o("van-cell",{key:s,attrs:{value:e.create_time}},[o("div",{attrs:{slot:"title"},slot:"title"},[o("div",{class:e.profit>0?"positive":"negative"},[t._v(t._s(e.profit))]),t._v(" "),o("div",{staticClass:"fs-12 text-regular"},[t._v(t._s(e.text))])])])}))],1)},staticRenderFns:[]};var c=o("VU/8")(a,n,!1,function(t){o("8RIC")},"data-v-f891204c",null);e.default=c.exports},Qt8Q:function(t,e){},Sa1T:function(t,e){},SldL:function(t,e){!function(e){"use strict";var o,s=Object.prototype,i=s.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag",l="object"==typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{(u=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",_={},f={};f[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==s&&i.call(g,a)&&(f=g);var y=C.prototype=w.prototype=Object.create(f);x.prototype=y.constructor=C,C.constructor=x,C[c]=x.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(y),t},u.awrap=function(t){return{__await:t}},$(O.prototype),O.prototype[n]=function(){return this},u.AsyncIterator=O,u.async=function(t,e,o,s){var i=new O(b(t,e,o,s));return u.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},$(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var o in t)e.push(o);return e.reverse(),function o(){for(;e.length;){var s=e.pop();if(s in t)return o.value=s,o.done=!1,o}return o.done=!0,o}},u.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=o)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function s(s,i){return n.type="throw",n.arg=t,e.next=s,i&&(e.method="next",e.arg=o),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],n=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),S(o),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var s=o.completion;if("throw"===s.type){var i=s.arg;S(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,s){return this.delegate={iterator:T(t),resultName:e,nextLoc:s},"next"===this.method&&(this.arg=o),_}}}function b(t,e,o,s){var i=e&&e.prototype instanceof w?e:w,r=Object.create(i.prototype),a=new P(s||[]);return r._invoke=function(t,e,o){var s=d;return function(i,r){if(s===h)throw new Error("Generator is already running");if(s===m){if("throw"===i)throw r;return R()}for(o.method=i,o.arg=r;;){var a=o.delegate;if(a){var n=j(a,o);if(n){if(n===_)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===d)throw s=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=h;var c=k(t,e,o);if("normal"===c.type){if(s=o.done?m:p,c.arg===_)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(s=m,o.method="throw",o.arg=c.arg)}}}(t,o,a),r}function k(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function C(){}function $(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){var e;this._invoke=function(o,s){function r(){return new Promise(function(e,r){!function e(o,s,r,a){var n=k(t[o],t,s);if("throw"!==n.type){var c=n.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):Promise.resolve(l).then(function(t){c.value=t,r(c)},a)}a(n.arg)}(o,s,e,r)})}return e=e?e.then(r,r):r()}}function j(t,e){var s=t.iterator[e.method];if(s===o){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=o,j(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=k(s,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,_;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=o),e.delegate=null,_):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,r=function e(){for(;++s<t.length;)if(i.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=o,e.done=!0,e};return r.next=r}}return{next:R}}function R(){return{value:o,done:!0}}}(function(){return this}()||Function("return this")())},SvXA:function(t,e){},VEZY:function(t,e){},VGiY:function(t,e){},XSdS:function(t,e){},Xxa5:function(t,e,o){t.exports=o("jyFz")},azwx:function(t,e){},exGp:function(t,e,o){"use strict";e.__esModule=!0;var s,i=o("//Fk"),r=(s=i)&&s.__esModule?s:{default:s};e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,o){return function s(i,a){try{var n=e[i](a),c=n.value}catch(t){return void o(t)}if(!n.done)return r.default.resolve(c).then(function(t){s("next",t)},function(t){s("throw",t)});t(c)}("next")})}}},iFrz:function(t,e){},jyFz:function(t,e,o){var s=function(){return this}()||Function("return this")(),i=s.regeneratorRuntime&&Object.getOwnPropertyNames(s).indexOf("regeneratorRuntime")>=0,r=i&&s.regeneratorRuntime;if(s.regeneratorRuntime=void 0,t.exports=o("SldL"),i)s.regeneratorRuntime=r;else try{delete s.regeneratorRuntime}catch(t){s.regeneratorRuntime=void 0}},l4jr:function(t,e){},lBpc:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("pnMy"),r=o("i8hT"),a=o("sIyc"),n=Object(s.a)({name:"microshop-previewshop",data:function(){return{items:[],goodslist:[],shopkeeper_id:null,mic_logo:null,mic_name:null,mic_introduce:null}},computed:{set:function(){return this.$store.state.microshop.set},microshop_logo:function(){var t=this.set;return t&&t.microshop_logo?t.microshop_logo:" "},microshop_name:function(){var t=this.set;return t&&t.microshop_name&&(document.title=t.microshop_name),t&&t.microshop_name?t.microshop_name:""},microshop_introduce:function(){var t=this.set;return t&&t.microshop_introduce?t.microshop_introduce:""},info:function(){return this.$store.state.microshop.info},shopkeeperid:function(){var t=this.info;return t&&t.uid?t.uid:""},headBg:function(){return this.set?{backgroundImage:"url("+this.set.shopRecruitment_logo+")"}:""}},mounted:function(){var t=this;if(this.$route.query.shopkeeper_id){this.shopkeeper_id=this.$route.query.shopkeeper_id;var e={shopkeeper_id:this.shopkeeper_id};Object(i.b)(e).then(function(e){t.mic_logo=e.data.microshop_logo,t.mic_name=e.data.microshop_name,t.mic_name&&(document.title=t.mic_name),t.mic_introduce=e.data.microshop_introduce,t.loadData(),t.$refs.load.success()}).catch(function(e){t.$refs.load.fail()})}else this.$store.dispatch("getMicroshopInfo").then(function(e){t.shopkeeper_id=t.shopkeeperid,t.loadData(),t.$refs.load.success()}).catch(function(e){t.$refs.load.fail()})},methods:{loadData:function(){var t=this,e={shopkeeper_id:this.shopkeeper_id};Object(i.j)(e).then(function(e){t.goodslist=e.data.goods_list}),Object(i.i)(e).then(function(e){t.items=e.data})},toList:function(t,e){this.$router.push({path:"/microshop/preview/list",query:{category_id:t,text:e,shopkeeper_id:this.shopkeeper_id}})},toGoodsList:function(){this.$router.push({path:"/microshop/preview/list",query:{shopkeeper_id:this.shopkeeper_id}})},toCategory:function(){this.$router.push({path:"/microshop/preview/category",query:{shopkeeper_id:this.shopkeeper_id}})}},components:{Divider:r.a,GoodsTab:a.a}}),c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-previewshop bg-f8"},[o("div",{staticClass:"preview-head",style:t.headBg},[o("div",{staticClass:"preview-info"},[o("van-row",[o("van-col",{staticClass:"fl-none"},[o("van-row",{attrs:{type:"flex"}},[o("van-col",{attrs:{span:"5"}},[o("div",{staticClass:"logo"},[o("img",{attrs:{src:t.shopkeeperid?t.microshop_logo:t.mic_logo,onerror:t.$ERRORPIC.noAvatar}})])]),t._v(" "),o("van-col",{attrs:{span:"18"}},[o("div",{staticClass:"name"},[o("div",{staticClass:"text"},[t._v("\n                  "+t._s(t.shopkeeperid?t.microshop_name:t.mic_name)+"\n                ")]),t._v(" "),o("div",{staticClass:"fans"},[t._v("\n                  "+t._s(t.shopkeeperid?t.microshop_introduce:t.mic_introduce)+"\n                ")])])])],1)],1)],1)],1)]),t._v(" "),o("div",{staticClass:"preview-nav"},[o("van-row",{attrs:{type:"flex",justify:"center"}},[o("van-col",{attrs:{span:"12"},nativeOn:{click:function(e){return t.toGoodsList(e)}}},[t._v("全部商品")]),t._v(" "),o("van-col",{attrs:{span:"12"},nativeOn:{click:function(e){return t.toCategory(e)}}},[t._v("商品分类")])],1)],1),t._v(" "),o("div",{staticClass:"vui-icon-group bg-fff"},t._l(t.items,function(e,s){return o("div",{key:s,staticClass:"vui-icon-col e-handle"},t._l(e.second_category,function(e,s){return o("div",{key:s},t._l(e.third_category,function(e,s){return o("div",{key:s,on:{click:function(o){t.toList(e.category_id,e.short_name?e.short_name:e.category_name)}}},[o("div",{staticClass:"icon"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.category_pic,expression:"third.category_pic"}],key:e.category_pic,attrs:{"pic-type":"square"}})]),t._v(" "),o("div",{staticClass:"text bg-fff"},[t._v("\n            "+t._s(e.short_name?e.short_name:e.category_name)+"\n          ")])])}))}))})),t._v(" "),o("Divider",{staticClass:"preview-divider",attrs:{title:"店铺精选"}},[o("div",{staticClass:"ofh bg-fff",attrs:{slot:"html"},slot:"html"},t._l(t.goodslist,function(e,s){return o("GoodsTab",{key:s,attrs:{id:e.goods_id,image:e.logo,name:e.goods_name,price:e.price,marketPrice:e.market_price,sales:e.sales,isShow:!1,link:"/goods/detail/"+e.goods_id+"?shopkeeper_id="+t.shopkeeper_id}})}))])],1)},staticRenderFns:[]};var l=o("VU/8")(n,c,!1,function(t){o("G4C0")},"data-v-1377f62a",null);e.default=l.exports},lpYy:function(t,e){},nY73:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("AC7v"),r=Object(s.a)({name:"microshop-qrcode",data:function(){return{imgUrl:"",showImgHtml:!1}},computed:{info:function(){return this.$store.state.microshop.info},shopkeeper_id:function(){var t=this.info;return t&&t.uid?t.uid:""},size:function(){return document.body.offsetWidth/2},shareUrl:function(){var t=this.$store.getters.extend_code,e=this.$store.state.domain+"/wap/microshop/previewshop?shopkeeper_id="+this.shopkeeper_id;return t&&(e=e+"&extend_code="+t),e}},mounted:function(){var t=this;1==this.$store.state.config.addons.microshop?this.$store.dispatch("getMicroshopInfo").then(function(){t.$store.state.microshop.info.isshopkeeper?t.loadData():(t.$refs.load.result(),t.$Toast("请先成为微店店主！"),t.$router.replace("/member/centre"))}).catch(function(e){e?t.$refs.load.fail():t.$refs.load.result()}):this.$refs.load.fail({errorText:"未开启微店应用",showFoot:!1})},methods:{loadData:function(){var t=this;this.$store.dispatch("getPosterImg",{poster_type:4}).then(function(e){t.imgUrl=e,t.showImgHtml=!1,t.$refs.load.success()}).catch(function(){t.showImgHtml=!0,t.$refs.load.success()})},onLoaded:function(){var t=this;this.$nextTick(function(){t.$store.dispatch("buildImg",t.$refs.imageWrapper.$el).then(function(e){t.imgUrl=e})})}},components:{PosterQr:i.a}}),a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"microshop-qrcode bg-f8"},[o("Navbar"),t._v(" "),o("van-cell-group",[o("Layout",{ref:"load",staticClass:"poster-wrp",style:{minHeight:2*t.size+"px"},attrs:{loadingText:"海报生成中"}},[t.imgUrl?o("div",[o("img",{attrs:{src:t.imgUrl}})]):t._e(),t._v(" "),!t.imgUrl&&t.showImgHtml?o("PosterQr",{ref:"imageWrapper",attrs:{"qr-url":t.shareUrl,loaded:t.onLoaded}}):t._e()],1),t._v(" "),o("van-cell",[o("div",{staticClass:"text-center fs-12 text-regular"},[t._v("(长按保存海报分享)")])])],1),t._v(" "),o("van-cell",{staticClass:"cell-group"},[o("div",[t._v("微店小提示：")]),t._v(" "),o("div",[o("p",[t._v("可以通过二维码或微店链接邀请朋友购买微店商品，成交后你将会获得相应比例的返利。")])])])],1)},staticRenderFns:[]};var n=o("VU/8")(r,a,!1,function(t){o("F5Y3")},"data-v-131330e3",null);e.default=n.exports},oPay:function(t,e){},oirI:function(t,e){},rGeo:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("pnMy"),r=Object(s.a)({name:"microshop-detail",data:function(){return{profit:0,total_money:0,withdrawals:0,apply_withdraw:0,freezing_profit:0}},computed:{isDisabled:function(){return this.profit<=0},btnText:function(){return this.profit<=0?"提现金额为0，不可提现":"提现"}},activated:function(){var t=this;Object(i.g)().then(function(e){var o=e.data;t.profit=parseFloat(o.profit),t.total_money=o.total_money,t.withdrawals=o.withdrawals,t.apply_withdraw=o.apply_withdraw,t.freezing_profit=o.freezing_profit,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})}}),a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-detail bg-f8"},[o("Navbar"),t._v(" "),o("van-cell-group",{staticClass:"cell-group card-group-box"},[o("van-cell",{staticClass:"cell"},[o("div",[t._v("可提现收益（元）")]),t._v(" "),o("van-row",{staticClass:"box",attrs:{type:"flex",justify:"space-between"}},[o("span",{staticClass:"text"},[t._v(t._s(t._f("yuan")(t.profit)))]),t._v(" "),o("van-button",{attrs:{size:"small"},on:{click:function(e){t.$router.push("/microshop/profit/log")}}},[t._v("查看明细")])],1)],1)],1),t._v(" "),o("van-cell-group",{staticClass:"cell-group card-group-box"},[o("van-cell",{staticClass:"text",attrs:{title:"累计收益",label:"累计获得收益",value:t._f("yuan")(t.total_money)}}),t._v(" "),o("van-cell",{staticClass:"text",attrs:{title:"已提现收益",label:"提现成功的收益",value:t._f("yuan")(t.withdrawals)}}),t._v(" "),o("van-cell",{staticClass:"text",attrs:{title:"冻结收益",label:"待发放的收益",value:t._f("yuan")(t.freezing_profit)}}),t._v(" "),o("van-cell",{staticClass:"text",attrs:{title:"提现中",label:"提现中的收益",value:t._f("yuan")(t.apply_withdraw)}})],1),t._v(" "),o("div",{staticClass:"foot-btn-group"},[o("van-button",{attrs:{size:"normal",block:"",round:"",type:"danger",disabled:t.isDisabled},on:{click:function(e){t.$router.push("/microshop/profit/withdraw")}}},[t._v(t._s(t.btnText))])],1)],1)},staticRenderFns:[]};var n=o("VU/8")(r,a,!1,function(t){o("VGiY")},"data-v-311c5bfd",null);e.default=n.exports},rcLw:function(t,e){},rp3U:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("VKKs"),r=o("pnMy"),a=Object(s.a)({name:"microshop-info",data:function(){return{mic_name:null,mic_introduce:null}},computed:{microshop_name:function(){return Object(i.c)("set").microshop_name?Object(i.c)("set").microshop_name:""},microshop_introduce:function(){return Object(i.c)("set").microshop_introduce?Object(i.c)("set").microshop_introduce:""},microshop_logo:function(){return Object(i.c)("set").microshop_logo?Object(i.c)("set").microshop_logo:""},shopRecruitment_logo:function(){return Object(i.c)("set").shopRecruitment_logo?Object(i.c)("set").shopRecruitment_logo:""}},mounted:function(){this.mic_name=this.microshop_name,this.mic_introduce=this.microshop_introduce,this.$refs.load.success()},methods:{onSave:function(){var t=this,e={microshop_logo:t.microshop_logo,shopRecruitment_logo:t.shopRecruitment_logo,microshop_name:t.mic_name,microshop_introduce:t.mic_introduce};Object(r.o)(e).then(function(e){t.$store.dispatch("getMicroshopInfo").then(),t.$router.go(-1)}).catch(function(){t.$refs.load.fail()})}}}),n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-info bg-f8"},[o("Navbar",{attrs:{isMenu:!1}}),t._v(" "),o("van-cell-group",[o("van-field",{attrs:{label:"微店名称",placeholder:"微店名称"},model:{value:t.mic_name,callback:function(e){t.mic_name=e},expression:"mic_name"}}),t._v(" "),o("van-field",{attrs:{label:"微店介绍",type:"textarea",placeholder:"请输入微店介绍"},model:{value:t.mic_introduce,callback:function(e){t.mic_introduce=e},expression:"mic_introduce"}})],1),t._v(" "),o("div",{staticClass:"foot-btn-group"},[o("van-button",{attrs:{size:"normal",type:"danger",round:"",block:""},on:{click:t.onSave}},[t._v("保存")])],1)],1)},staticRenderFns:[]};var c=o("VU/8")(a,n,!1,function(t){o("HEjM")},"data-v-3456cb70",null);e.default=c.exports},s2ft:function(t,e){},sIyc:function(t,e,o){"use strict";var s=o("okIt"),i=o("pnMy"),r={data:function(){return{selected:1,selectDisabled:!1,delDisabled:!1}},props:{id:[String,Number],image:String,name:String,price:[String,Number],marketPrice:[String,Number],sales:[String,Number],salesText:{type:String,default:"销量"},isShow:{type:Boolean,default:!0},selectedgoods:[String,Number],link:String},watch:{selected:function(t){return this.id}},mounted:function(){this.selectedgoods?this.selected=this.selectedgoods:this.selected=0},methods:{selectGoods:function(t){var e=this;this.selectDisabled=!0,Object(i.m)(t).then(function(t){e.selected=1,e.selectDisabled=!1}).catch(function(t){e.$Toast.fail(res.message)})},delGoods:function(t){var e=this;this.delDisabled=!0,Object(i.c)(t).then(function(t){e.selected=0,e.delDisabled=!1}).catch(function(t){e.$Toast.fail(res.message)})}},components:{GoodsBox:s.a}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("GoodsBox",{attrs:{image:t.image,name:t.name,price:t.price,marketPrice:t.marketPrice,sales:t.sales,link:t.link}},[o("div",{staticClass:"bottom-group",attrs:{slot:"bottom"},slot:"bottom"},[o("div",{staticClass:"sales-volume"},[o("span",[o("small",[t._v(t._s(t.salesText)+" "+t._s(t.sales))])])]),t._v(" "),t.isShow?o("div",[0==t.selected?o("van-button",{staticClass:"btn select",attrs:{size:"mini",type:"danger",disabled:t.selectDisabled},on:{click:function(e){t.selectGoods(t.id)}}},[t._v("挑选")]):o("van-button",{staticClass:"btn del",attrs:{size:"mini",type:"danger",plain:"",disabled:t.delDisabled},on:{click:function(e){t.delGoods(t.id)}}},[t._v("取消")])],1):t._e()])])},staticRenderFns:[]};var n=o("VU/8")(r,a,!1,function(t){o("VEZY")},"data-v-2c2f3fd6",null);e.a=n.exports},"sh+4":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("pnMy"),r=o("WyhY"),a=o("r4M4"),n=Object(s.a)({name:"microshop--choosecategory",data:function(){return{activeKey:0,items:[]}},computed:{content:function(){return this.items[this.activeKey]?this.items[this.activeKey].second_category:[]}},mounted:function(){var t=this;Object(i.d)().then(function(e){var o=e.data;t.items=o,t.$refs.load.success()}).catch(function(){t.$refs.load.fail()})},methods:{toList:function(t,e){this.$router.push({path:"/microshop/choosegoods/list",query:{category_id:t,text:e}})}},components:{HeadSearch:r.a,CategoryView:a.a}}),c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-category"},[o("HeadSearch",{attrs:{showLeft:"","search-type":"microshopchoose"}}),t._v(" "),o("CategoryView",{attrs:{top:"46"}},[o("div",{staticClass:"nav",attrs:{slot:"nav"},slot:"nav"},t._l(t.items,function(e,s){return o("div",{key:s,staticClass:"item",class:t.activeKey==s?"active":"",on:{click:function(e){t.activeKey=s}}},[o("span",{staticClass:"nav-item-text"},[t._v(t._s(e.short_name||e.category_name))])])})),t._v(" "),o("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},t._l(t.content,function(e,s){return o("div",{key:s,staticClass:"item"},[o("div",{staticClass:"item-head"},[o("span",{staticClass:"e-handle",on:{click:function(o){t.toList(e.category_id,e.short_name||e.category_name)}}},[t._v(t._s(e.short_name||e.category_name))])]),t._v(" "),o("div",{staticClass:"item-main"},t._l(e.third_category,function(e,s){return o("div",{key:s,staticClass:"item-child"},[o("div",{staticClass:"item-box e-handle",on:{click:function(o){t.toList(e.category_id,e.short_name||e.category_name)}}},[o("div",{staticClass:"iamges"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.category_pic,expression:"child.category_pic"}],key:e.category_pic,attrs:{"pic-type":"square"}})]),t._v(" "),o("div",{staticClass:"name"},[t._v(t._s(e.short_name||e.category_name))])])])}))])}))])],1)},staticRenderFns:[]};var l=o("VU/8")(n,c,!1,function(t){o("lpYy")},"data-v-19409812",null);e.default=l.exports},um82:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("eKM9"),i=o("Xxa5"),r=o.n(i),a=o("exGp"),n=o.n(a),c=o("qsHl"),l={props:{info:Object,pageType:{type:[String,Number],required:!0}},computed:{message:function(){return 2==this.pageType?"购买下面任意礼包即可成为店主":"购买商品晋升相应等级"}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"head"},[o("img",{staticClass:"bg",attrs:{src:t.$BASEIMGPATH+"microshop-head-bg.png"}}),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"img"},[o("img",{attrs:{src:t._f("BASESRC")(t.info.user_headimg),onerror:t.$ERRORPIC.noAvatar}})]),t._v(" "),o("div",{staticClass:"text"},[o("div",{staticClass:"name"},[t._v("亲爱的"+t._s(t.info.member_name))]),t._v(" "),o("div",{staticClass:"message"},[t._v(t._s(t.message))])])])])},staticRenderFns:[]};var d=o("VU/8")(l,u,!1,function(t){o("Gh+Z")},"data-v-d6c0042e",null).exports,p={props:{items:Array}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",[o("van-cell",{attrs:{"value-class":"list"}},t._l(t.items,function(e,s){return o("div",{key:s,staticClass:"item",on:{click:function(o){t.$emit("click",e.goods_id,s)}}},[o("div",{staticClass:"img"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic||e.goods_images[0],expression:"item.pic || item.goods_images[0]"}],attrs:{src:e.pic||e.goods_images[0]}})]),t._v(" "),o("div",{staticClass:"name text-nowrap"},[t._v(t._s(e.goods_name))])])}))],1)},staticRenderFns:[]};var m,_=o("VU/8")(p,h,!1,function(t){o("35hA")},"data-v-9c62d314",null).exports,f=o("bOdI"),v=o.n(f),g=(o("zP7x"),o("rD0v")),y=(o("3AsM"),o("7ZPY")),b=o("mvHQ"),k=o.n(b),w=o("cgSz"),x=(o("oFuF"),o("BuIE")),C=o("msXN"),$={data:function(){return{showSku:!1,goodsInfo:{},skuSelectedText:null}},props:{goods_detail:Object,orderType:{type:[String,Number],required:!0}},mixins:[C.a],computed:{maxHeight:function(){return{maxHeight:document.body.offsetWidth+"px"}},goodsData:function(){var t=this.goods_detail.goods_id?this.goods_detail:null;return t&&(t.goods_image=this.goods_detail.goods_images[0],t.is_allow_buy=!0),t}},methods:{getGoodsInfo:function(t){this.goodsInfo=t,t.isSpec?this.skuSelectedText=t.selectedSkuComb?t.selectedSkuComb.sku_name:"请选择规格":this.skuSelectedText="已选："+t.selectedNum+"件"},onSkuAction:function(t,e){this.onBuyNow(e)},onSku:function(t){this.showSku=!0},onBuyNow:function(t){var e=this;e.bindMobile().then(function(){var o={sku_list:[]};o.order_type=e.orderType;var s={};s.num=t.selectedNum,s.sku_id=t.selectedSkuComb.id,o.sku_list.push(s),e.$router.push({name:"microshop-confirmorder",query:{params:Object(x.b)(k()(o))}})})}},components:(m={},v()(m,y.a.name,y.a),v()(m,g.a.name,g.a),v()(m,"SkuPopup",w.a),m)},O={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-cell-group",[o("van-swipe",{staticClass:"swipe",style:t.maxHeight,attrs:{autoplay:3e3}},t._l(t.goods_detail.goods_images,function(e,s){return o("van-swipe-item",{key:s},[o("img",{style:t.maxHeight,attrs:{src:e,onerror:t.$ERRORPIC.noGoods}})])})),t._v(" "),o("van-cell",[o("div",{staticClass:"title"},[t._v(t._s(t.goods_detail.goods_name))]),t._v(" "),o("div",{staticClass:"price"},[o("span",[t._v(t._s(t._f("yuan")(t.goodsInfo.goodsPrice)))]),t._v(" "),o("span",{staticClass:"stock"},[t._v("库存"+t._s(t.goodsInfo.stock)+"件")])])]),t._v(" "),o("van-cell",{attrs:{title:t.skuSelectedText,"is-link":""},on:{click:t.onSku}}),t._v(" "),o("SkuPopup",{attrs:{info:t.goodsData,action:"buy","promote-params":{},"get-goods-info":t.getGoodsInfo},on:{action:t.onSkuAction},model:{value:t.showSku,callback:function(e){t.showSku=e},expression:"showSku"}})],1)},staticRenderFns:[]};var j=o("VU/8")($,O,!1,function(t){o("BN22")},"data-v-3cc8ddf6",null).exports,L=o("i8hT"),S={data:function(){return{cols:[{icon:"shop-o",text:"专属微店"},{icon:"cash-back-record",text:"自购返利"},{icon:"after-sale",text:"销售返利"},{icon:"replay",text:"开店返利"}]}},components:{Divider:L.a}},P={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Divider",{attrs:{title:"店主权益"}},[o("van-cell-group",{attrs:{slot:"html",border:!1},slot:"html"},[o("van-cell",{staticClass:"cell-cols",attrs:{"value-class":"cols"}},t._l(t.cols,function(e,s){return o("div",{key:s,staticClass:"item"},[o("div",{staticClass:"img"},[o("van-icon",{attrs:{name:e.icon,size:"26px"}})],1),t._v(" "),o("span",{staticClass:"text"},[t._v(t._s(e.text))])])})),t._v(" "),o("van-cell",{attrs:{"value-class":"fs-12 text-maintone"}},[o("div",[t._v("购买以上任意礼包即可成为店主。成为店主后能享受权益如下：")]),t._v(" "),o("div",[t._v("1、拥有自己的专属微店。")]),t._v(" "),o("div",[t._v("2、店主在平台消费即可获得相对应的返利。")]),t._v(" "),o("div",[t._v("3、分享自己微店给朋友，销售后获得返利。")]),t._v(" "),o("div",[t._v("4、下级"+t._s(t.$store.state.member.commissionSetText.distributor_name)+"成为店主获得返利。")]),t._v(" "),o("div",[t._v("5、下级销售产品后，亦可获得返利最大三级。")])])],1)],1)},staticRenderFns:[]};var T=o("VU/8")(S,P,!1,function(t){o("rcLw")},"data-v-2b94b2ce",null).exports,R={data:function(){return{}},props:{descript:String},components:{Divider:L.a}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Divider",{attrs:{title:"商品描述"}},[e("div",{attrs:{slot:"html"},slot:"html"},[this.descript?e("div",{staticClass:"richtext",domProps:{innerHTML:this._s(this.descript)}}):e("div",{staticClass:"empty"},[this._v("暂无详情")])])])},staticRenderFns:[]};var I=o("VU/8")(R,F,!1,function(t){o("SvXA")},"data-v-998907a2",null).exports,E=o("pnMy"),M={data:function(){return{goods_detail:{},gradeInfo:{},active:0,goodslist:[],goodsParams:{goods_id:null,mic_goods:1},gradeGoods:[],gradeFlag:!0}},props:{pageType:{type:[String,Number],required:!0},info:Object,goods:Array},watch:{pageType:function(t){this.tp=this.pageType,this.orderType=this.pageType}},computed:{btnText:function(){var t="";return 2==this.pageType?t="立即开店":3==this.pageType?t="立即续费":4==this.pageType&&(t="立即升级"),t}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,e=[];3==this.pageType?Object(E.l)().then(function(o){var s=o.data;t.gradeInfo=s,e=t.gradeInfo.goods_id,t.getGoodsInfo(e)}):4==this.pageType?Object(E.p)().then(function(o){var s=o.data;if(0==s.length)return t.$Toast("您当前已是最高等级"),t.$router.replace({name:"microshop-gradecentre"}),!1;t.gradeInfo=s,e=t.gradeInfo[0].goods_id,t.getGoodsInfo(e)}):(this.goods.forEach(function(t){e.push(t.goods_id)}),this.getGoodsInfo(e))},getGoodsInfo:function(t){var e=this;return n()(r.a.mark(function o(){var s,i,a;return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s=null,e.goodslist=[],e,i=0;case 4:if(!(i<t.length)){o.next=21;break}return s=t[i],e.goodsParams.goods_id=s,o.prev=7,o.next=10,Object(c.g)(e.goodsParams);case 10:a=o.sent,e.goodslist.push(a.data.goods_detail),e.$Toast.clear(),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(7),console.log(o.t0);case 18:i++,o.next=4;break;case 21:e.goods_detail=e.goodslist[0]||{},e.goodsParams.goods_id=null,e.gradeFlag=!0;case 24:case"end":return o.stop()}},o,e,[[7,15]])}))()},onGoods:function(t,e){if(this.goodsParams.goods_id===t)return!1;this.goodsParams.goods_id=t,this.goods_detail=this.goodslist[e]},onSubmit:function(){this.$refs.childgoodsinfo.onSku("buy")},getItem:function(t){if(this.active===t)return!1;if(this.gradeFlag){this.gradeFlag=!1,this.active=t;var e=this.gradeInfo[t].goods_id;this.getGoodsInfo(e)}}},components:{PostHeader:d,PostGoodsGroup:_,PostGoodsInfo:j,PostBenefit:T,PostGoodsDescript:I}},G={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[o("PostHeader",{attrs:{info:t.info,pageType:t.pageType}}),t._v(" "),3==t.pageType?o("van-cell",{staticClass:"cell-panel",attrs:{title:"等级"}},[o("span",{staticClass:"tag active"},[t._v(t._s(t.gradeInfo.level_name))])]):4==t.pageType?o("van-cell",{staticClass:"cell-panel",attrs:{title:"等级"}},t._l(t.gradeInfo,function(e,s){return o("span",{key:s,class:t.active==s?"tag active":"tag",on:{click:function(e){t.getItem(s)}}},[t._v(t._s(e.level_name))])})):t._e(),t._v(" "),o("PostGoodsGroup",{staticClass:"cell-group",attrs:{items:t.goodslist},on:{click:t.onGoods}}),t._v(" "),o("PostGoodsInfo",{ref:"childgoodsinfo",staticClass:"cell-group",attrs:{goods_detail:t.goods_detail,orderType:t.pageType}}),t._v(" "),o("PostBenefit",{staticClass:"cell-group"}),t._v(" "),o("PostGoodsDescript",{staticClass:"cell-group",attrs:{descript:t.goods_detail.description}}),t._v(" "),o("div",{staticClass:"foot-btn"},[o("van-button",{attrs:{type:"danger",round:"",block:""},on:{click:t.onSubmit}},[o("div",{staticClass:"btn-flex-column"},[o("div",[t._v(t._s(t.btnText))]),t._v(" "),o("div",{staticClass:"goods-name"},[t._v('\n          已选择："\n          '),o("span",{staticClass:"text-nowrap"},[t._v(t._s(t.goods_detail.goods_name))]),t._v('"\n        ')])])])],1)],1)},staticRenderFns:[]};var q=o("VU/8")(M,G,!1,function(t){o("96yC")},"data-v-2bfbe9ba",null).exports,A=o("MdZR"),N=o("XveE"),D={data:function(){return{}},props:{shopkeeperInfo:Object,incomelist:Object},computed:{usuallyCardItems:function(){var t=[{text:"微店管理",icon:"v-icon-manage",link:"/microshop/set"},{text:"挑选商品",icon:"v-icon-take",link:"/microshop/choosegoods/category"},{text:"预览微店",icon:"v-icon-stock",link:"/microshop/previewshop"},{text:"分享微店",icon:"v-icon-Forward",link:"/microshop/qrcode"}];return this.$store.state.config.addons.credential&&t.push({text:"授权证书",icon:"v-icon-guarantee",link:"/microshop/certificate"}),t},cellPanelItems:function(){var t=this.incomelist;return[{title:"可提现",text:t.profit?t.profit:0},{title:"成功提现",text:t.withdrawals?t.withdrawals:0},{title:"累计收益",text:t.total_profit?t.total_profit:0}]},withdrawBtn:function(){return!this.incomelist.profit}},methods:{toGrade:function(){this.$router.push({name:"microshop-gradecentre"})}},components:{CellPanelGroup:N.a,CellCardGroup:A.a}},U={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[o("div",{staticClass:"head"},[o("div",{staticClass:"info"},[o("div",{staticClass:"img"},[o("img",{attrs:{src:t.shopkeeperInfo.user_headimg}})]),t._v(" "),o("div",{staticClass:"text"},[o("div",[t._v(t._s(t.shopkeeperInfo.member_name))]),t._v(" "),o("div",[t._v("等级："+t._s(t.shopkeeperInfo.shopkeeper_level_name))]),t._v(" "),o("div",[t._v("加入时间："+t._s(t.shopkeeperInfo.become_shopkeeper_time))])])])]),t._v(" "),o("van-cell",{attrs:{title:"等级中心","is-link":"",value:"无期限"==t.shopkeeperInfo.shopkeeper_level_time?t.shopkeeperInfo.shopkeeper_level_time:t.shopkeeperInfo.shopkeeper_level_time+"到期"},on:{click:t.toGrade}}),t._v(" "),o("CellPanelGroup",{attrs:{title:"微店收益",items:t.cellPanelItems}},[o("van-row",{staticClass:"btn-group",attrs:{slot:"headRight",type:"flex",justify:"end"},slot:"headRight"},[o("van-button",{staticClass:"btn",attrs:{size:"mini",type:"danger",disabled:t.withdrawBtn},on:{click:function(e){t.$router.push("/microshop/profit/withdraw")}}},[t._v("提现")]),t._v(" "),o("van-button",{staticClass:"btn",attrs:{size:"mini",type:"danger"},on:{click:function(e){t.$router.push("/microshop/profit/detail")}}},[t._v("详情")])],1)],1),t._v(" "),o("CellCardGroup",{attrs:{title:"常用",items:t.usuallyCardItems,cols:"4"},on:{click:function(e){var o=e.link;return t.$router.push(o)}}})],1)},staticRenderFns:[]};var V=o("VU/8")(D,U,!1,function(t){o("iFrz")},"data-v-224872f4",null).exports,z=Object(s.a)({name:"microshop-centre",data:function(){return{info:{},goodsArr:[],incomelist:{}}},mounted:function(){this.$store.state.config.addons.microshop?this.loadData():this.$refs.load.fail({errorText:"未开启微店应用",showFoot:!1})},computed:{navbarTitle:function(){var t="";return(t=this.info.isshopkeeper?"我的微店":"微店中心")&&(document.title=t),t},order_type:function(){var t=this.$route.query.order_type;if(t&&t>2)return t}},methods:{loadData:function(){var t=this;t.$store.dispatch("getMicroshopInfo").then(function(e){t.info=t.$store.state.microshop.info,2==t.info.isdistributor||"1"==t.info.microshop_set.shopKeeper_check?(t.goodsArr=e.microshop_set.goods_info||[],t.incomelist={profit:e.profit,withdrawals:e.withdrawals,total_profit:e.total_profit},t.$refs.load.success()):t.$router.push({name:"commission-apply"})}).catch(function(){t.$refs.load.fail()})}},components:{ApplyPost:q,Mine:V}}),B={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{ref:"load",staticClass:"microshop-centre bg-f8"},[o("Navbar",{attrs:{title:t.navbarTitle}}),t._v(" "),t.order_type?o("div",[t.order_type&&t.info.isshopkeeper?o("ApplyPost",{attrs:{"page-type":t.order_type,info:t.info,goods:t.goodsArr}}):t._e()],1):o("div",[t.info.isshopkeeper?o("Mine",{attrs:{shopkeeperInfo:t.info,incomelist:t.incomelist}}):o("ApplyPost",{attrs:{"page-type":"2",info:t.info,goods:t.goodsArr}})],1)],1)},staticRenderFns:[]},K=o("VU/8")(z,B,!1,null,null,null);e.default=K.exports},x2hS:function(t,e){}});