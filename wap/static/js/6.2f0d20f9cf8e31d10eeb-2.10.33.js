webpackJsonp([6],{"+u2U":function(t,i,e){"use strict";var s=e("inzt"),n=e("VKKs"),a=(e("oFuF"),e("R5/C")),o={data:function(){return{btn_on:"btn-gray",isShare:!1}},props:{head_info:[Object,Array]},computed:{uid:function(){var t=null;return this.$store.state.member.info&&(t=this.$store.state.member.info.uid),t}},mounted:function(){},methods:{goBack:function(){this.$router.back()},sensitiveOthers:function(){var t=this;t.isLoign();var i={thing_auid:t.head_info.user_id};Object(s.n)(i).then(function(i){1==i.code&&("关注成功"==i.message?t.head_info.is_attention=1:t.head_info.is_attention=0)})},isLoign:function(){if(this.$store.getters.token)return!1;Object(n.i)("toPath",this.$router.currentRoute.fullPath),this.$router.replace({name:"login"})},toShare:function(){this.$store.state.isWeixin?this.isShare=!0:this.$Toast("请点击下方工具栏“分享”按钮进行分享")},closeShare:function(){this.isShare=!1}},components:{PopupShare:a.a}},c={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"head-nav"},[e("div",{staticClass:"head-nav-fixed"},[e("div",{staticClass:"head-nav__left",on:{click:function(i){t.goBack()}}},[e("van-icon",{attrs:{name:"arrow-left",size:"16px"}})],1),t._v(" "),e("div",{staticClass:"head-info"},[e("img",{staticClass:"img",attrs:{src:t.head_info.user_headimg?t.head_info.user_headimg:t.$ERRORPIC.noAvatar,onerror:t.$ERRORPIC.noAvatar}}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(t.head_info.thing_user_name?t.head_info.thing_user_name:"匿名"))])]),t._v(" "),e("div",{staticClass:"head-nav__right"},[t.uid!=t.head_info.user_id?e("van-button",{class:t.head_info.is_attention?t.btn_on:"",attrs:{plain:"",round:"",size:"small",type:"danger"},on:{click:t.sensitiveOthers}},[t._v(t._s(t.head_info.is_attention?"已关注":"关注"))]):t._e(),t._v(" "),e("van-icon",{attrs:{name:"share",size:"20px"},on:{click:function(i){t.toShare()}}})],1)])]),t._v(" "),e("PopupShare",{attrs:{isShow:t.isShare},nativeOn:{click:function(i){return t.closeShare(i)}}})],1)},staticRenderFns:[]};var r=e("VU/8")(o,c,!1,function(t){e("sT0k")},"data-v-c553f536",null);i.a=r.exports},"/3eM":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("bOdI"),n=e.n(s),a=(e("zP7x"),e("rD0v")),o=(e("3AsM"),e("7ZPY")),c={data:function(){return{}},props:{goods_list:[Object,Array]},computed:{},methods:{toGoodsDetail:function(t){this.$router.push({name:"goods-detail",params:{goodsid:t}})}}},r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.goods_list?e("div",{staticClass:"goods-box"},t._l(t.goods_list,function(i,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){t.toGoodsDetail(i.goods_id)}}},[e("img",{staticClass:"img",attrs:{src:i.goods_img?i.goods_img:t.$ERRORPIC.noGoods,onerror:t.$ERRORPIC.noGoods}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(t._s(i.goods_name))]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",[t._v("￥"+t._s(i.price))]),t._v(" "),e("span",[t._v("￥"+t._s(i.market_price))])])])])})):t._e()},staticRenderFns:[]};var l=e("VU/8")(c,r,!1,function(t){e("936P")},"data-v-58e02b52",null).exports,d={data:function(){return{}},props:{theme:[Object]}},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.theme?e("div",{staticClass:"theme-wrap"},[t.theme.title?e("h2",{staticClass:"title"},[t._v(t._s(t.theme.title))]):t._e(),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(t.theme.content))]),t._v(" "),e("div",{staticClass:"tag"},[t.theme.topic_title?e("div",[e("span",{staticClass:"bol"},[t._v("#")]),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.theme.topic_title))])]):t._e(),t._v(" "),t.theme.location?e("div",{staticClass:"sec"},[e("van-icon",{attrs:{name:"location",size:"12px"}}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.theme.location))])],1):t._e()]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",[t._v(t._s(t._f("formatDate")(t.theme.create_time,"s")))]),t._v(" "),e("div",[t._v("阅读 "+t._s(t.theme.reading_volumes?t.theme.reading_volumes:0))])])]):t._e()},staticRenderFns:[]};var h=e("VU/8")(d,u,!1,function(t){e("WHxT")},"data-v-388b8400",null).exports,_=e("inzt"),m={data:function(){return{message:"",items:[],color:{yes:"cr-ff454e",no:"cr-999"},placeholder:"说点什么...",flag:!0,is_show:!1}},props:{editorial:[Object]},watch:{is_show:function(t){if(0==t){this.placeholder="说点什么...",this.message="",this.editorial.to_uid&&delete this.editorial.to_uid,this.editorial.comment_pid&&delete this.editorial.comment_pid,this.editorial.people&&delete this.editorial.people,this.editorial.hash&&delete this.editorial.hash}}},methods:{addComment:function(){var t=this,i={thing_id:t.editorial.thing_id,topic_id:t.editorial.topic_id?t.editorial.topic_id:"",content:t.message},e={thing_id:t.editorial.thing_id,topic_id:t.editorial.topic_id?t.editorial.topic_id:"",content:t.message,to_uid:t.editorial.to_uid,comment_pid:t.editorial.comment_pid};if(!t.message.replace(/\s*/g,""))return t.$Toast("没有什么想说的吗"),!1;if("#childComment"==t.editorial.hash||"#parentComment"==t.editorial.hash){if(0==t.flag)return!1;t.flag=!1,Object(_.A)(e).then(function(i){i.data;t.$Toast("发布成功"),t.message="",t.is_show=!1,t.editorial.hash="",t.placeholder="说点什么...",t.$emit("clickActive"),t.flag=!0})}else{if(0==t.flag)return!1;t.flag=!1,Object(_.b)(i).then(function(i){i.data;t.$Toast("发布成功"),t.message="",t.is_show=!1,t.placeholder="说点什么...",t.$emit("clickActive"),t.flag=!0})}},onFabulous:function(){var t=this,i={thing_id:t.editorial.thing_id};Object(_.p)(i).then(function(i){1==i.code&&("取消点赞成功"==i.message?t.editorial.is_like=0:t.editorial.is_like=1,t.editorial.likes=i.count)})},onCollection:function(){var t=this,i={thing_id:t.editorial.thing_id};Object(_.l)(i).then(function(i){1==i.code&&("取消收藏成功"==i.message?t.editorial.is_collect=0:t.editorial.is_collect=1,t.editorial.collects=i.count)})},onAnswer:function(){this.placeholder=this.editorial.hash?"回复"+this.editorial.people+":":"说点什么..."},onPopMessage:function(){var t=this;t.is_show=!0,setTimeout(function(){t.$refs.inputMessage.focus()},100)},onChat:function(){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;var t=document.documentElement.scrollHeight;document.documentElement.scrollTop=t/2-160}}},p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"wrap"},[e("div",{staticClass:"bom-fixed"},[e("div",{staticClass:"prt"},[e("div",{staticClass:"text-input",on:{click:t.onPopMessage}},[e("van-icon",{attrs:{name:"edit",size:"14px"}}),t._v(" "),e("span",[t._v("说点什么...")])],1),t._v(" "),e("div",{staticClass:"icon-w"},[e("van-icon",{class:t.editorial.is_like?t.color.yes:t.color.no,attrs:{name:t.editorial.is_like?"like":"like-o",size:"20px"},on:{click:function(i){t.onFabulous()}}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(t.editorial.likes)))])],1),t._v(" "),e("div",{staticClass:"icon-w"},[e("van-icon",{class:t.editorial.is_collect?t.color.yes:t.color.no,attrs:{name:t.editorial.is_collect?"star":"star-o",size:"20px"},on:{click:function(i){t.onCollection()}}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(t.editorial.collects)))])],1),t._v(" "),e("div",{staticClass:"icon-w",on:{click:t.onChat}},[e("van-icon",{class:t.color.no,attrs:{name:"chat-o",size:"20px"}}),t._v(" "),e("span")],1)])])]),t._v(" "),e("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.is_show,callback:function(i){t.is_show=i},expression:"is_show"}},[e("div",{staticClass:"msg-input"},[e("van-field",{ref:"inputMessage",attrs:{type:"text",placeholder:t.placeholder,maxlength:"200"},on:{focus:t.onAnswer},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}}),t._v(" "),e("div",{staticClass:"btn-s",on:{click:t.addComment}},[t._v("发送")])],1)])],1)},staticRenderFns:[]};var v,f=e("VU/8")(m,p,!1,function(t){e("yqKL")},"data-v-3fbe72f7",null).exports,g=e("zu9a"),b=e("+u2U"),C=(e("oFuF"),e("BuIE")),k=e("eKM9"),x=Object(k.a)({name:"thingcircle-grapdetail",data:function(){return{bannerImg:[],goods_list:[],editorial:{},reply:[],comment_list:[],user_id:"",detail:{},is_send:!0}},computed:{maxHeight:function(){return{maxHeight:document.body.offsetWidth+"px"}},thing_id:function(){return this.$route.params.thingid},uid:function(){var t=null;return this.$store.state.member.info&&(t=this.$store.state.member.info.uid),t}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,i={thing_id:t.thing_id};t.$route.query.uid&&(i.uid=t.$route.query.uid),Object(_.m)(i).then(function(i){var e=i.data;t.bannerImg=e.img_temp_array,t.goods_list=e.recommend_goods_list?e.recommend_goods_list:[],t.editorial={thing_id:e.id,topic_id:e.topic_id,likes:e.likes,collects:e.collects,is_like:e.is_like,is_collect:e.is_collect},t.user_id=e.user_id,t.detail={title:e.title,content:e.content,create_time:e.create_time,location:e.location,reading_volumes:e.reading_volumes,topic_title:e.topic_title,user_headimg:e.user_headimg,thing_user_name:e.thing_user_name,user_id:e.user_id,is_attention:e.is_attention,id:e.id},t.getShareInfo()})},onAnswer:function(t){this.editorial.to_uid=t.to_uid,this.editorial.comment_pid=t.comment_pid,this.editorial.people=t.people,this.editorial.hash=t.hash,this.$refs.btmAction.onPopMessage()},clickActive:function(){this.$refs.commmet.loadList("init")},getShareInfo:function(){var t=this,i=encodeURIComponent(Object(C.b)(t.uid)),e={thing_id:t.thing_id};Object(_.j)(e).then(function(e){var s=e.data;t.onShare({title:s.thing_title?s.thing_title:"好物圈",desc:s.thing_describe?s.thing_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:s.thing_pic,link:t.$store.state.domain+"/wap"+t.$route.path+"?uid="+i})})}},components:(v={HeadNavbar:b.a,GoodsCard:l,ThemeContent:h,CellComment:g.a,BottomAction:f},n()(v,o.a.name,o.a),n()(v,a.a.name,a.a),v)}),y={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcircle-detail"},[e("HeadNavbar",{attrs:{head_info:t.detail}}),t._v(" "),e("div",{staticClass:"swipe-box",style:t.maxHeight},[t.bannerImg.length>0?e("van-swipe",{staticClass:"swipe",style:t.maxHeight,attrs:{autoplay:3e3}},t._l(t.bannerImg,function(i,s){return e("van-swipe-item",{key:s},[e("img",{attrs:{src:i.pic_cover,onerror:t.$ERRORPIC.noGoods}})])})):e("img",{attrs:{src:"",onerror:t.$ERRORPIC.noGoods}})],1),t._v(" "),e("GoodsCard",{attrs:{goods_list:t.goods_list}}),t._v(" "),e("ThemeContent",{attrs:{theme:t.detail}}),t._v(" "),e("CellComment",{ref:"commmet",attrs:{user_id:t.user_id},on:{"click-answer":t.onAnswer}}),t._v(" "),e("BottomAction",{ref:"btmAction",attrs:{editorial:t.editorial},on:{clickActive:t.clickActive}})],1)},staticRenderFns:[]};var $=e("VU/8")(x,y,!1,function(t){e("tMF7")},"data-v-09e581db",null);i.default=$.exports},"2jIm":function(t,i){},"3B42":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("J68u"),n=e("ADxc"),a=e("bOdI"),o=e.n(a),c=(e("FO5P"),e("woHG")),r=e("inzt"),l={data:function(){return{showList:!1,goods_list:[],title:"推荐商品",text:"推荐购买过的商品",color:{yes:"cr-ff454e",no:"cr-323233"},is_code:0}},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this;Object(r.i)().then(function(i){0==i.code?t.is_code=0:1==i.code?(t.goods_list=i.data,t.is_code=1):2==i.code&&(t.is_code=2)})},toggle:function(t,i){this.$refs.checkboxes[t].toggle()},onRecommend:function(){for(var t=[],i=0;i<this.goods_list.length;i++)1==this.goods_list[i].checked&&t.push(this.goods_list[i].goods_id);this.text=t.length>0?"":"推荐购买过的商品",this.title=t.length>0?"已选中"+t.length+"件商品":"推荐商品",this.showList=!1,this.$emit("arr-goodsId",t.join())},onGoods:function(){1==this.is_code?this.showList=!0:2==this.is_code&&this.$Toast("没有推荐商品")}},components:o()({},c.a.name,c.a)},d={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.is_code?e("van-cell",{attrs:{title:t.title,"title-class":"推荐商品"!=t.title?t.color.yes:t.color.no,value:t.text,"is-link":""},on:{click:t.onGoods}},[e("van-icon",{staticClass:"cell-left-icon",style:{backgroundColor:"推荐商品"!=t.title?"#6790db":"#cccccc"},attrs:{slot:"icon",name:"cart",size:"12px"},slot:"icon"})],1):t._e(),t._v(" "),e("van-popup",{staticClass:"goods-popup",attrs:{position:"bottom"},model:{value:t.showList,callback:function(i){t.showList=i},expression:"showList"}},[e("van-nav-bar",{attrs:{title:"推荐商品","left-text":"返回","left-arrow":"",fixed:"","z-index":999},on:{"click-left":function(i){t.showList=!1}}}),t._v(" "),e("div",{staticClass:"goods-list"},t._l(t.goods_list,function(i,s){return e("van-cell",{key:s,on:{click:function(e){t.toggle(s,i.goods_id)}}},[e("div",{staticClass:"goods-item"},[e("div",{staticClass:"goods-checkbox"},[e("van-checkbox",{ref:"checkboxes",refInFor:!0,model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"item.checked"}})],1),t._v(" "),e("div",{staticClass:"goods-card"},[e("img",{attrs:{src:i.goods_img,onerror:t.$ERRORPIC.noGoods}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(t._s(i.goods_name))]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",[t._v("￥"+t._s(i.price))]),t._v(" "),e("span",[t._v("￥"+t._s(i.market_price))])])])])])])})),t._v(" "),e("div",{staticClass:"btn-bottom"},[e("van-button",{attrs:{round:"",type:"danger",size:"normal"},on:{click:t.onRecommend}},[t._v("推荐")])],1)],1)],1)},staticRenderFns:[]};var u,h=e("VU/8")(l,d,!1,function(t){e("ORmQ")},"data-v-d3fc866a",null).exports,_=(e("4yKu"),e("wolx")),m=e("WyhY"),p={data:function(){return{showList:!1,placeholder:"请输入搜索关键字",city:"",address:[],title:"添加定位",text:"让附近更多的人发现你",color:{yes:"cr-ff454e",no:"cr-323233"},htp:null}},methods:{loadData:function(){var t=this;"https"==t.$store.state.domain.substring(0,5)?t.htp="https":t.htp="http",t.showList=!0,t.$store.dispatch("getBMapLocation").then(function(i){var e=i.location,s=i.address;t.city=s.city,console.log(e),t.getInitInfo(e)}).catch(function(t){})},getInitInfo:function(t){var i=this,e=t.lat+","+t.lng,s=i.htp+"://api.map.baidu.com/place/v2/search?query=公司企业$交通设施$教育培训$金融&tag=飞机场,火车站,地铁站,高等院校,中学,小学,幼儿园,公司,银行&location="+e+"&radius=3000"+i.city+"&output=json&ak=t16W0CsDyfV8QjlSgS17lgsI&page_size=20";i.$jsonp(s).then(function(t){i.address=t.results})},leftClick:function(){this.showList=!1},getSearchInfo:function(t){var i=this,e=i.htp+"://api.map.baidu.com/place/v2/search?query="+t+"&region="+i.city+"&output=json&ak=t16W0CsDyfV8QjlSgS17lgsI&page_size=20";i.$jsonp(e).then(function(t){i.address=t.results})},onAddPonit:function(t,i){this.text=t?"":"让附近更多的人发现你",this.title=t||"添加定位",this.showList=!1;var e={name:t||"",lat:i?i.lat:"",lng:i?i.lng:""};this.$emit("add-location",e)}},components:(u={},o()(u,_.a.name,_.a),o()(u,"HeadSearch",m.a),u)},v={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("van-cell",{staticClass:"nowrap",attrs:{title:t.title,value:t.text,"is-link":"","title-class":"添加定位"!=t.title?t.color.yes:t.color.no},on:{click:t.loadData}},[e("van-icon",{staticClass:"cell-left-icon",style:{color:"添加定位"!=t.title?"#6790db":"#cccccc"},attrs:{slot:"icon",name:"location",size:"18px"},slot:"icon"})],1),t._v(" "),e("van-popup",{staticClass:"location-popup",attrs:{position:"bottom"},model:{value:t.showList,callback:function(i){t.showList=i},expression:"showList"}},[e("HeadSearch",{attrs:{disabled:!1,placeholder:t.placeholder,showLeft:"","show-action":"",leftClick:t.leftClick},on:{rightAction:t.getSearchInfo}}),t._v(" "),e("div",{staticClass:"location-list"},[e("van-cell",{attrs:{title:"不显示位置"},on:{click:function(i){t.onAddPonit("","")}}},[e("div",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),t._l(t.address,function(i,s){return e("van-cell",{key:s,attrs:{title:i.name,label:i.address},on:{click:function(e){t.onAddPonit(i.name,i.location)}}})})],2)],1)],1)},staticRenderFns:[]};var f=e("VU/8")(p,v,!1,function(t){e("Ibmc")},"data-v-6f449ce7",null).exports,g=e("msXN"),b={data:function(){return{params:{page_index:1,page_size:10}}},props:{id:[Number,String],search_text:[String],state:[Number,String]},mixins:[g.e],mounted:function(){this.loadList()},watch:{id:function(t){1==this.state&&(this.params.superiors_id=t),this.params.search_text="",this.loadList("init")},search_text:function(t){1==this.state&&(this.params.superiors_id=""),this.params.search_text=t,this.loadList("init")}},methods:{loadList:function(t){var i=this;t&&"init"===t&&i.initList(),1==i.state?Object(r.h)(i.params).then(function(e){var s=e.data,n=s.data;i.pushToList(n,s.page_count,t)}):Object(r.y)(i.params).then(function(e){var s=e.data,n=s.data;i.pushToList(n,s.page_count,t)})},onAddTopics:function(t,i){var e={title:t,topic_id:i};this.$emit("add-topics",e)}}},C={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{message:"没有这个话题",showFoot:!1}},on:{"update:error":function(i){t.error=i},load:t.loadList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[e("div",{staticClass:"list"},t._l(t.list,function(i,s){return e("van-cell",{key:s,attrs:{title:"#"+i.topic_title},on:{click:function(e){t.onAddTopics(i.topic_title,i.topic_id)}}})}))])],1)},staticRenderFns:[]};var k,x=e("VU/8")(b,C,!1,function(t){e("7ea/")},"data-v-16e1e104",null).exports,y={data:function(){return{showList:!1,placeholder:"请输入搜索关键字",title:"参与话题",text:"选择合适的话题会有更多赞",color:{yes:"cr-ff454e",no:"cr-323233"},tab_list:[],topic_id:"",search_text:"",topic_state:"0"}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;Object(r.y)().then(function(i){var e=i.data;t.tab_list=e.data,t.topic_state=e.topic_state})},leftClick:function(){this.showList=!1},onTab:function(t){this.topic_id=t},getSearchInfo:function(t){this.search_text=t},getTopicsInfo:function(t){this.text=t.title?"":"选择合适的话题会有更多赞",this.title=t.title?t.title:"参与话题",this.showList=!1,this.$emit("click-topics",t)}},components:(k={},o()(k,_.a.name,_.a),o()(k,"HeadSearch",m.a),o()(k,"TopicsList",x),k)},$={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("van-cell",{staticClass:"nowrap",attrs:{title:t.title,value:t.text,"is-link":"","title-class":"参与话题"!=t.title?t.color.yes:t.color.no},on:{click:function(i){t.showList=!0}}},[e("van-icon",{staticClass:"cell-left-icon",style:{backgroundColor:"参与话题"!=t.title?"#6790db":"#cccccc"},attrs:{slot:"icon",name:"v-icon-topic",size:"10px"},slot:"icon"})],1),t._v(" "),e("van-popup",{staticClass:"part-popup",attrs:{position:"bottom"},model:{value:t.showList,callback:function(i){t.showList=i},expression:"showList"}},[e("HeadSearch",{attrs:{disabled:!1,placeholder:t.placeholder,showLeft:"","show-action":"",leftClick:t.leftClick},on:{rightAction:t.getSearchInfo}}),t._v(" "),e("div",{staticClass:"part-list"},[1==t.topic_state?e("div",{staticClass:"part-tab-nav"},t._l(t.tab_list,function(i,s){return e("div",{key:s,staticClass:"tab",on:{click:function(e){t.onTab(i.topic_id)}}},[e("img",{attrs:{src:i.topic_pic?i.topic_pic:"",onerror:t.$ERRORPIC.noGoods}}),t._v(" "),e("p",[t._v(t._s(i.topic_title))])])})):t._e(),t._v(" "),e("van-cell",{staticClass:"opt",attrs:{title:"不参与任何话题"},on:{click:t.getTopicsInfo}},[e("div",{staticClass:"left-icon",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),e("TopicsList",{attrs:{id:t.topic_id,search_text:t.search_text,state:t.topic_state},on:{"add-topics":t.getTopicsInfo}})],1)],1)],1)},staticRenderFns:[]};var w=e("VU/8")(y,$,!1,function(t){e("Q7eV")},"data-v-3612c2c8",null).exports,O=e("oFuF"),j=e("eKM9"),R=Object(j.a)({name:"thingcircle-release",data:function(){return{thing_title:"",content:"",autosize:{maxHeight:100,minHeight:100},arrImg:[],goodsId:"",address:{},topics_info:{},flag:!0}},mounted:function(){this.getShareInfo()},methods:{onUploadFinish:function(t,i){var e=t.src;this.arrImg.push(e)},getGoodsId:function(t){this.goodsId=t},getLocation:function(t){this.address={name:t.name,lat:t.lat,lng:t.lng}},getTopics:function(t){this.topics_info={topic_id:t.topic_id,topic_title:t.title}},onSubmit:function(){var t=this,i={thing_type:1};return i.topic_id=t.topics_info.topic_id?t.topics_info.topic_id:"",i.content=t.content.replace(/\s*/g,""),i.thing_title=t.thing_title,i.img_id=t.arrImg.join(),i.goods_array=t.goodsId,i.location=t.address.name?t.address.name:"",i.lat=t.address.lat?t.address.lat:"",i.lng=t.address.lng?t.address.lng:"",i.content?i.img_id?0!=t.flag&&(t.flag=!1,void Object(r.a)(i).then(function(i){1==i.code&&(t.$Toast.success(i.message),setTimeout(function(){t.$router.replace("/thingcircle/index")},100))})):(t.$Toast("请添加话题图片"),!1):(t.$Toast("请填写话题内容"),!1)},getShareInfo:function(){var t=this;Object(r.j)().then(function(i){var e=i.data;t.onShare({title:e.other_title?e.other_title:"好物圈",desc:e.other_describe?e.other_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:e.other_pic,link:t.$store.state.domain+"/wap"+t.$route.path+Object(O.k)(t.$route.query,"extend_code")})})}},components:{ImagePanelPreview:n.a,UploadImages:s.a,ChoiceGoods:h,AddLocation:f,PartTopics:w}}),L={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcircle-release"},[e("Navbar",{attrs:{isMenu:!1}}),t._v(" "),e("div",{staticClass:"card-group-box"},[e("van-field",{attrs:{placeholder:"加个标题会有更多赞哦！最多20字",maxlength:"20"},model:{value:t.thing_title,callback:function(i){t.thing_title=i},expression:"thing_title"}}),t._v(" "),e("van-field",{staticClass:"textarea",attrs:{type:"textarea",maxlength:"1000",placeholder:"说说此刻心情。最多1000字",rows:"1",autosize:t.autosize},model:{value:t.content,callback:function(i){t.content=i},expression:"content"}}),t._v(" "),e("div",{staticClass:"upload-wrap"},[e("ImagePanelPreview",{attrs:{list:t.arrImg}},[e("div",{attrs:{slot:"upload"},slot:"upload"},[e("UploadImages",{staticClass:"upload-img",attrs:{total:t.arrImg.length,maxNum:9,multiple:"",type:"evaluate"},on:{finish:t.onUploadFinish}})],1)])],1),t._v(" "),e("ChoiceGoods",{on:{"arr-goodsId":t.getGoodsId}}),t._v(" "),e("PartTopics",{on:{"click-topics":t.getTopics}}),t._v(" "),e("AddLocation",{on:{"add-location":t.getLocation}})],1),t._v(" "),e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"danger",size:"normal"},on:{click:t.onSubmit}},[t._v("发布干货")])],1)],1)},staticRenderFns:[]};var I=e("VU/8")(R,L,!1,function(t){e("fm6A")},"data-v-58c808e8",null);i.default=I.exports},"5YRV":function(t,i){},"7ea/":function(t,i){},"8njc":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("bOdI"),n=e.n(s),a=(e("zP7x"),e("rD0v")),o=(e("3AsM"),e("7ZPY")),c=e("pFYg"),r=e.n(c),l=e("+u2U"),d={data:function(){return{isShow:!1}},props:{goods_list:[Object,Array]},methods:{toGoodsDetail:function(t){this.$router.push({name:"goods-detail",params:{goodsid:t}})}}},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.isShow,callback:function(i){t.isShow=i},expression:"isShow"}},[e("div",{staticClass:"header-goods"},[e("h3",[t._v("共"+t._s(t.goods_list.length)+"件推荐商品")]),t._v(" "),e("van-icon",{attrs:{name:"close",size:"16px"},on:{click:function(i){t.isShow=!1}}})],1),t._v(" "),t.goods_list?e("div",{staticClass:"goods-box"},t._l(t.goods_list,function(i,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){t.toGoodsDetail(i.goods_id)}}},[e("div",{staticClass:"item-g"},[e("img",{staticClass:"img",attrs:{src:i.goods_img?i.goods_img:t.$ERRORPIC.noGoods,onerror:t.$ERRORPIC.noGoods}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(t._s(i.goods_name))]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",[t._v("￥"+t._s(i.price))]),t._v(" "),e("span",[t._v("￥"+t._s(i.market_price))])])])]),t._v(" "),e("div",{staticClass:"cart-i"},[e("van-icon",{attrs:{name:"cart",size:"14px"}})],1)])})):t._e()])},staticRenderFns:[]};var h=e("VU/8")(d,u,!1,function(t){e("hyOG")},"data-v-06b4dcc7",null).exports,_={data:function(){return{collapse:"text",descStatusText:"展开",flexCol:"",tr:""}},props:{items:[Object]},computed:{isDes:function(){return parseInt((document.body.offsetWidth-20)/14)}},methods:{showmoreDesc:function(t){"展开"==this.descStatusText?(this.descStatusText="收起",this.collapse="",this.tr="tr",this.flexCol="flex-column"):(this.descStatusText="展开",this.collapse="text",this.tr="",this.flexCol="")}}},m={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.items?e("div",{staticClass:"theme-wrap"},[t.items.title?e("h2",{staticClass:"title"},[t._v(t._s(t.items.title))]):t._e(),t._v(" "),t.items.content?e("div",{staticClass:"content",class:t.flexCol},[e("div",{class:t.collapse},[t._v(t._s(t.items.content))]),t._v(" "),t.isDes<t.items.content.length?e("div",{class:t.tr,on:{click:function(i){t.showmoreDesc(t.items.content)}}},[t._v(t._s(t.descStatusText))]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"tag"},[t.items.topic_title?e("div",[e("span",{staticClass:"bol"},[t._v("#")]),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.items.topic_title))])]):t._e(),t._v(" "),t.items.location?e("div",{staticClass:"sec"},[e("van-icon",{attrs:{name:"location",size:"12px"}}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.items.location))])],1):t._e()])]):t._e()},staticRenderFns:[]};var p=e("VU/8")(_,m,!1,function(t){e("z+/e")},"data-v-c0b2e5b2",null).exports,v=e("inzt"),f={data:function(){return{color:{yes:"cr-ff454e",no:"cr-fff"}}},props:{items:[Object]},methods:{onFabulous:function(){var t=this,i={thing_id:t.items.id};Object(v.p)(i).then(function(i){1==i.code&&("取消点赞成功"==i.message?t.items.is_like=0:t.items.is_like=1,t.items.likes=i.count)})},onCollection:function(){var t=this,i={thing_id:t.items.id};Object(v.l)(i).then(function(i){1==i.code&&("取消收藏成功"==i.message?t.items.is_collect=0:t.items.is_collect=1,t.items.collects=i.count)})}}},g={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"b-wrap"},[e("div",{staticClass:"b-fixed"},[e("div",{staticClass:"b-prt"},[e("div",{staticClass:"b-text-input",on:{click:function(i){t.$emit("openSend")}}},[e("van-icon",{attrs:{name:"edit",size:"14px"}}),t._v(" "),e("span",[t._v("说点什么...")])],1),t._v(" "),e("div",{staticClass:"icon-w",on:{click:function(i){t.onFabulous()}}},[e("van-icon",{class:t.items.is_like?t.color.yes:t.color.no,attrs:{name:t.items.is_like?"like":"like-o",size:"20px"}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(t.items.likes)))])],1),t._v(" "),e("div",{staticClass:"icon-w",on:{click:function(i){t.onCollection()}}},[e("van-icon",{class:t.items.is_collect?t.color.yes:t.color.no,attrs:{name:t.items.is_collect?"star":"star-o",size:"20px"}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(t.items.collects)))])],1),t._v(" "),e("div",{staticClass:"icon-w",on:{click:function(i){t.$emit("openComment")}}},[e("van-icon",{class:t.color.no,attrs:{name:"chat-o",size:"20px"}}),t._v(" "),e("span")],1)])])])},staticRenderFns:[]};var b=e("VU/8")(f,g,!1,function(t){e("cLN0")},"data-v-abe0ae1e",null).exports,C=e("zu9a"),k={data:function(){return{isShow:!1,message:"",placeholder:"说点什么",editorial:{}}},props:{tid:[String,Number],topic_id:[String,Number]},mounted:function(){},methods:{addComment:function(){var t=this,i={thing_id:t.tid,topic_id:t.topic_id?t.topic_id:"",content:t.message},e={thing_id:t.tid,topic_id:t.topic_id?t.topic_id:"",content:t.message,to_uid:t.editorial.to_uid,comment_pid:t.editorial.comment_pid};if(!t.message.replace(/\s*/g,""))return t.$Toast("没有什么想说的吗"),!1;"#childComment"==t.editorial.hash||"#parentComment"==t.editorial.hash?Object(v.A)(e).then(function(i){i.data;t.$Toast("发表成功"),t.message="",t.editorial.hash="",t.placeholder="说点什么",t.nextLoad()}):Object(v.b)(i).then(function(i){i.data;t.$Toast("发表成功"),t.message="",t.placeholder="说点什么",t.nextLoad()})},onAnswer:function(t){this.editorial.to_uid=t.to_uid,this.editorial.comment_pid=t.comment_pid,this.editorial.people=t.people,this.editorial.hash=t.hash,this.placeholder=this.editorial.hash?"回复"+this.editorial.people+":":"说点什么"},nextLoad:function(){this.$refs.commmet.loadList("init")}},components:{CellComment:C.a}},x={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.isShow,callback:function(i){t.isShow=i},expression:"isShow"}},[e("div",{staticClass:"header-com"},[e("h3",[t._v("全部评论")]),t._v(" "),e("van-icon",{attrs:{name:"close",size:"16px"},on:{click:function(i){t.isShow=!1}}})],1),t._v(" "),e("div",{staticClass:"com-body"},[e("CellComment",{ref:"commmet",attrs:{tid:t.tid},on:{"click-answer":t.onAnswer}},[e("div",{staticClass:"fixed-input",attrs:{slot:"bottomFixed"},slot:"bottomFixed"},[e("div",{staticClass:"msg-input"},[e("van-field",{attrs:{type:"text",placeholder:t.placeholder,maxlength:"200"},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}}),t._v(" "),e("div",{staticClass:"btn-s",on:{click:function(i){t.addComment()}}},[t._v("发送")])],1)])])],1)])},staticRenderFns:[]};var y=e("VU/8")(k,x,!1,function(t){e("J91q")},"data-v-48dd711a",null).exports,$=e("Jv72"),w={data:function(){return{options:{height:document.body.offsetHeight,autoplay:this.autoplay,sources:[{type:"video/mp4",src:this.src}],playsinline:!0,poster:this.poster},is_play:!1}},props:{src:String,autoplay:{type:Boolean,default:!0},poster:String},methods:{start:function(){var t=this;this.$nextTick(function(){t.$refs.videoPlayer.player.play()})},stop:function(){this.$refs.videoPlayer.player.pause()},onClikcPlay:function(){this.is_play?this.stop():this.start()},onPlayRun:function(t){this.is_play=!0},onPauseRun:function(t){this.is_play=!1}},components:{VideoPlayer:$.a}},O={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"vedio-wrap"},[i("VideoPlayer",{ref:"videoPlayer",attrs:{options:this.options},on:{play:this.onPlayRun,pause:this.onPauseRun}})],1)},staticRenderFns:[]};var j,R=e("VU/8")(w,O,!1,function(t){e("viGl")},"data-v-354efcea",null).exports,L=(e("oFuF"),e("BuIE")),I=e("eKM9"),S=Object(I.a)({name:"thingcircle-vediodetail",data:function(){return{detail:{},list:[],goods_list:[],is_send:!1,is_goods:!1,tid:null,topic_id:null,touchable:!0,message:"",placeholder:"爱评论的人粉丝多~"}},computed:{maxHeight:function(){return{height:document.body.offsetHeight+"px"}},thing_id:function(){return this.$route.params.thingid},uid:function(){var t=null;return this.$store.state.member.info&&(t=this.$store.state.member.info.uid),t}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,i={thing_id:t.thing_id,page_index:1,page_size:10};t.$route.query.uid&&(i.uid=t.$route.query.uid),Object(v.x)(i).then(function(i){var e=i.data;e.data.forEach(function(t){t.poster="object"!=r()(t.video_img)?"":t.video_img.pic_cover}),t.list=e.data,t.getShareInfo()})},getShareInfo:function(){var t=this,i=encodeURIComponent(Object(L.b)(t.uid)),e={thing_id:t.thing_id};Object(v.j)(e).then(function(e){var s=e.data;t.onShare({title:s.thing_title?s.thing_title:"好物圈",desc:s.thing_describe?s.thing_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:s.thing_pic,link:t.$store.state.domain+"/wap"+t.$route.path+"?uid="+i})})},openSend:function(t,i){var e=this;this.is_send=!0,this.tid=t,this.topic_id=i,setTimeout(function(){e.$refs.inputMsg.focus()},1)},openComment:function(t,i){this.$refs.popupComment.isShow=!0,this.tid=t,this.topic_id=i},showPopupGoods:function(t){this.$refs.popupGoods.isShow=!0,this.goods_list=t},addComment:function(){var t=this,i={thing_id:t.tid,topic_id:t.topic_id,content:t.message};if(!t.message)return!1;Object(v.b)(i).then(function(i){i.data;t.$Toast("发表成功"),t.message="",t.placeholder="说点什么...",t.is_send=!1,t.$refs.popupComment.nextLoad()})},onChange:function(t){var i=this;this.list.forEach(function(t,e){i.$refs.plVedio[e].stop()}),this.$refs.plVedio[t].start()}},components:(j={DetailHeadNavbar:l.a,VedioCellPopGoods:h,VedioCellContent:p,VedioCellBottomAction:b,VedioCellPopComment:y,PlayVedio:R},n()(j,o.a.name,o.a),n()(j,a.a.name,a.a),j)}),T={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcircle-vediodetail"},[e("div",{staticClass:"swipe-box",style:t.maxHeight},[e("van-swipe",{staticClass:"swipe",style:t.maxHeight,attrs:{"show-indicators":!1,vertical:!0,touchable:t.touchable},on:{change:t.onChange}},t._l(t.list,function(i,s){return e("van-swipe-item",{key:s},[e("PlayVedio",{ref:"plVedio",refInFor:!0,attrs:{src:i.img_temp_array.length>0?i.img_temp_array[0].pic_cover:"",poster:i.poster}}),t._v(" "),e("DetailHeadNavbar",{staticClass:"header-wrap",attrs:{head_info:i}}),t._v(" "),e("div",{staticClass:"vedio-fixed"},[e("div",{staticClass:"vedio-prt"},[e("div",{staticClass:"vedio-goods-wrap"},[e("div",{staticClass:"goods",on:{click:function(e){t.showPopupGoods(i.recommend_goods_list)}}},[e("van-icon",{attrs:{name:"cart",size:"10px"}}),t._v(" "),e("span",[t._v("推荐商品")])],1)]),t._v(" "),e("VedioCellContent",{attrs:{items:i}}),t._v(" "),e("VedioCellBottomAction",{attrs:{items:i},on:{openSend:function(e){t.openSend(i.id,i.topic_id)},openComment:function(e){t.openComment(i.id,i.topic_id)}}})],1)])],1)}))],1),t._v(" "),e("VedioCellPopGoods",{ref:"popupGoods",attrs:{goods_list:t.goods_list}}),t._v(" "),e("VedioCellPopComment",{ref:"popupComment",attrs:{tid:t.tid,topic_id:t.topic_id}}),t._v(" "),e("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.is_send,callback:function(i){t.is_send=i},expression:"is_send"}},[e("div",{staticClass:"msg-input"},[e("van-field",{ref:"inputMsg",attrs:{type:"text",placeholder:t.placeholder,maxlength:"200"},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}}),t._v(" "),e("div",{staticClass:"btn-s",on:{click:t.addComment}},[t._v("发送")])],1)])],1)},staticRenderFns:[]};var P=e("VU/8")(S,T,!1,function(t){e("FIBV")},"data-v-d3e958b4",null);i.default=P.exports},"936P":function(t,i){},FIBV:function(t,i){},HoL5:function(t,i){},I8WP:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("eKM9"),n=e("inzt"),a=e("msXN"),o=e("oFuF"),c=Object(s.a)({name:"thingcircle-fans",data:function(){return{params:{page_index:1,page_size:10}}},mixins:[a.e],mounted:function(){this.loadList()},methods:{loadList:function(t){var i=this;Object(n.g)(i.params).then(function(e){var s=e.data,n=s.data;i.pushToList(n,s.page_count,t)}),i.getShareInfo()},sensitiveOthers:function(t,i){var e=this,s={thing_auid:t};Object(n.n)(s).then(function(t){1==t.code&&("关注成功"==t.message?e.list[i].mutual=1:e.list[i].mutual=0)})},getShareInfo:function(){var t=this;Object(n.j)().then(function(i){var e=i.data;t.onShare({title:e.other_title?e.other_title:"好物圈",desc:e.other_describe?e.other_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:e.other_pic,link:t.$store.state.domain+"/wap"+t.$route.path+Object(o.k)(t.$route.query,"extend_code")})})}}}),r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcircle-fans"},[e("Navbar",{attrs:{isMenu:!1}}),t._v(" "),e("List",{staticClass:"list",attrs:{finished:t.finished,finishedText:null,error:t.error,"is-empty":t.isListEmpty,empty:{message:"木有粉丝~",showFoot:!1}},on:{"update:error":function(i){t.error=i},load:t.loadList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,function(i,s){return e("div",{key:s,staticClass:"cell"},[e("img",{staticClass:"img",attrs:{src:i.user_headimg,onerror:t.$ERRORPIC.noAvatar}}),t._v(" "),e("div",{staticClass:"info"},[e("span",[t._v(t._s(i.thing_user_name?i.thing_user_name:"匿名"))]),t._v(" "),e("span",[t._v("干货·"+t._s(i.thing_count?i.thing_count:0))])]),t._v(" "),i.mutual?e("div",{staticClass:"btn"},[e("van-button",{staticClass:"gray",attrs:{plain:"",round:"",type:"danger",size:"small"},on:{click:function(e){t.sensitiveOthers(i.uid,s)}}},[t._v("互相关注")])],1):e("div",{staticClass:"btn"},[e("van-button",{attrs:{round:"",type:"danger",size:"small"},on:{click:function(e){t.sensitiveOthers(i.uid,s)}}},[t._v("回粉")])],1)])}))],1)},staticRenderFns:[]};var l=e("VU/8")(c,r,!1,function(t){e("5YRV")},"data-v-028b54b2",null);i.default=l.exports},Ibmc:function(t,i){},J91q:function(t,i){},JYpu:function(t,i){},LUf4:function(t,i){},"M+uL":function(t,i){},MzED:function(t,i){},ORmQ:function(t,i){},Q7eV:function(t,i){},WHxT:function(t,i){},WOwl:function(t,i){},"X0K+":function(t,i){},X1li:function(t,i){},Xih3:function(t,i){},cAgc:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"footer"},[e("nav",{staticClass:"footer-tabbar",style:t.isBottom},t._l(t.items,function(i,s){return e("div",{key:s,staticClass:"item",on:{click:function(i){t.switchTo(s)}}},[e("span",{class:{plus:1==s,active:t.isActive==s}},[t._v(t._s(i.title))])])}))])},staticRenderFns:[]};var n=e("VU/8")({data:function(){return{isActive:0,items:[{title:"首页"},{title:""},{title:"我的"}]}},computed:{isBottom:function(){if(this.$store.state.tabbar.isShowTabbar)return{bottom:"50px"}}},mounted:function(){"/thingcircle/mine"==this.$route.path?this.isActive=2:"/thingcircle/home"==this.$route.path&&(this.isActive=0)},methods:{switchTo:function(t){var i=void 0;0==t?i="/thingcircle/home":1==t?i="/thingcircle/release":2==t&&(i="/thingcircle/mine"),1!==t&&(this.isActive=t),this.$router.replace(i)}}},s,!1,function(t){e("f2hg")},"data-v-7173f442",null).exports,a=e("eKM9"),o=Object(a.a)({name:"thingcircle-index",data:function(){return{}},mounted:function(){this.$store.state.config.addons.thingcircle?this.$refs.load.success():this.$refs.load.fail({errorText:"未开启好物圈应用",showFoot:!1})},components:{Tabbar:n}}),c={render:function(){var t=this.$createElement,i=this._self._c||t;return i("Layout",{ref:"load",staticClass:"thingcircle-index"},[i("router-view"),this._v(" "),i("Tabbar")],1)},staticRenderFns:[]};var r=e("VU/8")(o,c,!1,function(t){e("X0K+")},null,null);i.default=r.exports},cLN0:function(t,i){},cdTb:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("eKM9"),n=e("inzt"),a=e("msXN"),o=e("oFuF"),c=Object(s.a)({name:"thingcircle-follow",data:function(){return{params:{page_index:1,page_size:10}}},mixins:[a.e],mounted:function(){this.loadList()},methods:{loadList:function(t){var i=this;Object(n.e)(i.params).then(function(e){var s=e.data,n=s.data;i.pushToList(n,s.page_count,t)}),i.getShareInfo()},sensitiveOthers:function(t,i){var e=this,s={thing_auid:t};Object(n.n)(s).then(function(t){1==t.code&&("关注成功"==t.message?e.list[i].mutual=1:e.list[i].mutual=0)})},getShareInfo:function(){var t=this;Object(n.j)().then(function(i){var e=i.data;t.onShare({title:e.other_title?e.other_title:"好物圈",desc:e.other_describe?e.other_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:e.other_pic,link:t.$store.state.domain+"/wap"+t.$route.path+Object(o.k)(t.$route.query,"extend_code")})})}}}),r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcircle-fans"},[e("Navbar",{attrs:{isMenu:!1}}),t._v(" "),e("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{message:"你还没有关注任何人~",showFoot:!1}},on:{"update:error":function(i){t.error=i},load:t.loadList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,function(i,s){return e("div",{key:s,staticClass:"cell"},[e("img",{staticClass:"img",attrs:{src:i.auser_headimg,onerror:t.$ERRORPIC.noAvatar}}),t._v(" "),e("div",{staticClass:"info"},[e("span",[t._v(t._s(i.attention_thing_user_name?i.attention_thing_user_name:"匿名"))]),t._v(" "),e("span",[t._v("干货·"+t._s(i.thing_count?i.thing_count:0))])]),t._v(" "),i.mutual?e("div",{staticClass:"btn"},[e("van-button",{staticClass:"gray",attrs:{plain:"",round:"",type:"danger",size:"small"},on:{click:function(e){t.sensitiveOthers(i.follow_uid,s)}}},[t._v("互相关注")])],1):e("div",{staticClass:"btn"},[e("van-button",{staticClass:"gray",attrs:{plain:"",round:"",type:"danger",size:"small"},on:{click:function(e){t.sensitiveOthers(i.follow_uid,s)}}},[t._v("已关注")])],1)])}))],1)},staticRenderFns:[]};var l=e("VU/8")(c,r,!1,function(t){e("JYpu")},"data-v-4d664406",null);i.default=l.exports},f2hg:function(t,i){},fm6A:function(t,i){},hyOG:function(t,i){},inzt:function(t,i,e){"use strict";i.r=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleList",method:"post",data:t})},i.v=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleUser",method:"post",data:t})},i.w=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getUserThingList",method:"post",data:t})},i.m=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleDetail",method:"post",data:t})},i.x=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleVideoDetail",method:"post",data:t})},i.u=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleReply",method:"post",data:t})},i.n=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/attentionThingcircle",method:"post",data:t})},i.l=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/collectionThingcircle",method:"post",data:t})},i.e=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/attentionUserList",method:"post",data:t})},i.g=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/fansUserList",method:"post",data:t})},i.a=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/addThingcircleWap",method:"post",data:t})},i.p=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/likesThingcircle",method:"post",data:t})},i.b=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/pushThingcircleComment",method:"post",data:t})},i.f=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getComment",method:"post",data:t})},i.z=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getViolationList",method:"post",data:t})},i.c=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/addViolation",method:"post",data:t})},i.A=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/replyThingcircleComment",method:"post",data:t})},i.d=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/delComment",method:"post",data:t})},i.q=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/likesThingcircleComment",method:"post",data:t})},i.i=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getRecommendGoods",method:"post",data:t})},i.y=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getTopicList",method:"post",data:t})},i.h=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getLowerTopicList",method:"post",data:t})},i.t=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleMessageCenter",method:"post",data:t})},i.s=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleMessage",method:"post",data:t})},i.o=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleLac",method:"post",data:t})},i.k=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getThingcircleComment",method:"post",data:t})},i.j=function(t){return Object(s.a)({url:"/addons/thingcircle/thingcircle/getShareInfo",method:"post",data:t})};var s=e("vLgD")},nSUO:function(t,i){},qJ8N:function(t,i){},s9vw:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("J68u"),n=e("ADxc"),a=e("inzt"),o=e("eKM9"),c=Object(o.a)({name:"thingcirle-report",data:function(){return{message:"",autosize:{maxHeight:100,minHeight:100},type:"",reportAction:[],violation_id:null,arrImg:[],isSuccess:!1}},computed:{commentid:function(){return this.$route.params.commentid}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;Object(a.z)().then(function(i){var e=i.data;t.reportAction=e.data})},onUploadFinish:function(t,i){var e=t.src;this.arrImg.push(e)},onSelect:function(t){this.type=t,this.violation_id=t},onSubmit:function(){var t=this,i={comment_id:t.commentid,violation_id:t.violation_id,report_reason:t.message,report_photo:t.arrImg.join()};return i.violation_id?i.report_reason?i.report_photo?void Object(a.c)(i).then(function(i){i.code>0&&(t.isSuccess=!0)}).catch(function(t){}):(t.$Toast("请上传举报图片"),!1):(t.$Toast("请填写举报内容"),!1):(t.$Toast("请选择违规类型"),!1)}},components:{ImagePanelPreview:n.a,UploadImages:s.a}}),r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcirle-report"},[e("Navbar",{attrs:{isMenu:!1}}),t._v(" "),t.isSuccess?e("div",{staticClass:"success"},[e("van-icon",{attrs:{name:"checked",size:"100px"}}),t._v(" "),e("h3",[t._v("举报成功")]),t._v(" "),e("p",[t._v("受理结果将会在消息通知中告知")])],1):e("div",[e("div",{staticClass:"cell-wrap"},[e("van-cell",{attrs:{title:"违规类型"}}),t._v(" "),e("van-radio-group",{model:{value:t.type,callback:function(i){t.type=i},expression:"type"}},[t._l(t.reportAction,function(i,s){return e("van-cell-group",{key:s},[e("van-cell",{attrs:{title:i.name,clickable:""},on:{click:function(e){t.onSelect(i.violation_id)}}},[e("van-radio",{attrs:{name:i.violation_id}})],1)],1)}),t._v(" "),e("van-field",{attrs:{type:"textarea",placeholder:"请描述你的举报内容",rows:"1",autosize:t.autosize},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}})],2)],1),t._v(" "),e("div",{staticClass:"upload-wrap"},[e("ImagePanelPreview",{attrs:{list:t.arrImg}},[e("div",{attrs:{slot:"upload"},slot:"upload"},[e("UploadImages",{staticClass:"upload-img",attrs:{total:t.arrImg.length,maxNum:3,multiple:"",type:"evaluate"},on:{finish:t.onUploadFinish}})],1)])],1),t._v(" "),e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"danger",size:"normal"},on:{click:t.onSubmit}},[t._v("举报")])],1)])],1)},staticRenderFns:[]};var l=e("VU/8")(c,r,!1,function(t){e("2jIm")},"data-v-14b6bd00",null);i.default=l.exports},sT0k:function(t,i){},tMF7:function(t,i){},vblk:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("bOdI"),n=e.n(s),a=(e("4yKu"),e("wolx")),o=e("wj26"),c=e("inzt"),r={data:function(){return{color:{yes:"cr-ff454e",no:"cr-999"}}},props:{items:[Object,Array]},mounted:function(){},methods:{toDetail:function(t,i){1==i?this.$router.push({name:"thingcircle-grapdetail",params:{thingid:t}}):this.$router.push({name:"thingcircle-vediodetail",params:{thingid:t}})},onFabulous:function(t){var i={thing_id:t.id};Object(c.p)(i).then(function(i){1==i.code&&("取消点赞成功"==i.message?t.is_like=0:t.is_like=1,t.likes=i.count)})}},components:{}},l={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrap"},t._l(t.items,function(i,s){return e("div",{key:s,staticClass:"item-modbox"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:i.user_headimg,onerror:t.$ERRORPIC.noAvatar}})]),t._v(" "),e("div",{staticClass:"comments"},[e("div",{on:{click:function(e){t.toDetail(i.id,i.thing_type)}}},[e("h3",{staticClass:"name"},[t._v(t._s(i.thing_user_name))]),t._v(" "),e("div",{staticClass:"title"},[i.topic_title?e("span",[t._v("#"+t._s(i.topic_title)+"#")]):t._e(),t._v("\n          "+t._s(i.title)+"\n        ")]),t._v(" "),i.content?e("div",{staticClass:"content"},[e("p",[t._v(t._s(i.content))])]):t._e(),t._v(" "),1==i.thing_type?e("div",{staticClass:"img-group"},t._l(i.img_temp_array,function(i,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"box e-handle"},[e("img",{attrs:{src:i.pic_cover,onerror:t.$ERRORPIC.noGoods}})])])})):e("div",{staticClass:"img-group"},[e("div",{staticClass:"item"},[e("div",{staticClass:"box e-handle"},[e("img",{attrs:{src:i.video_img.pic_cover,onerror:t.$ERRORPIC.noGoods}})])])]),t._v(" "),i.location?e("div",{staticClass:"location"},[t._v(t._s(i.location))]):t._e()]),t._v(" "),e("div",{staticClass:"btm"},[e("div",{staticClass:"time"},[t._v(t._s(t._f("getTimer")(i.create_time)))]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"fabulous",on:{click:function(e){t.onFabulous(i)}}},[e("van-icon",{class:i.is_like?t.color.yes:t.color.no,attrs:{name:i.is_like?"like":"like-o",size:"14px"}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(i.likes)))])],1),t._v(" "),e("div",{staticClass:"fabulous",on:{click:function(e){t.toDetail(i.id,i.thing_type)}}},[e("van-icon",{attrs:{name:"comment-o",size:"14px"}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(i.comment.data.length)))])],1)])]),t._v(" "),i.comment.total_count>0?e("div",{staticClass:"discuss",on:{click:function(e){t.toDetail(i.id,i.thing_type)}}},[e("div",{staticClass:"box"},t._l(i.comment.data,function(i,s){return e("div",{key:s,staticClass:"text"},[e("span",[t._v(t._s(i.thing_user_name)+"：")]),t._v("\n            "+t._s(i.content)+"\n          ")])}))]):t._e()])])}))},staticRenderFns:[]};var d=e("VU/8")(r,l,!1,function(t){e("nSUO")},"data-v-1049831a",null).exports,u={data:function(){return{}},props:{list:[Object,Array],isShow:{type:String}},components:{Card:o.a,PanelGroup:d}},h={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[1==this.isShow?i("Card",{attrs:{items:this.list}}):i("PanelGroup",{attrs:{items:this.list}})],1)},staticRenderFns:[]};var _,m=e("VU/8")(u,h,!1,function(t){e("HoL5")},"data-v-74893908",null).exports,p=e("msXN"),v=e("oFuF"),f=e("eKM9"),g=Object(f.a)({name:"thingcirle-home",data:function(){return{tab_active:1,tabs:[{name:"关注"},{name:"发现"},{name:"附近"}],params:{page_index:1,page_size:10,search_text:"",lng:"",lat:"",follow:""},pos:{lng:"",lat:""},isShow:"1"}},mixins:[p.e],mounted:function(){this.location(),this.loadList(),this.getShareInfo()},methods:{loadList:function(t){var i=this;t&&"init"===t&&i.initList(),Object(c.r)(i.params).then(function(e){var s=e.data,n=s.data;i.isShow=s.display_model,i.pushToList(n,s.page_count,t)})},onTab:function(t){0==t?(this.params.lng="",this.params.lat="",this.params.follow=1):1==t?(this.params.lng="",this.params.lat="",this.params.follow=""):2==t&&(this.params.lng=this.pos.lng,this.params.lat=this.pos.lat,this.params.follow=""),this.loadList("init")},location:function(){var t=this;t.$store.dispatch("getBMapLocation").then(function(i){var e=i.location;t.pos.lng=e.lng,t.pos.lat=e.lat}).catch(function(t){})},onSearch:function(){this.loadList("init")},toMessage:function(){this.$router.push("/message")},getShareInfo:function(){var t=this;Object(c.j)().then(function(i){var e=i.data;t.onShare({title:e.other_title?e.other_title:"好物圈",desc:e.other_describe?e.other_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:e.other_pic,link:t.$store.state.domain+"/wap"+t.$route.path+Object(v.k)(t.$route.query,"extend_code")})})}},components:(_={},n()(_,a.a.name,a.a),n()(_,"CellInfoGroup",m),_)}),b={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcirle-home"},[e("div",{staticClass:"head"},[e("div",{staticClass:"head-content"},[e("div",{staticClass:"head-tab"},[e("van-tabs",{on:{change:t.onTab},model:{value:t.tab_active,callback:function(i){t.tab_active=i},expression:"tab_active"}},t._l(t.tabs,function(t,i){return e("van-tab",{key:i,attrs:{title:t.name}})})),t._v(" "),e("van-icon",{staticClass:"icon",attrs:{name:"chat-o",size:"20px"},on:{click:t.toMessage}})],1),t._v(" "),e("van-search",{attrs:{placeholder:"大家都在搜"},on:{search:t.onSearch},model:{value:t.params.search_text,callback:function(i){t.$set(t.params,"search_text",i)},expression:"params.search_text"}})],1)]),t._v(" "),e("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{message:"暂无干货",showFoot:!1}},on:{"update:error":function(i){t.error=i},load:t.loadList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[e("CellInfoGroup",{attrs:{list:t.list,isShow:t.isShow}})],1)],1)},staticRenderFns:[]};var C=e("VU/8")(g,b,!1,function(t){e("X1li")},"data-v-7d08b26e",null);i.default=C.exports},viGl:function(t,i){},wCfX:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("eKM9"),n=e("wj26"),a={data:function(){return{}},props:{info:[Object]},methods:{toFollow:function(){this.$router.push({path:"follow"})},toFans:function(){this.$router.push({path:"fans"})},toMessage:function(){this.$router.push("/message")}}},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"head"},[e("div",{staticClass:"info"},[e("div",{staticClass:"avator"},[e("img",{attrs:{src:t.info.user_headimg,onerror:t.$ERRORPIC.noAvatar}})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"name"},[t._v(t._s(t.info.thing_user_name?t.info.thing_user_name:"匿名"))]),t._v(" "),e("div",{staticClass:"number"},[t._v("好物圈号："+t._s(t.info.thing_circle_uid))])]),t._v(" "),e("van-icon",{staticClass:"icon",attrs:{name:"chat-o",size:"20px"},on:{click:t.toMessage}})],1),t._v(" "),e("div",{staticClass:"box"},[e("div",{on:{click:t.toFollow}},[t._v("关注"+t._s(t.info.attentions?t.info.attentions:0))]),t._v(" "),e("div",{on:{click:t.toFans}},[t._v("粉丝"+t._s(t.info.fans?t.info.fans:0))]),t._v(" "),e("div",[t._v("获赞"+t._s(t.info.likes?t.info.likes:0))])])])},staticRenderFns:[]};var c=e("VU/8")(a,o,!1,function(t){e("WOwl")},"data-v-f4bc2a92",null).exports,r={data:function(){return{}},props:{items:[Object,Array]},filters:{getformate:function(t,i){return t?t.split("-")[i]:t},isToday:function(t){if(new Date(t).toDateString()==(new Date).toDateString())return"今天"}},methods:{toDetail:function(t,i){1==i?this.$router.push({name:"thingcircle-grapdetail",params:{thingid:t}}):this.$router.push({name:"thingcircle-vediodetail",params:{thingid:t}})}}},l={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrap"},t._l(t.items,function(i,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"date"},[e("span",[t._v(t._s(t._f("getformate")(i.create_day,2)))]),t._v(" "),e("span",{staticClass:"month"},[t._v(t._s(t._f("getformate")(i.create_day,1))+"月")])]),t._v(" "),e("div",{staticClass:"boxes"},t._l(i.child_data,function(i,s){return e("div",{key:s,staticClass:"content",on:{click:function(e){t.toDetail(i.id,i.thing_type)}}},[1==i.thing_type?e("img",{attrs:{src:i.img_temp_array.length>0?i.img_temp_array[0].pic_cover:"",onerror:t.$ERRORPIC.noGoods}}):e("img",{attrs:{src:i.video_img.pic_cover,onerror:t.$ERRORPIC.noGoods}}),t._v(" "),e("span",[t._v(t._s(i.title?i.title:i.content))])])}))])}))},staticRenderFns:[]};var d=e("VU/8")(r,l,!1,function(t){e("MzED")},"data-v-4aa76686",null).exports,u=e("inzt"),h=e("oFuF"),_=e("msXN"),m=Object(s.a)({name:"thingcirle-mine",data:function(){return{active:0,isShow:1,params:{page_index:1,page_size:10},userInfo:{},tabTitle:[{title:"干货 "},{title:"收藏 "},{title:"点赞 "}],flag:!0}},mixins:[_.e],mounted:function(){this.loadList(),this.getUserInfo(),this.getShareInfo()},methods:{loadList:function(t){var i=this;t&&"init"===t&&i.initList(),Object(u.w)(i.params).then(function(e){var s=e.data;i.isShow=s.display_model,i.flag=!0;var n=s.data;i.pushToList(n,s.page_count,t)})},onTab:function(t){if(this.params.thing_option=t+1,0==this.flag)return!1;this.flag=!1,this.loadList("init")},getUserInfo:function(){var t=this;Object(u.v)().then(function(i){var e=i.data;t.userInfo=e})},getShareInfo:function(){var t=this;Object(u.j)().then(function(i){var e=i.data;t.onShare({title:e.other_title?e.other_title:"好物圈",desc:e.other_describe?e.other_describe:"我刚刚在"+t.$store.getters.config.mall_name+"发现了一个很不错的好物圈，赶快来看看吧。",imgUrl:e.other_pic,link:t.$store.state.domain+"/wap"+t.$route.path+Object(h.k)(t.$route.query,"extend_code")})})}},components:{Header:c,Card:n.a,DailyGroup:d}}),p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"thingcirle-mine"},[e("Header",{attrs:{info:t.userInfo}}),t._v(" "),e("div",{staticClass:"tab"},[e("van-tabs",{on:{change:t.onTab},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.tabTitle,function(t,i){return e("van-tab",{key:i,attrs:{title:t.title}})}))],1),t._v(" "),e("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{message:"暂无干货",showFoot:!1}},on:{"update:error":function(i){t.error=i},load:t.loadList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[1==t.isShow?e("Card",{attrs:{items:t.list}}):e("DailyGroup",{attrs:{items:t.list}})],1)],1)},staticRenderFns:[]};var v=e("VU/8")(m,p,!1,function(t){e("qJ8N")},"data-v-b6917c04",null);i.default=v.exports},wj26:function(t,i,e){"use strict";var s=e("inzt"),n={data:function(){return{color:{yes:"cr-ff454e",no:"cr-999"}}},props:{items:[Object,Array]},mounted:function(){},methods:{toDetail:function(t,i){1==i?this.$router.push({name:"thingcircle-grapdetail",params:{thingid:t}}):this.$router.push({name:"thingcircle-vediodetail",params:{thingid:t}})},onFabulous:function(t){var i={thing_id:t.id};Object(s.p)(i).then(function(i){1==i.code&&("取消点赞成功"==i.message?t.is_like=0:t.is_like=1,t.likes=i.count)})}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"waterfall"},t._l(t.items,function(i,s){return e("div",{key:s,staticClass:"item"},[e("div",{on:{click:function(e){t.toDetail(i.id,i.thing_type)}}},[1==i.thing_type?e("img",{staticClass:"img",attrs:{src:i.img_temp_array.length>0?i.img_temp_array[0].pic_cover:"",onerror:t.$ERRORPIC.noGoods}}):e("img",{staticClass:"img",attrs:{src:i.video_img.pic_cover,onerror:t.$ERRORPIC.noGoods}}),t._v(" "),e("p",{staticClass:"title"},[t._v(t._s(i.title))])]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"user-info"},[e("img",{staticClass:"portrait",attrs:{src:i.user_headimg,onerror:t.$ERRORPIC.noAvatar}}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(i.thing_user_name))])]),t._v(" "),e("div",{staticClass:"fabulous",on:{click:function(e){t.onFabulous(i)}}},[e("van-icon",{class:i.is_like?t.color.yes:t.color.no,attrs:{name:i.is_like?"like":"like-o",size:"12px"}}),t._v(" "),e("span",[t._v(t._s(t._f("praise")(i.likes)))])],1)])])}))},staticRenderFns:[]};var o=e("VU/8")(n,a,!1,function(t){e("Xih3")},"data-v-78b4e940",null);i.a=o.exports},yqKL:function(t,i){},"z+/e":function(t,i){},zu9a:function(t,i,e){"use strict";var s=e("bOdI"),n=e.n(s),a=(e("nOaS"),e("pIDD")),o=e("msXN"),c=e("VKKs"),r={data:function(){return{}},props:{isShow:[Boolean]},mounted:function(){},methods:{},components:{}},l={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"popup-wrap"},[this.isShow?i("div",{staticClass:"popup-overlay"}):this._e(),this._v(" "),this.isShow?i("div",{staticClass:"popup--bottom"},[this._t("content")],2):this._e()])},staticRenderFns:[]};var d=e("VU/8")(r,l,!1,function(t){e("M+uL")},"data-v-fb8d2c9a",null).exports,u=e("inzt"),h={data:function(){return{color:{yes:"cr-ff454e",no:"cr-999"},params:{page_index:1,page_size:10,thing_id:""},show:!1,ans:{},is_more:[],from_uid:null,is_self:null,is_author:null,flag_like:!0}},props:{user_id:[String,Number],tid:[String,Number]},mixins:[o.e],computed:{thing_id:function(){return this.$route.params.thingid},uid:function(){var t=null;return this.$store.state.member.info&&(t=this.$store.state.member.info.uid),t}},watch:{tid:function(t){return this.loadList("init")}},mounted:function(){this.loadList()},methods:{loadList:function(t){var i=this;t&&"init"===t&&i.initList(),i.is_more=[],i.params.thing_id=i.tid?i.tid:i.thing_id,Object(u.f)(i.params).then(function(e){var s=e.data,n=s.data;s.data.forEach(function(t){t.reply_list.total_count>1?i.is_more.push(1):i.is_more.push(0)}),i.pushToList(n,s.page_count,t)})},onFabulous:function(t,i){var e=this,s={comment_id:t.id};if(0==e.flag_like)return!1;e.flag_like=!1,Object(u.q)(s).then(function(i){1==i.code&&("取消点赞成功"==i.message?t.is_like=0:t.is_like=1,t.comment_likes=i.count,t.like_count=i.count),e.flag_like=!0})},onReflex:function(t,i,e){this.show=!0,this.from_uid=t.from_uid,this.ans={data:t,hash:i,id:e}},onAnswer:function(){this.show=!1;var t={to_uid:this.ans.data.from_uid,comment_pid:this.ans.id,people:this.ans.data.thing_user_name?this.ans.data.thing_user_name:"匿名",hash:this.ans.hash};this.$emit("click-answer",t)},onMoreReply:function(t,i,e){var s=this,n={thing_id:t,comment_pid:i};Object(u.u)(n).then(function(t){var i=t.data;s.list[e].reply_list.data=i.data,s.is_more[e]=0})},onDelete:function(){var t=this;t.isLoign();var i={comment_id:this.ans.data.id};Object(u.d)(i).then(function(i){1==i.code&&(t.$Toast("删除成功!"),t.show=!1,t.loadList("init"))})},onReport:function(){this.isLoign(),this.$router.push({name:"thingcircle-report",params:{commentid:this.ans.data.id}})},isLoign:function(){if(this.$store.getters.token)return!1;Object(c.i)("toPath",this.$router.currentRoute.fullPath),this.$router.replace({name:"login"})}},components:n()({Popup:d},a.a.name,a.a)},_={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"section"},[e("List",{staticClass:"list",attrs:{finished:t.finished,error:t.error,"is-empty":t.isListEmpty,empty:{message:"暂无评论",showFoot:!1}},on:{"update:error":function(i){t.error=i},load:t.loadList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,function(i,s){return e("div",{key:s,staticClass:"comment"},[e("div",{staticClass:"comment-info"},[e("div",{staticClass:"user"},[e("div",{staticClass:"avatar avatar-M type-outline"},[e("div",{staticClass:"avatar-img"},[e("img",{attrs:{src:i.user_headimg?i.user_headimg:t.$ERRORPIC.noAvatar,onerror:t.$ERRORPIC.noAvatar}})])]),t._v(" "),e("div",{staticClass:"user-info"},[e("h4",{staticClass:"user-nickname"},[e("label",[t._v(t._s(i.thing_user_name?i.thing_user_name:"匿名"))]),t._v(" "),i.is_author?e("van-tag",{attrs:{type:"danger"}},[t._v("作者")]):t._e()],1),t._v(" "),e("span",{staticClass:"publish-time"},[t._v(t._s(t._f("getTimer")(i.create_time)))])])]),t._v(" "),e("div",{staticClass:"comment-stats",on:{click:function(e){t.onFabulous(i)}}},[e("span",{staticClass:"likes"},[e("van-icon",{class:i.is_like?t.color.yes:t.color.no,attrs:{name:i.is_like?"like":"like-o",size:"14px"}}),t._v(" "),e("label",[t._v(t._s(t._f("praise")(i.like_count)))])],1)])]),t._v(" "),e("p",{staticClass:"content-text",on:{click:function(e){t.onReflex(i,"#parentComment",i.id)}}},[t._v(t._s(i.content))]),t._v(" "),i.reply_list.total_count>0?e("div",{staticClass:"replies"},[t._l(i.reply_list.data,function(s,n){return e("div",{key:n,staticClass:"reply"},[e("div",{staticClass:"replier"},[e("div",{staticClass:"cube-image"},[e("img",{attrs:{src:s.user_headimg,onerror:t.$ERRORPIC.noAvatar}})]),t._v(" "),e("div",{staticClass:"rep-name"},[e("label",[t._v(t._s(s.thing_user_name?s.thing_user_name:"匿名"))]),t._v(" "),s.is_author?e("van-tag",{attrs:{type:"danger"}},[t._v("作者")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"rep-content",on:{click:function(e){t.onReflex(s,"#childComment",i.id)}}},[e("span",[t._v("回复")]),t._v(" "),e("span",{staticClass:"to"},[t._v(t._s(s.to_thing_user_name?s.to_thing_user_name:"匿名"))]),t._v("\n            ："+t._s(s.content)+"\n          ")]),t._v(" "),e("div",{staticClass:"rep-stats",on:{click:function(i){t.onFabulous(s,"child")}}},[e("van-icon",{class:s.is_like?t.color.yes:t.color.no,attrs:{name:s.is_like?"like":"like-o",size:"14px"}}),t._v(" "),e("span",{staticClass:"num"},[t._v(t._s(t._f("praise")(s.comment_likes)))])],1)])}),t._v(" "),i.reply_list.total_count>1?e("p",{staticClass:"sub-total"},[t.is_more[s]?e("span",{staticClass:"text",on:{click:function(e){t.onMoreReply(i.thing_id,i.id,s)}}},[t._v("展开更多回复")]):t._e()]):t._e()],2):t._e()])})),t._v(" "),e("Popup",{attrs:{isShow:t.show}},[e("div",{staticClass:"pupop-wrap",attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"cell"},[e("div",{on:{click:t.onAnswer}},[t._v("回复")]),t._v(" "),t.uid==t.from_uid?e("div",{on:{click:t.onDelete}},[t._v("删除")]):e("div",{on:{click:t.onReport}},[t._v("举报")])]),t._v(" "),e("div",{staticClass:"cancle",on:{click:function(i){t.show=!1}}},[t._v("取消")])])]),t._v(" "),t._t("bottomFixed")],2)},staticRenderFns:[]};var m=e("VU/8")(h,_,!1,function(t){e("LUf4")},"data-v-f241273a",null);i.a=m.exports}});